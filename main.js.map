{"version":3,"file":"main.js","mappings":"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lB;AAED,0FAAoB,CAAC,MAAM,CAAC,CAAC;AAC7B,wEAAwB,CAAC,eAAe,CAAC,sDAAS,CAAC,CAAC;;;;;;;;;;;ACXpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA","sources":["./src/app/Menu/menu.component.ts","./src/app/Menu/menu.service.ts","./src/app/app-home.component.ts","./src/app/app.component.ts","./src/app/app.component.html","./src/app/app.module.ts","./src/app/app.routing.ts","./src/app/app.settings.ts","./src/app/common.module.ts","./src/app/gx/auth/auth-interceptor.ts","./src/app/gx/auth/auth.service.ts","./src/app/gx/auth/gam.service.ts","./src/app/gx/auth/gamuser.dt.ts","./src/app/gx/base/action-state.dt.ts","./src/app/gx/base/app-bar.service.ts","./src/app/gx/base/app-container.ts","./src/app/gx/base/global-events.ts","./src/app/gx/base/grid-data.ts","./src/app/gx/base/gxbinary.dt.ts","./src/app/gx/base/gxcollection.dt.ts","./src/app/gx/base/gximage.dt.ts","./src/app/gx/base/image.service.ts","./src/app/gx/base/lazy-loader.service.ts","./src/app/gx/base/panel.component.ts","./src/app/gx/base/panel.service.ts","./src/app/gx/base/translation.service.ts","./src/app/gx/base/type-conversion.ts","./src/app/gx/base/view-manager.ts","./src/app/gx/base/visibility.service.ts","./src/app/gx/base/visible-with.directive.ts","./src/app/gx/http/cache/request-cache-local-storage.ts","./src/app/gx/http/cache/request-cache-storage.ts","./src/app/gx/http/url-caching-interceptor.ts","./src/app/gx/navigation/composite-navigation.ts","./src/app/gx/navigation/navigation-event.dt.ts","./src/app/gx/navigation/navigation-helper.ts","./src/app/gx/navigation/navigation-options-manager.ts","./src/app/gx/navigation/navigation-state.ts","./src/app/gx/navigation/outlets-helper.ts","./src/app/gx/navigation/outlets-navigation.ts","./src/app/gx/navigation/panel-navigation-state.dt.ts","./src/app/gx/navigation/router-navigation.ts","./src/app/gx/std/client-storage.ts","./src/app/gx/std/prefers-color-scheme.ts","./src/app/gx/ui/animations.ts","./src/app/gx/ui/controls/action-group/action-group.component.ts","./src/app/gx/ui/controls/action-group/action-group.component.html","./src/app/gx/ui/controls/audio-controller/audio-controller.component.ts","./src/app/gx/ui/controls/audio-controller/audio-controller.component.html","./src/app/gx/ui/controls/component-host/component-host.component.ts","./src/app/gx/ui/controls/component-host/component-host.component.html","./src/app/gx/ui/controls/component-host/component-outlet.directive.ts","./src/app/gx/ui/controls/file-upload/file-upload.component.ts","./src/app/gx/ui/controls/file-upload/file-upload.component.html","./src/app/gx/ui/controls/form/form-properties.directive.ts","./src/app/gx/ui/controls/geolocation/geolocation.component.ts","./src/app/gx/ui/controls/geolocation/geolocation.component.html","./src/app/gx/ui/controls/image-upload/image-upload.component.ts","./src/app/gx/ui/controls/image-upload/image-upload.component.html","./src/app/gx/ui/controls/messages/messages.component.ts","./src/app/gx/ui/controls/messages/messages.component.html","./src/app/gx/ui/controls/progress/progress.component.ts","./src/app/gx/ui/controls/progress/progress.component.html","./src/app/gx/ui/controls/progress/progress.service.ts","./src/app/gx/ui/controls/timer/timer.component.ts","./src/app/gx/ui/controls/timer/timer.component.html","./src/app/gx/ui/model/ui-list.ts","./src/app/gx/utils/binary-to-url.pipe.ts","./src/app/gx/utils/class-split.pipe.ts","./src/app/gx/utils/date-to-iso-string.pipe.ts","./src/app/gx/utils/datetime-to-iso-string.pipe.ts","./src/app/gx/utils/default.pipe.ts","./src/app/gx/utils/geography-to-coords.pipe.ts","./src/app/gx/utils/guid-to-string.pipe.ts","./src/app/gx/utils/image-source.pipe.ts","./src/app/gx/utils/image-to-url.pipe.ts","./src/app/gx/utils/json-to-gauge.pipe.ts","./src/app/gx/utils/not.pipe.ts","./src/app/gx/utils/resolve-relative-url/resolve-relative-url.pipe.ts","./src/app/gx/utils/time-to-iso-string.pipe.ts","./src/app/gx/utils/translate.pipe.ts","./src/app/gx/utils/uri-cache/load-cached-uri.pipe.ts","./src/app/gx/utils/uri-cache/uri-cache.service.ts","./src/app/main.module.ts","./src/environments/environment.ts","./src/main.ts","./node_modules/@genexus/web-controls-library/dist/esm|lazy|/^/.*/.entry/.js$/|include: /.entry/.js$/|exclude: /.system/.entry/.js$/|groupOptions: {}|namespace object"],"sourcesContent":["import { Component, Input, ChangeDetectorRef } from '@angular/core';\r\nimport { AppContainer } from 'app/gx/base/app-container';\r\nimport { ActivatedRoute } from '@angular/router';\r\nimport { CompositeNavigation } from 'app/gx/navigation/composite-navigation';\r\nimport { PanelComponent} from 'app/gx/base/panel.component';\r\nimport { GAMService} from \"app/gx/auth/gam.service\";\r\nimport { AppBarService } from \"app/gx/base/app-bar.service\";\r\n\r\nimport { MenuService } from './menu.service';\r\nimport { GlobalEvents } from 'app/gx/base/global-events';\r\n\r\n@Component({\r\n  selector: 'Menu',\r\n  templateUrl: './menu.component.html',\r\n  providers: [\r\n    MenuService,\r\n  ],\r\n  styles: [\":host { display: flex; flex: 1; }\"]\r\n})\r\nexport class MenuComponent extends PanelComponent {\r\n\r\n  showNavbarOptions = false;\r\n\r\n  g1: any;\r\n\r\n\r\n  constructor(\r\n      private panelService: MenuService,\r\n      private _globalevents : GlobalEvents,\r\n      protected gam: GAMService,\r\n      public app:AppContainer,\r\n      protected nvg:CompositeNavigation,\r\n      protected activatedRoute: ActivatedRoute,\r\n      private appBarService: AppBarService,\r\n      protected cdr: ChangeDetectorRef\r\n  ) {\r\n    super( app, nvg, activatedRoute, cdr);\r\n    this.g1 = null;\r\n\r\n    this.initState(null);\r\n  }\r\n\r\n  async initPanel() {\r\n    this.appBarService.setNavigation({\r\n      caption: \"\",\r\n      className: \"Menu\",\r\n      toggleButtonLabel: this.translate(\"Toggle Menu\"),\r\n      items: [\r\n        {\r\n            id: \"_GetEmoji\",\r\n            caption: \"Get Emoji\",\r\n            className: \"MenuItem\",\r\n            iconSrc: this.getImageSource(''),\r\n            onClick: this._GetEmoji,\r\n        }\r\n      ]\r\n    });\r\n\r\n  }\r\n\r\n  async loadPanel() {\r\n    if (this.nvg.emptyPrimaryOutlet()) {\r\n      this._GetEmoji();    \r\n    }\r\n  }\r\n\r\n  goPage = (id: string, element:string) => {\r\n      if (element) {\r\n        const page = element.match(/tab\\[([0-9]+)\\]/i);\r\n        if (page && page.length > 0) {\r\n          if (+page[1] === 1) {\r\n            this._GetEmoji();\r\n            return;\r\n          };\r\n        }\r\n    }\r\n  }\r\n\r\n  // Actions\r\n  _GetEmoji = async (): Promise<any> => {\r\n    const __aSt = this.startAction();\r\n    try {\r\n      await this.navigate(['GetEmoji-Level_Detail' ], __aSt);\r\n    } catch (e) {\r\n      this.processCompositeError(e);\r\n    } finally {\r\n      this.endAction(__aSt);\r\n    }\r\n  } \r\n\r\n  startEvents() {\r\n    this.g1 = this._globalevents.subscribe('gx-standard-api-to-generator_showTarget', (...parms) => {this.callAction( this.goPage, ...parms)});\r\n  }\r\n  endEvents() {\r\n    this._globalevents.unsubscribe( this.g1);\r\n  }\r\n\r\n\r\n}\r\n\r\nclass MenuUIModel {\r\n\r\n  private _host: MenuComponent;\r\n\r\n  constructor( host: MenuComponent) {\r\n    this._host = host;\r\n  }\r\n\r\n}\r\n\r\n\r\nclass MenuUIActions {\r\n\r\n  private _host: MenuComponent;\r\n\r\n  constructor( host: MenuComponent) {\r\n    this._host = host;\r\n  }\r\n\r\n}\r\n ","import { Injectable } from '@angular/core';\r\nimport { HttpHeaders, HttpClient } from '@angular/common/http';\r\nimport { Router } from \"@angular/router\";\r\n\r\nimport { Settings } from 'app/app.settings';\r\nimport { AppContainer } from 'app/gx/base/app-container';\r\nimport { PanelService } from \"app/gx/base/panel.service\";\r\nimport { EndpointConnector } from \"app/gx/base/endpoint.connector\";\r\nimport { GAMService } from \"app/gx/auth/gam.service\";\r\nimport { Type, Transform } from 'class-transformer';\r\nimport { Observable, throwError } from \"rxjs\";\r\nimport { catchError } from 'rxjs/operators';\r\n\r\n\r\nimport { GlobalEvents } from 'app/gx/base/global-events';\r\n\r\n@Injectable()\r\nexport class MenuService extends PanelService {\r\n\r\n    constructor(private http: HttpClient, private _router:Router, private _loginService: GAMService, private _app: AppContainer) {\r\n      super(_router, _loginService, _app);\r\n    }\r\n\r\n  // Data services\r\n\r\n  // Other services\r\n\r\n}\r\n\r\n// Data structures\r\n ","import { Component, OnInit } from '@angular/core';\r\nimport { Subscription } from 'rxjs';\r\nimport { ActivatedRoute } from '@angular/router';\r\nimport { CompositeNavigation } from 'app/gx/navigation/composite-navigation';\r\nimport { ActionState } from 'app/gx/base/action-state.dt';\r\n\r\n@Component({\r\n  selector: 'app-home',\r\n  template: '',\r\n})\r\n\r\nexport class AppHome implements OnInit {\r\n\r\n  subscriptions = new Subscription();\r\n\r\n  constructor( private activatedRoute: ActivatedRoute, private nvg: CompositeNavigation) { }\r\n\r\n  ngOnInit() {\r\n    this.nvg.navigateOption('Menu', 'target', 'top');\r\n    this.nvg.navigate(['Menu'], ActionState.create(\"__AppInit\", null));\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.subscriptions.unsubscribe();\r\n  }\r\n}\r\n","import { Component, OnInit, Inject, ViewChild } from \"@angular/core\";\r\nimport {\r\n  publish as gxPublish,\r\n  subscribe as gxSubscribe,\r\n  unSubscribe as gxUnSubscribe,\r\n} from \"@genexus/web-standard-functions/dist/lib-esm/web/GlobalEvents\";\r\nimport { ConfigurationState } from \"@genexus/web-standard-functions/dist/lib-esm/config/configurationState\";\r\nimport { DOCUMENT } from \"@angular/common\";\r\nimport { Subscription, timer } from \"rxjs\";\r\nimport { debounce } from \"rxjs/operators\";\r\n\r\nimport { AppContainer } from \"app/gx/base/app-container\";\r\nimport { CompositeNavigation } from \"app/gx/navigation/composite-navigation\";\r\nimport {\r\n  ProgressService,\r\n  UIProgress,\r\n} from \"app/gx/ui/controls/progress/progress.service\";\r\nimport { UIMessage } from \"app/gx/ui/controls/messages/ui-message.dt\";\r\nimport * as app_settings from \"./../../app.settings.json\";\r\nimport {\r\n  NavigationOptionsManager,\r\n  OutletOptions,\r\n} from \"app/gx/navigation/navigation-options-manager\";\r\nimport {\r\n  AppBarService,\r\n  AppBarNavigation,\r\n  AppBarNavigationItem,\r\n} from \"app/gx/base/app-bar.service\";\r\nimport { IButtonElement } from \"app/gx/ui/model/ui-button\";\r\nimport { NavigationStyle } from \"app/gx/base/view-manager\";\r\nimport {\r\n  createEnterLeaveAnimation,\r\n  createFadeInOutAnimation,\r\n} from \"app/gx/ui/animations\";\r\nimport { PrefersColorScheme } from \"./gx/std/prefers-color-scheme\";\r\n\r\nconst ApplicationSettings = app_settings[\"default\"];\r\n\r\nconst DEFAULT_ISLOADING_UPDATE_DELAY =\r\n  ApplicationSettings.DEFAULT_ISLOADING_UPDATE_DELAY || 300;\r\n\r\nconst appBarItemEnterLeaveAnimation = createFadeInOutAnimation(\r\n  \"appBarItemEnterLeaveAnimation\"\r\n);\r\nconst contentEnterLeaveAnimation = createEnterLeaveAnimation(\r\n  \"contentEnterLeaveAnimation\",\r\n  \"auto\"\r\n);\r\n\r\n@Component({\r\n  selector: \"my-app\",\r\n  templateUrl: \"app.component.html\",\r\n  styles: [\":host { display: block; }\"],\r\n  styleUrls: [\"./styles.css\"],\r\n  animations: [\r\n    appBarItemEnterLeaveAnimation,\r\n    contentEnterLeaveAnimation,\r\n  ],\r\n})\r\nexport class AppComponent implements OnInit {\r\n  appMessage: UIMessage;\r\n  appProgress: UIProgress;\r\n\r\n  msgSubscription: any;\r\n  confirmSubscription: any;\r\n\r\n  leftVisible = false;\r\n  rightVisible = false;\r\n  topVisible = false;\r\n  bottomVisible = false;\r\n  popupVisible = false;\r\n  topApplicationBarVisible = false;\r\n  bottomApplicationBarVisible = false;\r\n  applicationBarSingleLine = true;\r\n\r\n  leftComponent = null;\r\n  rightComponent = null;\r\n  topComponent = null;\r\n  bottomComponent = null;\r\n  popupComponent = null;\r\n\r\n  popupStyle = null;\r\n\r\n  setOutletSubscription: any;\r\n  @ViewChild(\"leftOutlet\", { static: false }) leftOutlet;\r\n  @ViewChild(\"rightOutlet\", { static: false }) rightOutlet;\r\n  @ViewChild(\"topOutlet\", { static: false }) topOutlet;\r\n  @ViewChild(\"bottomOutlet\", { static: false }) bottomOutlet;\r\n  @ViewChild(\"popupOutlet\", { static: false }) popupOutlet;\r\n  showTargetSubscription: any;\r\n  hideTargetSubscription: any;\r\n  dsSetOptionSubscription: any;\r\n  prefersColorSchemeSubscription: any;\r\n\r\n  isLoading = false;\r\n\r\n  constructor(\r\n    private app: AppContainer,\r\n    private nvg: CompositeNavigation,\r\n    private progress: ProgressService,\r\n    @Inject(DOCUMENT) private document: Document,\r\n    private appBarService: AppBarService\r\n  ) {\r\n    this.appBarNavigationSubscription = this.appBarService.navigationChange.subscribe(\r\n      (navigation) => {\r\n        setTimeout(() => {\r\n          this.appBarNavigation = {\r\n            ...this.appBarNavigation,\r\n            ...navigation,\r\n          };\r\n          this.updateApplicationBarVisibility();\r\n        });\r\n      }\r\n    );\r\n    this.appBarActionsSubscription = this.appBarService.actionsChange\r\n      .subscribe((actions) => {\r\n        setTimeout(() => {\r\n          this.appBarActions = actions.map((action) => ({\r\n            ...action,\r\n            slotName: `${action.priority.toLowerCase()}-priority-action`,\r\n          }));\r\n          this.updateApplicationBarVisibility();\r\n        });\r\n      });\r\n  }\r\n\r\n  private appBarNavigationSubscription: Subscription;\r\n  private appBarNavigation: AppBarNavigation = {\r\n    items: [],\r\n  };\r\n\r\n  private appBarActionsSubscription: Subscription;\r\n  private appBarActions: IButtonElement[] = [];\r\n\r\n  private adjustHeightOnMobileDevice() {\r\n    const { innerHeight } = window;\r\n    this.document.documentElement.style.setProperty('--vh', `${innerHeight}px`);\r\n  }\r\n\r\n  async ngOnInit() {\r\n    this.document.documentElement.lang = \"en\";\r\n\r\n    // If we are on a mobile device\r\n    if (window.innerWidth <= 768) {\r\n      this.adjustHeightOnMobileDevice();\r\n\r\n      // We listen to the resize event\r\n      window.addEventListener('resize', () => {\r\n        this.adjustHeightOnMobileDevice();\r\n      }, { passive: true });\r\n    }\r\n\r\n    this.msgSubscription = gxSubscribe(\r\n      \"gx-standard-api-to-generator_msg\",\r\n      (id: string, msg: string, type: string) => {\r\n        if (\r\n          type.toLocaleLowerCase() === \"nowait\" ||\r\n          type.toLocaleLowerCase() === \"status\"\r\n        )\r\n          this.appMessage = {\r\n            id: id,\r\n            text: msg,\r\n            type: \"message\",\r\n            onConfirm: () => {\r\n              gxPublish(\"gx-standard-api-to-generator_msg_\" + id + \"_ok\");\r\n            },\r\n          };\r\n        else {\r\n          this.appMessage = {\r\n            id: id,\r\n            text: msg,\r\n            type: \"error\",\r\n            onConfirm: () => {\r\n              gxPublish(\"gx-standard-api-to-generator_msg_\" + id + \"_ok\");\r\n            },\r\n          };\r\n        }\r\n      }\r\n    );\r\n\r\n    this.confirmSubscription = gxSubscribe(\r\n      \"gx-standard-api-to-generator_confirm\",\r\n      (id: string, msg: string) => {\r\n        this.appMessage = {\r\n          id: id,\r\n          text: msg,\r\n          type: \"confirm\",\r\n          onConfirm: () => {\r\n            gxPublish(\"gx-standard-api-to-generator_confirm_\" + id + \"_ok\");\r\n          },\r\n          onCancel: () => {\r\n            gxPublish(\"gx-standard-api-to-generator_confirm_\" + id + \"_cancel\");\r\n          },\r\n        };\r\n      }\r\n    );\r\n\r\n    this.showTargetSubscription = gxSubscribe(\r\n      \"gx-standard-api-to-generator_showTarget\",\r\n      (id: string, element: string) => {\r\n        this.showOutlet(element, true);\r\n        gxPublish(\"gx-standard-api-to-generator_showTarget_\" + id + \"_ok\");\r\n      }\r\n    );\r\n\r\n    this.hideTargetSubscription = gxSubscribe(\r\n      \"gx-standard-api-to-generator_hideTarget\",\r\n      (id: string, element: string) => {\r\n        this.showOutlet(element, false);\r\n        gxPublish(\"gx-standard-api-to-generator_hideTarget_\" + id + \"_ok\");\r\n      }\r\n    );\r\n\r\n    this.dsSetOptionSubscription = gxSubscribe(\r\n      \"gx-standard-api-to-generator_dsSetOption\",\r\n      (id: string, name: string, value: string) => {\r\n        this.dsSetOption(name, value);\r\n        gxPublish(\"gx-standard-api-to-generator_dsSetOption_\" + id + \"_ok\");\r\n      }\r\n    );\r\n\r\n    this.setOutletSubscription = gxSubscribe(\r\n      \"gx-app-setOutlet\",\r\n      (outlet: string, component: string, options: OutletOptions) => {\r\n        this.setOutlet(outlet, component, options);\r\n      }\r\n    );\r\n\r\n    this.prefersColorSchemeSubscription = PrefersColorScheme.getObservable().subscribe(() => {\r\n      this.app.refreshUIContext();\r\n    });\r\n\r\n    this.progress.getObservable().subscribe((prog) => {\r\n      this.appProgress = prog;\r\n    });\r\n\r\n    this.nvg.loadingStateChange$\r\n      .pipe(debounce(() => timer(DEFAULT_ISLOADING_UPDATE_DELAY)))\r\n      .subscribe((isLoading) => {\r\n        setTimeout(() => {\r\n          this.isLoading = isLoading;\r\n        });\r\n      });\r\n\r\n    ConfigurationState.loadApplicationSettings(ApplicationSettings);\r\n\r\n    this.app.setSession();\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    gxUnSubscribe(this.msgSubscription);\r\n    gxUnSubscribe(this.confirmSubscription);\r\n    gxUnSubscribe(this.showTargetSubscription);\r\n    gxUnSubscribe(this.hideTargetSubscription);\r\n    gxUnSubscribe(this.setOutletSubscription);\r\n    gxUnSubscribe(this.dsSetOptionSubscription);\r\n    this.appBarNavigationSubscription.unsubscribe();\r\n    this.appBarActionsSubscription.unsubscribe();\r\n    this.prefersColorSchemeSubscription.unsubscribe();\r\n\r\n  }\r\n\r\n  onPopupClose() {\r\n    if (this.popupVisible) {\r\n      this.popupOutlet.cancel();\r\n    }\r\n  }\r\n\r\n  showOutlet(target: string, value: boolean) {\r\n    if (target === null) {\r\n      // primary outlet\r\n      if (value) {\r\n        // hide secondaries to show it\r\n        this.leftVisible = false;\r\n        this.rightVisible = false;\r\n        this.topVisible = false;\r\n        this.bottomVisible = false;\r\n      }\r\n    } else {\r\n      // secondary outlets\r\n      target = target.toLowerCase();\r\n      if (target === \"left\") {\r\n        this.leftVisible = value;\r\n      } else if (target === \"right\") {\r\n        this.rightVisible = value;\r\n      } else if (target === \"top\") {\r\n        this.topVisible = value;\r\n      } else if (target === \"bottom\") {\r\n        this.bottomVisible = value;\r\n      }\r\n    }\r\n  }\r\n\r\n  setOutlet(target: string, component: string, options: OutletOptions = null) {\r\n    target = target.toLowerCase();\r\n    if (target === \"left\") {\r\n      this.leftComponent = component;\r\n      this.leftOutlet.start();\r\n    } else if (target === \"right\") {\r\n      this.rightComponent = component;\r\n      this.rightOutlet.start();\r\n    } else if (target === \"top\") {\r\n      this.topComponent = component;\r\n      this.topOutlet.start();\r\n    } else if (target === \"bottom\") {\r\n      this.bottomComponent = component;\r\n      this.bottomOutlet.start();\r\n    } else if (target === \"popup\") {\r\n      if (component) {\r\n        this.setPopupOptions(options);\r\n        this.popupComponent = component;\r\n        this.popupVisible = true;\r\n        this.popupOutlet.start();\r\n      } else {\r\n        this.setPopupOptions(options);\r\n        this.popupComponent = null;\r\n        this.popupVisible = false;\r\n      }\r\n    }\r\n  }\r\n\r\n  dsSetOption(name: string, value: string) {\r\n    this.app.refreshUIContext();\r\n  }\r\n\r\n  setPopupOptions(options: OutletOptions) {\r\n    if (options) {\r\n      this.popupStyle = {};\r\n      this.popupStyle[\"max-width\"] = \"90vw\";\r\n      this.popupStyle[\"max-height\"] = \"70vh\";\r\n\r\n      if (options.size) {\r\n        if (options.size === NavigationOptionsManager.TARGET_SIZE_SMALL_ID) {\r\n          this.popupStyle[\"height\"] = \"400px\";\r\n        } else if (\r\n          options.size === NavigationOptionsManager.TARGET_SIZE_MEDIUM_ID\r\n        ) {\r\n          this.popupStyle[\"height\"] = \"500px\";\r\n        } else if (\r\n          options.size === NavigationOptionsManager.TARGET_SIZE_LARGE_ID\r\n        ) {\r\n          this.popupStyle[\"height\"] = \"800px\";\r\n        }\r\n      } else {\r\n        this.popupStyle[\"min-height\"] = \"50vh\";\r\n      }\r\n      if (options.width) {\r\n        this.popupStyle[\"width\"] = options.width;\r\n      }\r\n      if (options.width) {\r\n        this.popupStyle[\"height\"] = options.height;\r\n      }\r\n    }\r\n  }\r\n\r\n  updateApplicationBarVisibility() {\r\n    const { appBarNavigation, appBarActions } = this;\r\n\r\n    this.topApplicationBarVisible =\r\n      appBarNavigation.visible &&\r\n      (appBarNavigation.caption != null && appBarNavigation.caption.length > 0) ||\r\n      (appBarNavigation.navigationStyle === NavigationStyle.Slide ||\r\n        appBarNavigation.items.length > 0 ||\r\n        appBarActions.length > 0);\r\n\r\n    this.bottomApplicationBarVisible =\r\n      appBarNavigation.visible && appBarNavigation.items.length > 0;\r\n  }\r\n\r\n  handleToggleButtonClick() {\r\n    this.leftVisible = !this.leftVisible;\r\n  }\r\n\r\n  handleBackButtonClick() {\r\n    if (this.appBarNavigation.onBackButtonClick) {\r\n      this.appBarNavigation.onBackButtonClick();\r\n    }\r\n  }\r\n\r\n  handleLeftTargetHiddenChange(event: CustomEvent) {\r\n    this.leftVisible = !event.detail;\r\n  }\r\n\r\n  handleRightTargetHiddenChange(event: CustomEvent) {\r\n    this.rightVisible = !event.detail;\r\n  }\r\n\r\n  handleTargetsBreakpointMatchCange(event: CustomEvent) {\r\n    this.nvg.updateVerticalTargetsBreakpointMatched(event.detail.matches);\r\n  }\r\n\r\n  trackAppBarItemById(\r\n    index: number,\r\n    item: AppBarNavigationItem | IButtonElement\r\n  ) {\r\n    return item.id;\r\n  }\r\n}\r\n","<gx-navbar\r\n  caption=\"{{ appBarNavigation.caption }}\"\r\n  [ngClass]=\"appBarNavigation.className\"\r\n  [showToggleButton]=\"appBarNavigation.navigationStyle === 'slide' && leftComponent !== null\"\r\n  [showBackButton]=\"appBarNavigation.showBackButton\"\r\n  [backButtonLabel]=\"app.translate('Back')\"\r\n  [singleLine]=\"applicationBarSingleLine\"\r\n  toggleButtonLabel=\"{{ appBarNavigation.toggleButtonLabel }}\"\r\n  (toggleButtonClick)=\"handleToggleButtonClick()\"\r\n  (backButtonClick)=\"handleBackButtonClick()\"\r\n  gx-form-properties\r\n  caption=\"\"\r\n  *ngIf=\"topApplicationBarVisible\"\r\n>\r\n  <gx-navbar-item\r\n    *ngFor=\"let item of appBarNavigation.items; trackBy: trackAppBarItemById\"\r\n    (click)=\"item.onClick()\"\r\n    class=\"{{ item.className }}\"\r\n    iconSrc=\"{{ item.iconSrc }}\"\r\n    slot=\"navigation\"\r\n    [@appBarItemEnterLeaveAnimation]\r\n  >\r\n    {{ item.caption }}\r\n  </gx-navbar-item>\r\n  <gx-navbar-item\r\n    *ngFor=\"let item of appBarActions; trackBy: trackAppBarItemById\"\r\n    (click)=\"item.onClick()\"\r\n    class=\"{{ item?.class }}\"\r\n    iconSrc=\"{{ item?.iconSrc }}\"\r\n    slot=\"{{ item?.slotName }}\"\r\n  >\r\n    {{ item?.caption }}\r\n  </gx-navbar-item>\r\n</gx-navbar>\r\n<gx-layout\r\n  [ngClass]=\"{\r\n    'main-layout': true\r\n  }\"\r\n  [topHidden]=\"!topVisible\"\r\n  [rightHidden]=\"!rightVisible\"\r\n  [bottomHidden]=\"!bottomVisible\"\r\n  [leftHidden]=\"!leftVisible\"\r\n  (leftHiddenChange)=\"handleLeftTargetHiddenChange($event)\"\r\n  (rightHiddenChange)=\"handleRightTargetHiddenChange($event)\"\r\n  (verticalTargetsBreakpointMatchChange)=\"\r\n    handleTargetsBreakpointMatchCange($event)\r\n  \"\r\n>\r\n  <div class=\"ph-item\" *ngIf=\"isLoading\">\r\n    <div class=\"ph-col-12\">\r\n      <div class=\"ph-picture\"></div>\r\n      <div class=\"ph-row\">\r\n        <div class=\"ph-col-6 big\"></div>\r\n        <div class=\"ph-col-4 empty big\"></div>\r\n        <div class=\"ph-col-2 big\"></div>\r\n        <div class=\"ph-col-4\"></div>\r\n        <div class=\"ph-col-8 empty\"></div>\r\n        <div class=\"ph-col-6\"></div>\r\n        <div class=\"ph-col-6 empty\"></div>\r\n        <div class=\"ph-col-12\"></div>\r\n      </div>\r\n    </div>\r\n    <div class=\"ph-col-12\">\r\n      <div class=\"ph-picture\"></div>\r\n      <div class=\"ph-row\">\r\n        <div class=\"ph-col-6 big\"></div>\r\n        <div class=\"ph-col-4 empty big\"></div>\r\n        <div class=\"ph-col-2 big\"></div>\r\n        <div class=\"ph-col-4\"></div>\r\n        <div class=\"ph-col-8 empty\"></div>\r\n        <div class=\"ph-col-6\"></div>\r\n        <div class=\"ph-col-6 empty\"></div>\r\n        <div class=\"ph-col-12\"></div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <router-outlet\r\n    *ngIf=\"!isLoading\"\r\n    [@contentEnterLeaveAnimation]\r\n  ></router-outlet>\r\n  <gx-component-host\r\n    slot=\"top\"\r\n    #topOutlet\r\n    id=\"top\"\r\n    [componentUri]=\"topComponent\"\r\n  >\r\n  </gx-component-host>\r\n  <gx-messages [message]=\"appMessage\"></gx-messages>\r\n  <gx-progress [updateSettings]=\"appProgress\"></gx-progress>\r\n  <gx-component-host\r\n    slot=\"left\"\r\n    #leftOutlet\r\n    id=\"left\"\r\n    [componentUri]=\"leftComponent\"\r\n    class=\"vertical-target\"\r\n  >\r\n  </gx-component-host>\r\n  <gx-component-host\r\n    slot=\"right\"\r\n    #rightOutlet\r\n    id=\"right\"\r\n    [componentUri]=\"rightComponent\"\r\n    class=\"vertical-target\"\r\n  >\r\n  </gx-component-host>\r\n  <gx-component-host\r\n    slot=\"bottom\"\r\n    #bottomOutlet\r\n    id=\"bottom\"\r\n    [componentUri]=\"bottomComponent\"\r\n  >\r\n  </gx-component-host>\r\n</gx-layout>\r\n<gx-navbar\r\n  [ngClass]=\"appBarNavigation.className\"\r\n  position=\"bottom\"\r\n  gx-form-properties\r\n  *ngIf=\"bottomApplicationBarVisible\"\r\n>\r\n  <gx-navbar-item\r\n    *ngFor=\"let item of appBarNavigation.items; trackBy: trackAppBarItemById\"\r\n    (click)=\"item.onClick()\"\r\n    class=\"{{ item.className }}\"\r\n    iconSrc=\"{{ item.iconSrc }}\"\r\n    slot=\"navigation\"\r\n    [@appBarItemEnterLeaveAnimation]\r\n  >\r\n    {{ item.caption }}\r\n  </gx-navbar-item>\r\n</gx-navbar>\r\n<gx-modal [opened]=\"popupVisible\" (close)=\"onPopupClose()\">\r\n  <div slot=\"body\">\r\n    <gx-component-host\r\n      #popupOutlet\r\n      id=\"popup\"\r\n      [ngStyle]=\"popupStyle\"\r\n      [componentUri]=\"popupComponent\"\r\n    >\r\n    </gx-component-host>\r\n  </div>\r\n</gx-modal>\r\n","import { APP_INITIALIZER, CUSTOM_ELEMENTS_SCHEMA, NgModule } from \"@angular/core\";\r\nimport { FormsModule } from \"@angular/forms\";\r\nimport { BrowserModule } from \"@angular/platform-browser\";\r\nimport { HttpClientModule, HTTP_INTERCEPTORS } from \"@angular/common/http\";\r\nimport { ServiceWorkerModule } from \"@angular/service-worker\";\r\nimport { BrowserAnimationsModule } from \"@angular/platform-browser/animations\";\r\nimport { CookieService } from 'ngx-cookie-service';\r\nimport { VirtualScrollerModule } from '@genexus/ngx-virtual-scroller';\r\n\r\nimport { CommonModule as GxCommonModule } from \"./common.module\";\r\nimport { MainModule } from \"./main.module\";\r\n\r\nimport { MessagesComponent } from \"app/gx/ui/controls/messages/messages.component\";\r\nimport { ProgressComponent } from \"app/gx/ui/controls/progress/progress.component\";\r\nimport { TimerComponent } from \"app/gx/ui/controls/timer/timer.component\";\r\nimport { ActionGroupComponent } from \"app/gx/ui/controls/action-group/action-group.component\";\r\nimport { AuthInterceptor } from \"app/gx/auth/auth-interceptor\";\r\n\r\nimport { VisibilityService } from \"app/gx/base/visibility.service\";\r\n\r\nimport { AppRoutingModule } from \"app/app.routing\";\r\nimport { AppComponent } from \"app/app.component\";\r\nimport { AppHome } from 'app/app-home.component';\r\n\r\nimport { environment } from \"./../environments/environment\";\r\nimport { AppBarService } from \"./gx/base/app-bar.service\";\r\nimport { AppContainer } from \"./gx/base/app-container\";\r\n\r\n\r\n\r\n@NgModule({\r\n  imports: [\r\n    BrowserModule,\r\n    FormsModule,\r\n    AppRoutingModule,\r\n    HttpClientModule,\r\n    GxCommonModule,\r\n    MainModule,\r\n    VirtualScrollerModule,\r\n    BrowserAnimationsModule,\r\n    ServiceWorkerModule.register(\"ngsw-worker.js\", {\r\n      enabled: environment.production\r\n    })\r\n  ],\r\n  declarations: [\r\n    AppComponent,\r\n    AppHome,\r\n    MessagesComponent,\r\n    ProgressComponent,\r\n    TimerComponent,\r\n    ActionGroupComponent\r\n  ],\r\n  bootstrap: [\r\n    AppComponent\r\n  ],\r\n  providers: [\r\n    CookieService,\r\n    VisibilityService,\r\n    {\r\n      provide: HTTP_INTERCEPTORS,\r\n      useClass: AuthInterceptor,\r\n      multi: true\r\n    },\r\n    {\r\n      provide: APP_INITIALIZER,\r\n      useFactory: initializeAppFactory,\r\n      deps: [AppContainer],\r\n      multi: true\r\n    },\r\n    AppBarService\r\n  ],\r\n  schemas: [CUSTOM_ELEMENTS_SCHEMA]\r\n})\r\nexport class AppModule {\r\n}\r\n\r\nfunction initializeAppFactory(app: AppContainer): () => Promise<any> {\r\n  return async () => {\r\n    await app.setLanguage(\"English\");\r\n    await app.initApp(\"Reto Malandriner 2022\");\r\n    await app.initTheme(\"carminesd\");\r\n    return app.initTranslations();\r\n  };\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\nimport { AppHome } from 'app/app-home.component';\r\nimport { MenuComponent } from \"app/Menu/menu.component\" ;\r\n\r\nexport const moduleRoutes: Routes = [\r\n  { path:\"\", component: AppHome},\r\n  { path: \"Menu\", component: MenuComponent } ,\r\n  {\r\n    path: \"app\",\r\n    loadChildren: () => import(\"./shared.module\").then(mod => mod.SharedModule)\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forRoot(moduleRoutes, { relativeLinkResolution: 'legacy' })],\r\n  exports: [RouterModule]\r\n})\r\nexport class AppRoutingModule { }","import app_settings from \"./../../app.settings.json\";\r\nimport { ApplicationViewDefinition } from \"./gx/base/view-manager\";\r\nimport { environment } from \"./../environments/environment\";\r\nimport { ApplicationLanguageDefinition } from \"./gx/base/translation.service\";\r\n\r\nexport class Settings {\r\n  private static SERVICE_DEBUG: boolean = app_settings.SERVICE_DEBUG;\r\n  private static SERVICE_HOSTNAME: string = environment.serviceUrl || app_settings.SERVICE_HOSTNAME;\r\n  private static SERVICE_BASE_PATH: string = app_settings.SERVICE_BASE_PATH;\r\n  private static SERVICE_REST_PATH: string = app_settings.SERVICE_REST_PATH;\r\n  private static SERVICE_OAUTH_PATH: string = app_settings.SERVICE_OAUTH_PATH;\r\n  private static WEB_BASE_PATH: string =\r\n    Settings.SERVICE_BASE_PATH + app_settings.WEB_RELATIVE_PATH;\r\n  private static WEB_MAIN_OBJECT: string = app_settings.WEB_MAIN_OBJECT;\r\n\r\n  public static get GAM_CLIENT_ID(): string {\r\n    return app_settings.GAM_CLIENT_ID;\r\n  }\r\n  public static get GAM_CLIENT_SECRET(): string {\r\n    return app_settings.GAM_CLIENT_SECRET;\r\n  }\r\n  public static get GAM_CLIENT_LOGIN(): string {\r\n    return app_settings.GAM_CLIENT_LOGIN;\r\n  }\r\n  public static get GAM_CLIENT_NOTAUTHORIZED(): string {\r\n    return app_settings.GAM_CLIENT_NOTAUTHORIZED;\r\n  }\r\n  public static get GAM_CLIENT_CHANGEPASSWORD(): string {\r\n    return app_settings.GAM_CLIENT_CHANGEPASSWORD;\r\n  }\r\n  public static get GAM_ANONYMOUS_USER(): boolean {\r\n    return app_settings.GAM_ANONYMOUS_USER;\r\n  }\r\n\r\n  public static get DEBUG_ENABLED(): boolean {\r\n    return Settings.SERVICE_DEBUG;\r\n  }\r\n  public static get WEBROOT_URL(): string {\r\n    return (\r\n      Settings.SERVICE_HOSTNAME +\r\n      Settings.WEB_BASE_PATH +\r\n      Settings.WEB_MAIN_OBJECT\r\n    );\r\n  }\r\n  public static get SERVICE_API_ENDPOINT(): string {\r\n    return (\r\n      Settings.SERVICE_HOSTNAME +\r\n      Settings.SERVICE_BASE_PATH +\r\n      Settings.SERVICE_REST_PATH\r\n    );\r\n  }\r\n  public static get OAUTH_ENDPOINT(): string {\r\n    return (\r\n      Settings.SERVICE_HOSTNAME +\r\n      Settings.SERVICE_BASE_PATH +\r\n      Settings.SERVICE_OAUTH_PATH\r\n    );\r\n  }\r\n  public static get GXOBJECT_ENDPOINT(): string {\r\n    return Settings.WEB_BASE_PATH + \"gxobject\";\r\n  }\r\n\r\n  public static get WEBAPP_BASE(): string {\r\n    return Settings.SERVICE_HOSTNAME;\r\n  }\r\n\r\n  private static DEFAULT_LANGUAGE: string = app_settings.DEFAULT_LANGUAGE;\r\n\r\n  public static get loadComponentsWhenOnSight() {\r\n    return true;\r\n  }\r\n\r\n  public static get applicationLayouts(): ApplicationViewDefinition[] {\r\n    return app_settings.APPLICATION_LAYOUTS;\r\n  }\r\n\r\n  public static get applicationLanguages(): ApplicationLanguageDefinition[] {\r\n    return app_settings.APPLICATION_LANGUAGES;\r\n  }\r\n\r\n  public static DEFAULT_NAVIGATION_STYLE: string =\r\n    app_settings.DEFAULT_NAVIGATION_STYLE;\r\n}\r\n","import { CUSTOM_ELEMENTS_SCHEMA, NgModule } from \"@angular/core\";\r\nimport { FormsModule } from \"@angular/forms\";\r\nimport { CommonModule as NgCommonModule } from \"@angular/common\";\r\n\r\nimport { ComponentHostComponent } from \"app/gx/ui/controls/component-host/component-host.component\";\r\nimport { ComponentOutletDirective } from \"app/gx/ui/controls/component-host/component-outlet.directive\";\r\nimport { FormPropertiesDirective } from \"app/gx/ui/controls/form/form-properties.directive\";\r\nimport { VisibleWith } from \"app/gx/base/visible-with.directive\";\r\nimport { ImageUploadComponent } from \"app/gx/ui/controls/image-upload/image-upload.component\";\r\nimport { FileUploadComponent } from \"app/gx/ui/controls/file-upload/file-upload.component\";\r\nimport { GeolocationComponent } from \"app/gx/ui/controls/geolocation/geolocation.component\";\r\nimport { AudioControllerComponent } from \"app/gx/ui/controls/audio-controller/audio-controller.component\";\r\nimport { HttpInterceptorProviders } from './gx/http/url-caching-interceptor';\r\nimport { ResolveRelativeUrlPipe } from \"./gx/utils/resolve-relative-url/resolve-relative-url.pipe\";\r\nimport { LoadCachedUriPipe } from \"./gx/utils/uri-cache/load-cached-uri.pipe\";\r\nimport { TranslatePipe } from \"./gx/utils/translate.pipe\";\r\nimport { DefaultPipe } from \"./gx/utils/default.pipe\";\r\nimport { NotPipe } from \"./gx/utils/not.pipe\";\r\nimport { DateToISOStringPipe } from \"./gx/utils/date-to-iso-string.pipe\";\r\nimport { DatetimeToISOStringPipe } from \"./gx/utils/datetime-to-iso-string.pipe\";\r\nimport { TimeToISOStringPipe } from \"./gx/utils/time-to-iso-string.pipe\";\r\nimport { GuidToStringPipe } from \"./gx/utils/guid-to-string.pipe\";\r\nimport { GeographyToCoordsPipe } from \"./gx/utils/geography-to-coords.pipe\";\r\nimport { JsonToGaugePipe } from \"./gx/utils/json-to-gauge.pipe\";\r\nimport { ClassSplitPipe } from \"./gx/utils/class-split.pipe\";\r\nimport { ImageSourcePipe } from \"./gx/utils/image-source.pipe\";\r\nimport { ImageToURLPipe } from \"./gx/utils/image-to-url.pipe\";\r\nimport { BinaryToURLPipe } from \"./gx/utils/binary-to-url.pipe\";\r\n\r\n@NgModule({\r\n  imports: [NgCommonModule, FormsModule],\r\n  declarations: [\r\n    ComponentOutletDirective,\r\n    ComponentHostComponent,\r\n    FormPropertiesDirective,\r\n    VisibleWith,\r\n    ImageUploadComponent,\r\n    FileUploadComponent,\r\n    GeolocationComponent,\r\n    AudioControllerComponent,\r\n    ResolveRelativeUrlPipe,\r\n    LoadCachedUriPipe,\r\n    TranslatePipe,\r\n    DefaultPipe,\r\n    DateToISOStringPipe,\r\n    DatetimeToISOStringPipe,\r\n    TimeToISOStringPipe,\r\n    GuidToStringPipe,\r\n    GeographyToCoordsPipe,\r\n    JsonToGaugePipe,\r\n    NotPipe,\r\n    ClassSplitPipe,\r\n    ImageSourcePipe,\r\n    ImageToURLPipe,\r\n    BinaryToURLPipe\r\n  ],\r\n  bootstrap: [],\r\n  exports: [\r\n    ComponentOutletDirective,\r\n    ComponentHostComponent,\r\n    FormPropertiesDirective,\r\n    VisibleWith,\r\n    ImageUploadComponent,\r\n    FileUploadComponent,\r\n    GeolocationComponent,\r\n    AudioControllerComponent,\r\n    ResolveRelativeUrlPipe,\r\n    LoadCachedUriPipe,\r\n    TranslatePipe,\r\n    DefaultPipe,\r\n    DateToISOStringPipe,\r\n    DatetimeToISOStringPipe,\r\n    TimeToISOStringPipe,\r\n    GuidToStringPipe,\r\n    GeographyToCoordsPipe,\r\n    JsonToGaugePipe,\r\n    NotPipe,\r\n    ClassSplitPipe,\r\n    ImageSourcePipe,\r\n    ImageToURLPipe,\r\n    BinaryToURLPipe\r\n  ],\r\n  providers: HttpInterceptorProviders,\r\n  schemas: [CUSTOM_ELEMENTS_SCHEMA]\r\n})\r\nexport class CommonModule { }\r\n","import { HttpRequest, HttpHandler, HttpEvent, HttpInterceptor, HttpErrorResponse } from \"@angular/common/http\";\r\nimport { Observable, Subject, from, throwError } from \"rxjs\";\r\nimport { Settings } from \"../../app.settings\";\r\nimport { catchError, switchMap } from 'rxjs/operators';\r\nimport { Injectable } from \"@angular/core\";\r\nimport { CompositeNavigation } from 'app/gx/navigation/composite-navigation';\r\nimport { AuthService } from \"./auth.service\";\r\nimport { ClientStorage } from \"../std/client-storage\";\r\nimport { PanelComponent } from \"../base/panel.component\";\r\n\r\n@Injectable({\r\n  providedIn: 'root',\r\n})\r\nexport class AuthInterceptor implements HttpInterceptor {\r\n  constructor(\r\n    private _nvg: CompositeNavigation,\r\n    private readonly _authService: AuthService\r\n  ) { }\r\n\r\n  private _refreshSubject: Subject<any> = new Subject<any>();\r\n\r\n  intercept(\r\n    req: HttpRequest<any>,\r\n    next: HttpHandler\r\n  ): Observable<HttpEvent<any>> {\r\n    if (req.url.endsWith(\"/access_token\")) {\r\n      return next.handle(req);\r\n    } else {\r\n      return next.handle(this.addAuthToken(req)).pipe(\r\n        catchError((error, caught) => {\r\n          if (error instanceof HttpErrorResponse) {\r\n            if (this.authorizationMissing(error)) {    // Missing or invalid authorization token\r\n              if (Settings.GAM_ANONYMOUS_USER) {\r\n                // Login as anonymous user and continue\r\n                return this.loginAnonymous().pipe(\r\n                  switchMap(() => {\r\n                    return next.handle(this.addAuthToken(req));\r\n                  })\r\n                );\r\n              } else {\r\n                // Ask for login and continue\r\n                return this.navigateAndContinue(Settings.GAM_CLIENT_LOGIN).pipe(\r\n                  switchMap(() => {\r\n                    return next.handle(this.addAuthToken(req));\r\n                  })\r\n                );\r\n              }\r\n            } else if (this.notAuthorized(error)) {    // Not authorized \r\n              // Show \"not authorized panel\" and continue\r\n              return this.navigateAndContinue(Settings.GAM_CLIENT_NOTAUTHORIZED).pipe(\r\n                switchMap(() => {\r\n                  return next.handle(this.addAuthToken(req));\r\n                })\r\n              );\r\n            } else if (this.mustRefreshToken(error)) {    // Token expired\r\n              return this.refreshToken().pipe(\r\n                // Refresh token and continue\r\n                switchMap(() => {\r\n                  return next.handle(this.addAuthToken(req));\r\n                })\r\n              );\r\n            } else {\r\n              return throwError(error);\r\n            }\r\n          }\r\n          return caught;\r\n        })\r\n      );\r\n    }\r\n  }\r\n\r\n  private loginAnonymous() {\r\n    this._refreshSubject.subscribe({\r\n      complete: () => {\r\n        this._refreshSubject = new Subject<any>();\r\n      }\r\n    });\r\n    if (this._refreshSubject.observers.length === 1) {\r\n      this._authService.loginAnonymous().subscribe(this._refreshSubject);\r\n    }\r\n    return this._refreshSubject;\r\n  }\r\n\r\n  private refreshToken() {\r\n    this._refreshSubject.subscribe({\r\n      complete: () => {\r\n        this._refreshSubject = new Subject<any>();\r\n      }\r\n    });\r\n    if (this._refreshSubject.observers.length > 0) {\r\n      this._authService.refreshToken().pipe(\r\n        catchError((error, caught) => {\r\n          if (error instanceof HttpErrorResponse && error.status === 401) {\r\n            return this.navigateAndContinue(Settings.GAM_CLIENT_LOGIN);\r\n          }\r\n          return caught;\r\n        })\r\n\r\n\r\n\r\n      ).subscribe(this._refreshSubject);\r\n    }\r\n    return this._refreshSubject;\r\n  }\r\n\r\n  private navigateAndContinue(navigateTo: string) {\r\n    this._refreshSubject.subscribe({\r\n      complete: () => {\r\n        this._refreshSubject = new Subject<any>();\r\n      }\r\n    });\r\n    if (this._refreshSubject.observers.length > 0) {\r\n      from(this.navigateEvent(navigateTo)).subscribe(this._refreshSubject);\r\n    }\r\n    return this._refreshSubject;\r\n  }\r\n\r\n  private async navigateEvent(navigateTo): Promise<void> {\r\n    return new Promise<void>(async (resolve) => {\r\n      const __aSt = PanelComponent.activePanel.startAction();\r\n      await this._nvg.navigateForResult([navigateTo], __aSt);\r\n      PanelComponent.activePanel.endAction(__aSt);\r\n      resolve();\r\n    });\r\n  }\r\n\r\n  private authorizationMissing(e: HttpErrorResponse): boolean {\r\n    return (\r\n      e.status &&\r\n      e.status === 401 &&\r\n      e.error && e.error.error &&\r\n      (\r\n        e.error.error.code === \"21\" ||\r\n        e.error.error.message === \"This service needs an Authorization Header\"\r\n      )\r\n    );\r\n  }\r\n\r\n  private notAuthorized(e: HttpErrorResponse): boolean {\r\n    return (\r\n      e.status &&\r\n      e.status === 403 &&\r\n      e.statusText.startsWith(\"Unauthorized\")\r\n    );\r\n  }\r\n\r\n  private mustRefreshToken(e: HttpErrorResponse): boolean {\r\n    const refresh_token = ClientStorage.Get('gx.GAM.refresh_token')\r\n    return (\r\n      refresh_token !== null && refresh_token.length > 0 &&\r\n      e.status &&\r\n      e.status === 403\r\n    );\r\n\r\n  }\r\n\r\n  addAuthToken(req) {\r\n    const token = this._authService.getAuthToken();\r\n    if (token) {\r\n      return req.clone({\r\n        setHeaders: {\r\n          'Authorization': 'OAuth ' + token,\r\n          'Genexus-Agent': 'SmartDevice Application'\r\n        }\r\n      });\r\n    } else {\r\n      return req;\r\n    }\r\n  }\r\n}\r\n","import { HttpHeaders, HttpClient } from \"@angular/common/http\";\r\nimport { Observable, of, throwError } from \"rxjs\";\r\nimport { catchError } from 'rxjs/operators';\r\nimport { Settings } from \"../../app.settings\";\r\nimport { ClientStorage } from '../std/client-storage';\r\nimport { map } from 'rxjs/operators';\r\nimport { Injectable } from \"@angular/core\";\r\nimport { GeneXusClientClientInformation } from \"@genexus/web-standard-functions/dist/lib-esm/gxcore/client/client-information\";\r\n\r\n@Injectable({\r\n  providedIn: 'root',\r\n})\r\nexport class AuthService {\r\n  constructor(private _http: HttpClient) { }\r\n\r\n  public loginAnonymous(): Observable<any> {\r\n    const url = Settings.OAUTH_ENDPOINT + 'access_token';\r\n    let body = \"grant_type=device\";\r\n    body += \"&client_id=\" + Settings.GAM_CLIENT_ID;\r\n    body += \"&client_secret=\" + Settings.GAM_CLIENT_SECRET;\r\n    const headers = new HttpHeaders(\r\n      {\r\n        'Accept': 'application/json',\r\n        'Content-Type': 'application/x-www-form-urlencoded',\r\n        'DeviceId': GeneXusClientClientInformation.id(),\r\n        'Genexus-Agent': 'SmartDevice Application'\r\n      });\r\n\r\n    return this._http.post(url, body, { headers: headers, withCredentials: true }).pipe(\r\n      map((response: any) => {\r\n        ClientStorage.Set('gx.GAM.access_token', response.access_token);\r\n        if (response.refresh_token) {\r\n          ClientStorage.Set('gx.GAM.refresh_token', response.refresh_token);\r\n        } else {\r\n          ClientStorage.Remove('gx.GAM.refresh_token');\r\n        }\r\n        this.getUserInfo(response.access_token).subscribe(() => response.access_token);\r\n      }), catchError(err => {\r\n        return throwError(err);\r\n      })\r\n    );\r\n  }\r\n\r\n  public login(username: string, password: string) {\r\n    const url = Settings.OAUTH_ENDPOINT + 'access_token';\r\n    let body = \"client_id=\" + Settings.GAM_CLIENT_ID;\r\n    body += \"&client_secret=\" + Settings.GAM_CLIENT_SECRET;\r\n    body += \"&grant_type=password&username=\" + username;\r\n    body += \"&password=\" + password;\r\n    body += \"&scope=FullControl\";\r\n    const headers = new HttpHeaders(\r\n      {\r\n        'Accept': 'application/json',\r\n        'Content-Type': 'application/x-www-form-urlencoded',\r\n        'Genexus-Agent': 'SmartDevice Application'\r\n      });\r\n\r\n    return this._http.post(url, body, { headers: headers, withCredentials: true }).pipe(\r\n      map((response: any) => {\r\n        ClientStorage.Set('gx.GAM.access_token', response.access_token);\r\n        if (response.refresh_token) {\r\n          ClientStorage.Set('gx.GAM.refresh_token', response.refresh_token);\r\n        } else {\r\n          ClientStorage.Remove('gx.GAM.refresh_token');\r\n        }\r\n        this.getUserInfo(response.access_token).subscribe(() => response.access_token);\r\n      }), catchError(err => {\r\n        return throwError(err);\r\n      })\r\n    );\r\n  }\r\n\r\n  public loginExternal(type: string, username: string, password: string, additionalParameters: any = null) {\r\n    const url = Settings.OAUTH_ENDPOINT + 'access_token';\r\n    let body = \"client_id=\" + Settings.GAM_CLIENT_ID;\r\n    body += \"&client_secret=\" + Settings.GAM_CLIENT_SECRET;\r\n    body += \"&grant_type=\" + type;\r\n    body += \"&username=\" + username;\r\n    body += \"&password=\" + password\r\n    body += \"&scope=FullControl\";\r\n    if (additionalParameters) {\r\n      body += \"&additional_parameters=\" + JSON.stringify(additionalParameters);\r\n    }\r\n    const headers = new HttpHeaders(\r\n      {\r\n        'Accept': 'application/json',\r\n        'Content-Type': 'application/x-www-form-urlencoded',\r\n        'Genexus-Agent': 'SmartDevice Application'\r\n      });\r\n\r\n    return this._http.post(url, body, { headers: headers, withCredentials: true }).pipe(\r\n      map((response: any) => {\r\n        ClientStorage.Set('gx.GAM.access_token', response.access_token);\r\n        this.getUserInfo(response.access_token).subscribe(() => response.access_token);\r\n      }), catchError(err => {\r\n        return throwError(err);\r\n      })\r\n    );\r\n  }\r\n\r\n  public loginV2(username: string, password: string, additionalParameters: AdditionalParameters = null) {\r\n    const url = Settings.OAUTH_ENDPOINT + 'gam/v2.0/access_token';\r\n    let body = \"client_id=\" + Settings.GAM_CLIENT_ID;\r\n    body += \"&client_secret=\" + Settings.GAM_CLIENT_SECRET;\r\n    body += \"&grant_type=password\";\r\n    body += \"&username=\" + username;\r\n    body += \"&password=\" + password\r\n    body += \"&scope=gam_user_data\";\r\n    if (additionalParameters) {\r\n      if (additionalParameters.Repository) {\r\n        body += \"&repository=\" + additionalParameters.Repository;\r\n      }\r\n      if (additionalParameters.AuthenticationTypeName) {\r\n        body += \"&authentication_type_name=\" + additionalParameters.AuthenticationTypeName;\r\n      }\r\n      if (additionalParameters.Properties && additionalParameters.Properties.length > 0) {\r\n        body += \"&properties=\" + JSON.stringify(additionalParameters.Properties);\r\n      }\r\n    }\r\n    const headers = new HttpHeaders(\r\n      {\r\n        'Accept': 'application/json',\r\n        'Content-Type': 'application/x-www-form-urlencoded',\r\n        'Genexus-Agent': 'SmartDevice Application'\r\n      });\r\n\r\n    return this._http.post(url, body, { headers: headers, withCredentials: true }).pipe(\r\n      map((response: any) => {\r\n        ClientStorage.Set('gx.GAM.access_token', response.access_token);\r\n        if (response.refresh_token) {\r\n          ClientStorage.Set('gx.GAM.refresh_token', response.refresh_token);\r\n        } else {\r\n          ClientStorage.Remove('gx.GAM.refresh_token');\r\n        }\r\n        this.getUserInfo(response.access_token).subscribe(() => response.access_token);\r\n      }), catchError(err => {\r\n        return throwError(err);\r\n      })\r\n    );\r\n  }\r\n\r\n  public refreshToken(): Observable<any> {\r\n    const url = Settings.OAUTH_ENDPOINT + 'access_token';\r\n    let body = \"grant_type=refresh_token\";\r\n    body += \"&client_id=\" + Settings.GAM_CLIENT_ID;\r\n    body += \"&client_secret=\" + Settings.GAM_CLIENT_SECRET;\r\n    body += \"&refresh_token=\" + ClientStorage.Get('gx.GAM.refresh_token');\r\n    const headers = new HttpHeaders(\r\n      {\r\n        'Accept': 'application/json',\r\n        'Content-Type': 'application/x-www-form-urlencoded',\r\n        'DeviceId': GeneXusClientClientInformation.id(),\r\n        'Genexus-Agent': 'SmartDevice Application'\r\n      });\r\n\r\n    return this._http.post(url, body, { headers: headers, withCredentials: true }).pipe(\r\n      map((response: any) => {\r\n        ClientStorage.Set('gx.GAM.access_token', response.access_token);\r\n        if (response.refresh_token) {\r\n          ClientStorage.Set('gx.GAM.refresh_token', response.refresh_token);\r\n        } else {\r\n          ClientStorage.Remove('gx.GAM.refresh_token');\r\n        }\r\n        this.getUserInfo(response.access_token).subscribe(() => response.access_token);\r\n      }), catchError(err => {\r\n        return throwError(err);\r\n      })\r\n    );\r\n  }\r\n\r\n  public logout() {\r\n    return this._http.post(Settings.OAUTH_ENDPOINT + 'logout', \"{}\").pipe(\r\n      map(() => {\r\n        ClientStorage.Remove('gx.GAM.access_token');\r\n        window.location.reload();\r\n      }), catchError(err => {\r\n        return throwError(err);\r\n      })\r\n    );\r\n  }\r\n\r\n  public getUserInfo(token): Observable<any> {\r\n    const url = Settings.OAUTH_ENDPOINT + 'userinfo';\r\n    const body = \"{}\";\r\n    const headers = new HttpHeaders(\r\n      {\r\n        'Content-Type': 'application/json',\r\n        'DeviceId': GeneXusClientClientInformation.id(),\r\n        'Authorization': 'OAuth ' + token,\r\n        'Genexus-Agent': 'SmartDevice Application'\r\n      });\r\n    return this._http.post(url, body, { headers: headers }).pipe(\r\n      map(response => {\r\n        const userInfo = JSON.stringify(response)\r\n        ClientStorage.Set(\"gx.GAM.gam_user\", userInfo);\r\n        return of(userInfo);\r\n      }), catchError(err => {\r\n        return throwError(err);\r\n      })\r\n    );\r\n  }\r\n\r\n  public getAuthToken(): string {\r\n    return ClientStorage.Get('gx.GAM.access_token');\r\n  }\r\n}\r\n\r\nclass AdditionalParameters {\r\n  Repository: string;\r\n  AuthenticationTypeName: string;\r\n  Properties: Array<AdditionalParametersProperty>;\r\n}\r\n\r\nclass AdditionalParametersProperty {\r\n  Id: string;\r\n  Value: string;\r\n}","import { Injectable } from '@angular/core';\r\nimport { HttpClient, HttpErrorResponse, HttpHeaders } from \"@angular/common/http\"\r\nimport { GAMUser } from \"./gamuser.dt\";\r\nimport { ProgressService } from '../ui/controls/progress/progress.service';\r\nimport { msg } from '@genexus/web-standard-functions/dist/lib-esm/misc/msg';\r\nimport { ClientStorage } from '../std/client-storage';\r\nimport { AuthService } from './auth.service';\r\nimport { plainToClassFromExist } from \"class-transformer\";\r\nimport { CompositeCancel, PanelComponent } from '../base/panel.component';\r\nimport { Settings } from 'app/app.settings';\r\nimport { CompositeNavigation } from \"../navigation/composite-navigation\";\r\n\r\n@Injectable({\r\n  providedIn: 'root',\r\n})\r\nexport class GAMService {\r\n\r\n  constructor(private _http: HttpClient,\r\n    private _authService: AuthService,\r\n    private progress: ProgressService,\r\n    private _nvg: CompositeNavigation) {\r\n  }\r\n\r\n  public async getUser(): Promise<GAMUser> {\r\n    let userInfo = ClientStorage.Get(\"gx.GAM.gam_user\");\r\n    if (!userInfo) {\r\n      userInfo = await this._authService.getUserInfo(null).toPromise();\r\n    }\r\n    const o = JSON.parse(userInfo);\r\n    return plainToClassFromExist(new GAMUser(), o);\r\n  }\r\n\r\n  public async login(username: string, password: string) {\r\n    try {\r\n      await this._authService.login(username, password).toPromise();\r\n    } catch (e) {\r\n      await this.progress.hide();\r\n      if (e instanceof HttpErrorResponse && e.status === 401 && e.error.error.code === '23') {\r\n        await msg(e.error.error.message);\r\n        const __aSt = PanelComponent.activePanel.startAction();\r\n        await this._nvg.navigate([Settings.GAM_CLIENT_CHANGEPASSWORD], __aSt);\r\n        PanelComponent.activePanel.endAction(__aSt);\r\n      } else {\r\n        await msg(e.error.error.message);\r\n        throw new CompositeCancel(\"Composite cancelled\");\r\n      }\r\n    }\r\n  }\r\n\r\n  public async loginExternal(type: string, username: string, password: string, additionalParameters: any = null) {\r\n    try {\r\n      await this._authService.loginExternal(type, username, password, additionalParameters).toPromise();\r\n    } catch (e) {\r\n      await this.progress.hide();\r\n      await msg(e.error.error.message);\r\n      throw new CompositeCancel(\"Composite cancelled\");\r\n    }\r\n  }\r\n\r\n  public async registerAnonymous() {\r\n    await this._authService.loginAnonymous().toPromise();\r\n  }\r\n\r\n  public async logout() {\r\n    this._authService.logout().subscribe();\r\n  }\r\n\r\n  public async getEmail(): Promise<string> {\r\n    const user = await this.getUser();\r\n    return user.getEmail();\r\n  }\r\n\r\n  public async getId(): Promise<string> {\r\n    const user = await this.getUser();\r\n    return user.getId();\r\n  }\r\n\r\n  public async getName(): Promise<string> {\r\n    const user = await this.getUser();\r\n    return user.getName();\r\n  }\r\n\r\n  public async getLogin(): Promise<string> {\r\n    const user = await this.getUser();\r\n    return user.getLogin();\r\n  }\r\n\r\n  public async getExternalId(): Promise<string> {\r\n    const user = await this.getUser();\r\n    return user.getExternalId();\r\n  }\r\n\r\n  public async isAnonymous(): Promise<boolean> {\r\n    const user = await this.getUser();\r\n    return user.isAnonymous();\r\n  }\r\n\r\n  public isLogged(): boolean {\r\n    const userToken = this._authService.getAuthToken();\r\n    if (userToken && userToken.length > 0) {\r\n      return true;\r\n    }\r\n    return false;\r\n  }\r\n}\r\n\r\nexport class ResponseError {\r\n  error: Error;\r\n}\r\n\r\nexport class Error {\r\n  code: number;\r\n  message: string;\r\n}\r\n","export class GAMUser {\r\n  FirstName: string;\r\n  LastName: string;\r\n  EMail: string;\r\n  Login: string;\r\n  GUID: string;\r\n  ExternalId: string;\r\n  IsAutoRegisteredUser: boolean;\r\n\r\n  public getId(): string {\r\n    return this.GUID;\r\n  }\r\n\r\n  public getEmail(): string {\r\n    return this.EMail;\r\n  }\r\n\r\n  public get(): any {\r\n    return this;\r\n  }\r\n\r\n  public getLogin(): string {\r\n    return this.Login\r\n  }\r\n\r\n  public getName(): string {\r\n    return this.FirstName + \" \" + this.LastName;\r\n  }\r\n\r\n  public getExternalId(): string {\r\n    return this.ExternalId;\r\n  }\r\n\r\n  public isAnonymous(): boolean {\r\n    return this.IsAutoRegisteredUser;\r\n  }\r\n\r\n}","import { PanelNavigationState } from \"app/gx/navigation/panel-navigation-state.dt\";\r\nimport { NavigationHelper } from \"app/gx/navigation/navigation-helper\";\r\n\r\nexport class ActionState {\r\n  \r\n    actionId: number;           // unique action id \r\n    iid: number;                // instance id of the component running the action\r\n  \r\n    navigationState: PanelNavigationState;\r\n  \r\n    static create(name:string, navigation: PanelNavigationState): ActionState {\r\n      const act = new ActionState();\r\n      act.iid = NavigationHelper.newComponentInstanceId();\r\n      act.navigationState = navigation;\r\n      return act;\r\n    }\r\n  \r\n  }\r\n  ","import { Injectable } from \"@angular/core\";\r\nimport { Subject, Subscription } from \"rxjs\";\r\n\r\nimport { IButtonElement, UIButtonElement } from \"app/gx/ui/model/ui-button\";\r\nimport { NavigationStyle } from \"./view-manager\";\r\nimport { UIActionBarElement } from \"../ui/model/ui-actionbar\";\r\n\r\n@Injectable()\r\nexport class AppBarService {\r\n\r\n  bind(showAsCard: boolean, appBar: UIActionBarElement) {\r\n\r\n    if (!showAsCard) {\r\n      const newNvg: any = {\r\n        navigationStyle: appBar.navigationStyle,\r\n        showBackButton: appBar.showBackButton,\r\n        onBackButtonClick: appBar.onBackButtonClick\r\n      };\r\n      if (appBar.class) {\r\n        newNvg.className = appBar.class;\r\n      }\r\n      if (appBar.visible) {\r\n        newNvg.visible = appBar.visible;\r\n      }\r\n      if (appBar.caption) {\r\n        newNvg.caption = appBar.caption;\r\n      }\r\n      this.setNavigation(newNvg);\r\n\r\n      const actionButtons = [];\r\n      for (const button of appBar.actionItems) {\r\n        actionButtons.push(button);\r\n      }\r\n      this.setActions(actionButtons);\r\n    }\r\n  }\r\n  navigationChange: Subject<AppBarNavigation> = new Subject<AppBarNavigation>();\r\n\r\n  setNavigation(data: AppBarNavigation) {\r\n    this.navigationChange.next(data);\r\n  }\r\n\r\n  actionsChange: Subject<IButtonElement[]> = new Subject<IButtonElement[]>();\r\n\r\n  private propertyChangeSubscriptions: Subscription[] = [];\r\n\r\n  setActions(data: IButtonElement[]) {\r\n    this.actionsChange.next(data);\r\n    this.clearPropertyChangeSubscriptions();\r\n    this.listenActionsPropertyChange(data);\r\n  }\r\n\r\n  private listenActionsPropertyChange(actions: IButtonElement[]) {\r\n    for (const action of actions) {\r\n      const uiButton = action as UIButtonElement;\r\n      if (uiButton.propertyChange !== undefined) {\r\n        const subscription = uiButton.propertyChange.subscribe(() => {\r\n          this.actionsChange.next(actions);\r\n        });\r\n        this.propertyChangeSubscriptions.push(subscription);\r\n      }\r\n    }\r\n  }\r\n\r\n  private clearPropertyChangeSubscriptions() {\r\n    for (const subscription of this.propertyChangeSubscriptions) {\r\n      subscription.unsubscribe();\r\n    }\r\n    this.propertyChangeSubscriptions = [];\r\n  }\r\n}\r\n\r\nexport interface AppBarNavigation {\r\n  caption?: string;\r\n  className?: string;\r\n  items?: AppBarNavigationItem[];\r\n  toggleButtonLabel?: string;\r\n  visible?: boolean;\r\n  navigationStyle?: NavigationStyle;\r\n  showBackButton?: boolean;\r\n  onBackButtonClick?: () => void;\r\n}\r\n\r\nexport interface AppBarNavigationItem {\r\n  id?: string;\r\n  caption?: string;\r\n  className?: string;\r\n  href?: string;\r\n  iconSrc?: string;\r\n  onClick?: () => void;\r\n}\r\n","import { getOption as DesignSystemGetOption, getOptions as DesignSystemGetOptions } from \"@genexus/web-standard-functions/dist/lib-esm/gxcore/common/ui/designsystem\";\r\n\r\nimport { ClientStorage } from '../std/client-storage';\r\nimport { CookieService } from \"ngx-cookie-service\";\r\nimport { GUID } from \"@genexus/web-standard-functions/dist/lib-esm/types/guid\";\r\nimport { ImageService } from \"./image.service\";\r\nimport { Injectable } from \"@angular/core\";\r\nimport { Settings } from \"./../../app.settings\";\r\nimport { Subject } from 'rxjs';\r\nimport { TranslationService } from \"./../base/translation.service\";\r\nimport { msg } from \"@genexus/web-standard-functions/dist/lib-esm/misc/msg\";\r\nimport { setLanguage } from \"@genexus/web-standard-functions/dist/lib-esm/misc/setLanguage\";\r\nimport { UriCacheService } from \"app/gx/utils/uri-cache/uri-cache.service\";\r\nimport { GxImage } from \"./gximage.dt\";\r\nimport { GxBinary } from \"./gxbinary.dt\";\r\n\r\n@Injectable({\r\n  providedIn: \"root\"\r\n})\r\nexport class AppContainer {\r\n\r\n  constructor(\r\n    protected _translations: TranslationService,\r\n    protected _images: ImageService,\r\n    private cookieService: CookieService,\r\n    protected uriCacheService: UriCacheService\r\n  ) { }\r\n\r\n  private _errorCode = 0;\r\n  private _errorString = \"\";\r\n\r\n  private currentLanguage = \"English\";\r\n\r\n  uiContextKey = \"\";\r\n  uiContextSubject = new Subject();\r\n\r\n  initApp(id: string) {\r\n    const appId = ClientStorage.Get('gx.APP.id');\r\n    if (!appId || appId != id) {\r\n      ClientStorage.Clear();\r\n      ClientStorage.Set('gx.APP.id', id);\r\n    }\r\n  }\r\n\r\n  setLanguage(language: string) {\r\n    this.currentLanguage = language;\r\n    setLanguage(language);\r\n    StyleManager.setDirection(this._translations.getLanguageDirection(language));\r\n\r\n    this.refreshUIContext();\r\n  }\r\n\r\n  async initTheme(theme: string) {\r\n    let currentTheme = this.getTheme();\r\n    if (!currentTheme || currentTheme === \"\") {\r\n      currentTheme = theme.toLowerCase();\r\n      ClientStorage.Set('gx.APP.theme', currentTheme);\r\n    }\r\n    await this._images.load(this.currentLanguage, currentTheme);\r\n    StyleManager.setStyle(currentTheme);\r\n    StyleManager.setDirection(this._translations.getLanguageDirection(this.currentLanguage));\r\n  }\r\n\r\n  getTheme() {\r\n    return ClientStorage.Get('gx.APP.theme') || '';\r\n  }\r\n\r\n  setTheme(theme: string) {\r\n    const currentTheme = this.getTheme();\r\n    if (currentTheme !== theme.toLowerCase()) {\r\n      ClientStorage.Set('gx.APP.theme', theme.toLowerCase());\r\n      window.location.reload();\r\n    }\r\n  }\r\n\r\n  getColorScheme(): string {\r\n    const colorScheme = DesignSystemGetOption('color-scheme')?.toLowerCase();\r\n\r\n    if (!colorScheme && window.matchMedia) {\r\n      if (window.matchMedia('(prefers-color-scheme: dark)').matches) {\r\n        return \"dark\";\r\n      } else {\r\n        return \"light\";\r\n      }\r\n    } else {\r\n      return colorScheme || \"light\";\r\n    }\r\n  }\r\n\r\n  getThemeOptions(): { name: string; value: string; }[] {\r\n    return DesignSystemGetOptions().filter(option => option.name.toLowerCase() != 'color-scheme');\r\n  }\r\n\r\n  refreshUIContext() {\r\n    this.uiContextKey = `${this.currentLanguage}_${this.getTheme()}_${this.getColorScheme()}_${this.getThemeOptions().map(option => `${option.name}_${option.value}`).join('_')}`;\r\n    this.uiContextSubject.next();\r\n  }\r\n\r\n  async initTranslations() {\r\n    await this._translations.load(\r\n      this.currentLanguage\r\n    );\r\n  }\r\n\r\n  setMessage(message: string) {\r\n    msg(message);\r\n  }\r\n\r\n  translate(key: string): string {\r\n    return this._translations.translate(key);\r\n  }\r\n\r\n  getBaseUrl() {\r\n    return Settings.WEBAPP_BASE;\r\n  }\r\n\r\n  setSession() {\r\n    let ngSessionId = this.cookieService.get(\"gx-ng-session\");\r\n    if (!ngSessionId) {\r\n      ngSessionId = GUID.newGuid().toString();\r\n      this.cookieService.set(\"gx-ng-session\", ngSessionId);\r\n    }\r\n  }\r\n\r\n  setError(errorCode: number, errorString = \"\") {\r\n    this._errorCode = errorCode;\r\n    this._errorString = errorString;\r\n  }\r\n\r\n  get err() { return this._errorCode; }\r\n  get errMsg() { return this._errorString; }\r\n\r\n  open(id: string) {\r\n    const uri = this.uriCacheService.get(id);\r\n    window.open(uri, '_blank');\r\n  }\r\n\r\n\r\n  //////////////////////////////////////////////////////////////////////////////////////////////////\r\n  // Images and binaries \r\n\r\n  imageToURL(image: GxImage): string {\r\n    let url = \"\";\r\n    if (image.id) {\r\n      url = this.getImageSource(image.id);\r\n    } else if (image.uri.indexOf('gxupload:') > -1) {\r\n      url = this.uriCacheService.get(image.uri);\r\n    } else {\r\n      url = image.uri;\r\n    }\r\n    return this.resolveRelativeURL(url);\r\n  }\r\n\r\n  serializeImage(image: GxImage): string {\r\n    if (image.id) {\r\n      return this.resolveRelativeURL(this.getImageSource(image.id));\r\n    } else if (image.uri.indexOf('gxupload:') > -1) {\r\n      return image.uri;\r\n    } else {\r\n      return this.resolveRelativeURL(image.uri);\r\n    }\r\n  }\r\n\r\n  binaryToURL(binary: GxBinary): string {\r\n    let url = \"\";\r\n    if (binary.uri.indexOf('gxupload:') > -1) {\r\n      url = this.uriCacheService.get(binary.uri);\r\n    } else {\r\n      url = binary.uri;\r\n    }\r\n    return this.resolveRelativeURL(url);\r\n  }\r\n\r\n  serializeBinary(binary: GxBinary): string {\r\n    if (binary.uri.indexOf('gxupload:') > -1) {\r\n      return binary.uri;\r\n    } else {\r\n      return this.resolveRelativeURL(binary.uri);\r\n    }\r\n  }\r\n\r\n  createImageFromURL(key: string): GxImage {\r\n    let id = \"\";\r\n    let url = \"\";\r\n    const isPath = key.indexOf(\"/\") > -1;\r\n    const isUploadedImage = key.indexOf(\"gxupload:\") > -1;\r\n    if (isPath || isUploadedImage) {\r\n      const imgLowerC = key.toLowerCase();\r\n      if (\r\n        imgLowerC.startsWith(\"blob:\") ||\r\n        imgLowerC.startsWith(\"file:\") ||\r\n        imgLowerC.startsWith(\"data:\")) {\r\n        url = key.slice(5);\r\n      } else {\r\n        url = key;\r\n      }\r\n    } else {\r\n      id = key;\r\n    }\r\n    return GxImage.createImage(id, url);\r\n  }\r\n\r\n  createBinaryFromURL(url: string): GxBinary {\r\n    return GxBinary.createBinary(url);\r\n  }\r\n\r\n  getImageSource(key: string): string {\r\n    const isPath = key.indexOf(\"/\") > -1;\r\n    if (isPath) {\r\n      return key;\r\n    } else {\r\n      return this._images.getImageSource(\r\n        key,\r\n        this.currentLanguage,\r\n        this.getTheme(),\r\n        this.getColorScheme(),\r\n        this.getThemeOptions()\r\n      );\r\n    }\r\n  }\r\n\r\n  resolveRelativeURL(url: string) {\r\n    if (!url) return \"\";\r\n    const dataURL = this.getBaseUrl();\r\n    const imgLowerC = url.toLowerCase();\r\n    if (imgLowerC.startsWith(\"assets/\")) {\r\n      const appBaseURL = window.location.origin;\r\n      return appBaseURL + '/' + url;\r\n    }\r\n    else if (\r\n      imgLowerC.startsWith(\"http://\") ||\r\n      imgLowerC.startsWith(\"https://\") ||\r\n      imgLowerC.startsWith(\"blob:\") ||\r\n      imgLowerC.startsWith(\"file:\") ||\r\n      imgLowerC.startsWith(\"data:\") ||\r\n      imgLowerC.startsWith(\"/\" + dataURL.toLocaleLowerCase()) ||\r\n      imgLowerC.startsWith(dataURL.toLocaleLowerCase())) {\r\n      return url;\r\n    } else {\r\n      return dataURL + url;\r\n    }\r\n  }\r\n}\r\n\r\nclass StyleManager {\r\n  static setStyle(name: string) {\r\n    this.getLinkElementForKey().setAttribute('href', name + \".css\");\r\n  }\r\n\r\n  static setDirection(dir: string) {\r\n    const bodyStyles = document.body.style;\r\n    if (dir === 'rtl') {\r\n      bodyStyles.setProperty('--direction', 'rtl');\r\n    } else {\r\n      bodyStyles.setProperty('--direction', 'ltr');\r\n\r\n    }\r\n  }\r\n\r\n  static removeStyle(key: string) {\r\n    const existingLinkElement = this.getExistingLinkElementByKey();\r\n    if (existingLinkElement) {\r\n      document.head.removeChild(existingLinkElement);\r\n    }\r\n  }\r\n\r\n  static getLinkElementForKey() {\r\n    return this.getExistingLinkElementByKey() || this.createLinkElementWithKey();\r\n  }\r\n\r\n  static getExistingLinkElementByKey() {\r\n    return document.head.querySelector(`link[rel=\"stylesheet\"].${\"style-manager-theme\"}`);\r\n  }\r\n\r\n  static createLinkElementWithKey() {\r\n    const linkEl = document.createElement('link');\r\n    linkEl.setAttribute('rel', 'stylesheet');\r\n    linkEl.type = 'text/css';\r\n    linkEl.classList.add(\"style-manager-theme\");\r\n    document.head.appendChild(linkEl);\r\n    return linkEl;\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { publish as gxPublish, subscribe as gxSubscribe, unSubscribe as gxUnSubscribe } from '@genexus/web-standard-functions/dist/lib-esm/web/GlobalEvents';\r\nimport EventSubscription from '@genexus/web-standard-functions/dist/lib-esm/pubSub/pubSubscription';\r\n\r\n@Injectable({\r\n  providedIn: 'root',\r\n})\r\n\r\nexport class GlobalEvents {\r\n\r\n  subscribe(eventName: string, event: Function): EventSubscription {\r\n    return gxSubscribe(eventName.toLowerCase(), event);\r\n  }\r\n\r\n  unsubscribe(eventSubscription: EventSubscription) {\r\n    gxUnSubscribe(eventSubscription);\r\n  }\r\n\r\n  async publish(eventName: string, ...parameters: any[]) {\r\n    return gxPublish.apply(this, [eventName.toLowerCase()].concat(parameters));\r\n  }\r\n\r\n}\r\n","import { GxCollectionData } from \"app/gx/base/gxcollection.dt\";\r\nimport { UIListLoadingState } from \"app/gx/ui/model/ui-list\";\r\n\r\nexport class GridControllerData<U> extends GxCollectionData<U> {\r\n  start = 0;\r\n  count = 0;\r\n  searchText = '';\r\n  loadingState: UIListLoadingState = UIListLoadingState.loading;\r\n  CurrentItem: U;\r\n  lastBreakValue: Array<any>;\r\n}\r\n\r\nexport class GridElementData<D, U> {\r\n  data: D;\r\n  uiModel: U;\r\n}\r\n\r\nexport class LevelConfig<I, C> {\r\n  itemType: { new(): I; };\r\n  controllerType: C;\r\n\r\n  constructor(it: { new(): I; }, ct: C) {\r\n    this.itemType = it;\r\n    this.controllerType = ct;\r\n  }\r\n}\r\n\r\nexport const gxRowNumberId: string = 'gxIndex';","export class GxBinary {\r\n  uri: string;\r\n\r\n  constructor() {\r\n    this.uri = \"\";\r\n  }\r\n\r\n  toString() {\r\n    return this.uri;\r\n  }\r\n\r\n  fromString(uri: string) {\r\n    this.uri = uri;\r\n  }\r\n\r\n  isEmpty() {\r\n    return this.uri === \"\" || this.uri === null;\r\n  }\r\n\r\n  setEmpty() {\r\n    this.uri = \"\";\r\n  }\r\n\r\n  toBase64String() {\r\n    console.log('toBase64String - Not implemented')\r\n  }\r\n\r\n  fromBase64String(s: string) {\r\n    console.log('fromBase64String - Not implemented')\r\n  }\r\n\r\n  static create(b1: GxBinary) {\r\n    const b2 = new GxBinary();\r\n    b2.uri = b1.uri;\r\n    return b2;\r\n  }\r\n\r\n  static createBinary(url: string) {\r\n    const b = new GxBinary();\r\n    b.uri = url;\r\n    return b;\r\n  }\r\n}","export class GxCollectionData<T> extends Array<T> {\r\n  CurrentItem: T;\r\n\r\n  constructor() {\r\n    super();\r\n  }\r\n\r\n  get Count(): number {\r\n    return this.length;\r\n  }\r\n\r\n  add(element: any, position?: number) {\r\n    if (position) {\r\n      this.splice(position - 1, 0, element);\r\n    } else {\r\n      this.push(element);\r\n    }\r\n  }\r\n\r\n  item(ix: number): any {\r\n    return this[ix - 1];\r\n  }\r\n\r\n  static add(array: Array<any>, element: any, position?: number) {\r\n    if (position) {\r\n      array.splice(position - 1, 0, element);\r\n    } else {\r\n      array.push(element);\r\n    }\r\n  }\r\n\r\n  static fromArray<T>(array: Array<T>): GxCollectionData<T> {\r\n    const collection = new GxCollectionData<T>();\r\n    for (const itm of array) {\r\n      collection.add(itm);\r\n    }\r\n    return collection;\r\n  }\r\n\r\n  static clear(array: Array<any>) {\r\n    array.splice(0, array.length);\r\n  }\r\n\r\n  static clone(array: Array<any>): Array<any> {\r\n    return array.slice(0);\r\n  }\r\n\r\n  static indexOf(array: Array<any>, element: any): number {\r\n    return array.indexOf(element) + 1;\r\n  }\r\n\r\n  static item(array: Array<any>, ix: number): any {\r\n    return array[ix - 1];\r\n  }\r\n\r\n  static remove(array: Array<any>, ix: number) {\r\n    array.splice(ix - 1, 1);\r\n  }\r\n\r\n  static tojson(array: Array<any>): any {\r\n    return JSON.stringify(array);\r\n  }\r\n\r\n  static fromjson(obj: any, json: string) {\r\n    for (const item of JSON.parse(json)) {\r\n      obj.add(item)\r\n    }\r\n  }\r\n}\r\n\r\nexport class GxCollectionOperation {\r\n  type: string;\r\n  element: any;\r\n  info: Array<any>;\r\n\r\n  constructor(t, e, i) {\r\n    this.type = t;\r\n    this.element = e;\r\n    this.info = i;\r\n  }\r\n\r\n  static createAddOperation(element: any, ix: number) {\r\n    return new GxCollectionOperation('add', element, ix ? [ix] : null);\r\n  }\r\n\r\n  static apply(collection: any, operation: GxCollectionOperation): any {\r\n    if (operation.type === 'add') {\r\n      collection.add(operation.element, operation.info);\r\n      return collection;\r\n    }\r\n  }\r\n}","export class GxImage {\r\n  id: string;\r\n  uri: string;\r\n\r\n  constructor() {\r\n    this.id = \"\";\r\n    this.uri = \"\";\r\n  }\r\n\r\n  toString() {\r\n    return this.uri;\r\n  }\r\n\r\n  fromString(url: string) {\r\n    this.uri = url;\r\n  }\r\n\r\n  isEmpty() {\r\n    return !this.uri && !this.id;\r\n  }\r\n\r\n  setEmpty() {\r\n    this.uri = \"\";\r\n    this.id = \"\";\r\n  }\r\n\r\n  toBase64String() {\r\n    console.log('toBase64String - Not implemented')\r\n  }\r\n\r\n  fromBase64String(s: string) {\r\n    console.log('fromBase64String - Not implemented')\r\n  }\r\n\r\n  static createFromURL(url: string) {\r\n    const b = new GxImage();\r\n    b.uri = url;\r\n    return b;\r\n  }\r\n\r\n  static createFromID(id: string) {\r\n    const b = new GxImage();\r\n    b.id = id;\r\n    return b;\r\n  }\r\n\r\n  static create(i1: GxImage) {\r\n    const i2 = new GxImage();\r\n    i2.uri = i1.uri;\r\n    i2.id = i1.id;\r\n    return i2;\r\n  }\r\n\r\n  static createImage(id: string, url: string) {\r\n    const i = new GxImage();\r\n    i.id = id;\r\n    i.uri = url;\r\n    return i;\r\n  }\r\n\r\n}","import { HttpClient } from \"@angular/common/http\";\r\nimport { Injectable } from \"@angular/core\";\r\nimport { Settings } from \"../../app.settings\";\r\n\r\n@Injectable({\r\n  providedIn: \"root\"\r\n})\r\nexport class ImageService {\r\n  constructor(private http: HttpClient) { }\r\n\r\n  images: { [id: string]: {location: string, options: ImageOption[]}[] } = {};\r\n  loadedImages: { [id: string]: boolean } = {};\r\n\r\n  async load(language: string, theme: string) {\r\n    await this.loadImages(language, theme);\r\n  }\r\n\r\n  async loadImages(language: string, theme: string) {\r\n    if (!this.loadedImages[language + theme]) {\r\n      try {\r\n        let response = await this.http\r\n          // TODO: Load images from a specific theme/language definition file\r\n          //.get(`assets/images.${theme}.${language}.json`)\r\n          .get(`assets/images.json`)\r\n          .toPromise();\r\n        const data = response as ImagesData;\r\n        data.images.forEach(image => {\r\n\r\n          if (image.colorScheme) {\r\n            const data = {\r\n              location: image.location,\r\n              options: image.options\r\n            };\r\n            const key = this.resolveImageKey(image.name, image.lang, image.theme, image.colorScheme);\r\n\r\n            if (this.images[key]) {\r\n              let addedImage = this.images[key].find(imageOption => JSON.stringify(imageOption.options) === JSON.stringify((image.options)));\r\n              if (addedImage) {\r\n                addedImage.location = image.location;\r\n              } else {\r\n                this.images[key].push(data);\r\n              }\r\n            } else {\r\n              this.images[key] = [data];\r\n            }\r\n          } else {\r\n            const dataLight = {\r\n              location: image.location,\r\n              options: image.options\r\n            };\r\n            const keyLight = this.resolveImageKey(image.name, image.lang, image.theme, \"light\");\r\n            if (this.images[keyLight]) {\r\n              this.images[keyLight].push(dataLight);\r\n            } else {\r\n              this.images[keyLight] = [dataLight];\r\n            }\r\n\r\n            const dataDark = {\r\n              location: image.location,\r\n              options: image.options\r\n            };\r\n            const keyDark = this.resolveImageKey(image.name, image.lang, image.theme, \"dark\");\r\n            if (this.images[keyDark]) {\r\n              this.images[keyDark].push(dataDark);\r\n            } else {\r\n              this.images[keyDark] = [dataDark];\r\n            }\r\n          }\r\n        });\r\n        this.loadedImages[language + theme] = true;\r\n      } catch (e) {\r\n        console.log(\r\n          `Could not load images definition for ${language}/${theme}`,\r\n          e\r\n        );\r\n      }\r\n    }\r\n  }\r\n\r\n  getImageSource(name: string, language: string, theme: string, colorScheme: string, options: ImageOption[]): string {\r\n    const imageUrl = this.getImage(name, language, theme, colorScheme, options);\r\n    if (imageUrl === \"\") {\r\n      if (name.startsWith(\"https://\") || name.startsWith(\"http://\") || name.startsWith(\"/\")) {\r\n        return name;\r\n      } else {\r\n        return \"\";\r\n      }\r\n    }\r\n    return \"assets/\" + imageUrl;\r\n  }\r\n\r\n  private getImage(name: string, language: string, theme: string, colorScheme: string, options: ImageOption[]): string {\r\n    const imageOptions = this.images[this.resolveImageKey(name, language, theme, colorScheme)];\r\n\r\n    if (imageOptions === null || imageOptions === undefined) {\r\n      return \"\";\r\n    } else {\r\n      let location = \"\";\r\n      let specificity = -1;\r\n\r\n      for(let i=0; i<imageOptions.length; i++) {\r\n        let imageOption = imageOptions[i];\r\n        let match = imageOption.options.every(entry => options.some(option => option.name == entry.name && option.value == entry.value));\r\n\r\n        if (match && imageOption.options.length > specificity) {\r\n          location = imageOption.location;\r\n          specificity = imageOption.options.length;\r\n        }\r\n      }\r\n\r\n      return location;\r\n    }\r\n  }\r\n\r\n  private resolveImageKey(name: string, lang: string, theme: string, colorScheme: string) {\r\n    return `${name.toLowerCase()}_${lang.toLowerCase()}_${theme.toLowerCase()}_${colorScheme.toLowerCase()}`;\r\n  }\r\n}\r\n\r\nexport class ImagesData {\r\n  images: ImageData[];\r\n}\r\n\r\nexport class ImageData {\r\n  name: string;\r\n  location: string;\r\n  theme: string;\r\n  lang: string;\r\n  colorScheme: string;\r\n  options: ImageOption[];\r\n}\r\n\r\nexport class ImageOption {\r\n  name: string;\r\n  value: string;\r\n}\r\n","import { Injectable, ComponentFactory, ComponentFactoryResolver } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class LazyLoaderService {\r\n\r\n  constructor(\r\n    private router: Router,\r\n    private factoryResolver: ComponentFactoryResolver\r\n  ) { }\r\n\r\n  async findComponentFactory(componentPath: string): Promise<ComponentFactory<any>> {\r\n    const cfg = await this.findComponentConfig(componentPath, this.router.config);\r\n    if (cfg) {\r\n      const comp = cfg.component;\r\n      const factory = this.factoryResolver.resolveComponentFactory(comp);\r\n      return new Promise((resolve) => { resolve(factory) });\r\n    }\r\n    return null;\r\n  }\r\n\r\n  async findComponentRoute(componentPath: string): Promise<string> {\r\n    const cfg = await this.findComponentConfig(componentPath, this.router.config);\r\n    return cfg ? cfg.path : null;\r\n  }\r\n\r\n  async findComponentConfig(typeName: string, routes): Promise<any> {\r\n    const path = typeName.replace(/^\\w+\\./g, \"\").toLocaleLowerCase();\r\n    for (const route of routes) {\r\n      if (route.path.toLocaleLowerCase().indexOf(path) >= 0) {\r\n        return route;\r\n      }\r\n      else if (route.loadChildren) {\r\n        const mod = await route.loadChildren();\r\n        let newRoutes = [];\r\n        if (mod.routes) {\r\n          newRoutes = mod.routes;\r\n        } else {\r\n          newRoutes = route._loadedConfig.routes;\r\n        }\r\n        return await this.findComponentConfig(typeName, newRoutes);\r\n      }\r\n    }\r\n  }\r\n}","import {\r\n  OnInit,\r\n  OnChanges,\r\n  AfterViewInit,\r\n  Input,\r\n  ViewChildren,\r\n  QueryList,\r\n  Directive,\r\n  ChangeDetectorRef\r\n} from \"@angular/core\";\r\nimport { ActivatedRoute } from \"@angular/router\";\r\nimport { Subscription, BehaviorSubject, combineLatest } from \"rxjs\";\r\nimport { AppContainer } from \"app/gx/base/app-container\";\r\nimport { ViewManager, ComponentViewDefinition } from \"app/gx/base/view-manager\";\r\nimport { TypeConversions } from \"app/gx/base/type-conversion\";\r\nimport { ComponentHostComponent } from \"app/gx/ui/controls/component-host/component-host.component\";\r\nimport { msg } from \"@genexus/web-standard-functions/dist/lib-esm/misc/msg\";\r\nimport { CompositeNavigation } from \"app/gx/navigation/composite-navigation\";\r\nimport { IStateContainer } from \"app/gx/navigation/navigation-state\";\r\nimport { PanelNavigationState } from \"app/gx/navigation/panel-navigation-state.dt\";\r\nimport { NavigationHelper } from \"app/gx/navigation/navigation-helper\";\r\nimport { ActionState } from \"app/gx/base/action-state.dt\";\r\nimport { OutletsHelper } from \"app/gx/navigation/outlets-helper\";\r\nimport { GUID as stdGUID } from '@genexus/web-standard-functions/dist/lib-esm/types/guid';\r\nimport { Settings } from \"../../app.settings\";\r\nimport { GxCollectionData } from \"./gxcollection.dt\";\r\nimport { GAMService } from \"app/gx/auth/gam.service\";\r\n\r\n/**\r\n * Class implementing the base panel behaviour\r\n */\r\n@Directive()\r\nexport class PanelComponent\r\n  implements OnInit, OnChanges, AfterViewInit, IStateContainer {\r\n  @Input() Mode: string;\r\n  @Input() sectionType: string;\r\n\r\n  private _isDynComponent = false;\r\n  private _dynCompoParameters: any;\r\n  private _dynRefresh = false;\r\n  showAsCard = true;\r\n  canControlAppBar = false;\r\n\r\n  _dataReady$ = new BehaviorSubject<boolean>(false);\r\n  _viewInitialized$ = new BehaviorSubject<boolean>(false);\r\n\r\n  viewManager = new ViewManager();\r\n  views: ComponentViewDefinition[];\r\n\r\n  _actionsEnabled = false;\r\n\r\n\r\n  stateMembers = [[], []];\r\n  _navigation = new PanelNavigationState();\r\n  _outlet: string = null;\r\n  _routingPath: string;\r\n  _tst = new Date();\r\n\r\n  private _subscriptions = new Subscription();\r\n\r\n  static nextRuntimeActionId = 1;\r\n\r\n  static activePanel = null;\r\n\r\n  @ViewChildren(ComponentHostComponent, { emitDistinctChangesOnly: false }) childComponents: QueryList<ComponentHostComponent>;\r\n  componentsController = new ComponentsController();\r\n\r\n  constructor(\r\n    public app: AppContainer,\r\n    protected nvg: CompositeNavigation,\r\n    protected activatedRoute: ActivatedRoute,\r\n    protected cdr: ChangeDetectorRef\r\n  ) { }\r\n\r\n  ngOnInit() {\r\n    this._actionsEnabled = false;\r\n\r\n    this.viewManager.start(this.views);\r\n\r\n    this._subscriptions.add(\r\n      this.activatedRoute.params.subscribe(async (params) => {\r\n        // Route parameters have changed\r\n        this._actionsEnabled = false;\r\n\r\n        if (this.nvg.restoringComponent()) {\r\n          // Restoring component\r\n          let stateFound = false;\r\n          if (!this._dynRefresh) {\r\n            // Pending action -> must wait for completion\r\n            await this.nvg.waitForActionToComplete();\r\n            const nid = this.nvg.getRestoringNID();\r\n            stateFound = this.nvg.restoreState(\r\n              this.constructor.name,\r\n              this._outlet,\r\n              nid,\r\n              this\r\n            );\r\n\r\n            if (!stateFound) {\r\n              // can't restore (no state found) -> init and load panel\r\n              this.initState(this._isDynComponent ? this._dynCompoParameters : null);\r\n              await this.loadPanel();\r\n            } else {\r\n              this.viewManager.update(this.Mode);\r\n            }\r\n          }\r\n        } else {\r\n          // Navigation state\r\n          this._navigation = new PanelNavigationState();\r\n          this._navigation.iid = NavigationHelper.newComponentInstanceId();\r\n          this._navigation.fromAction = this.nvg.getRunningAction();\r\n          this._navigation.outlet = this._outlet;\r\n          this._navigation.nid = this.nvg.getNavigationId();\r\n          this._navigation.navigationCommand = this.nvg.getNavigationCommand();\r\n          PanelComponent.activePanel = this;\r\n\r\n          if (this.sectionType === \"inline\") {\r\n            this.initState(params);\r\n          }\r\n          else if (this.isOutletContent()) {\r\n            // Push new navigation to outlet stack\r\n            const nvgCommand: Array<any> = [this._routingPath];\r\n            if (!NavigationHelper.emptyParams(params)) {\r\n              nvgCommand.push(params);\r\n            }\r\n            this.nvg.pushToOutlet(\r\n              this.nvg.getNavigationId(),\r\n              this._outlet,\r\n              nvgCommand\r\n            );\r\n            this.initState(this._isDynComponent ? this._dynCompoParameters : params);\r\n          }\r\n          else if (this._isDynComponent) {\r\n            this.initState(this._dynCompoParameters);\r\n          }\r\n          else {\r\n            this.initState(null);\r\n          }\r\n\r\n          await this.initPanel();\r\n          await this._ClientStart();\r\n          await this.loadPanel();\r\n        }\r\n\r\n        this.cdr.markForCheck();\r\n\r\n        this._dynRefresh = false;\r\n        this._actionsEnabled = true;\r\n        this.viewManager.bindApplicationBar();\r\n        this.initControllers();\r\n        this.nvg.saveState(\r\n          this.constructor.name,\r\n          this._outlet,\r\n          this.nvg.getNavigationId(),\r\n          this\r\n        );\r\n        this._dataReady$.next(true);\r\n      })\r\n    );\r\n\r\n    this._subscriptions.add(\r\n      combineLatest([this._dataReady$, this._viewInitialized$]).subscribe(\r\n        (params) => {\r\n          // Data ready and view initialized -> Start inner components\r\n          if (params[0] === true && params[1] === true) {\r\n            this.componentsController.start(this.childComponents);\r\n            this._dataReady$.complete();\r\n            this._viewInitialized$.complete();\r\n          }\r\n        }\r\n      )\r\n    );\r\n\r\n    this._subscriptions.add(\r\n      this.app.uiContextSubject.subscribe(() => {\r\n        this.Refresh();\r\n      }\r\n      ));\r\n\r\n    this.startEvents();\r\n  }\r\n\r\n  ngOnChanges() {\r\n  }\r\n\r\n  ngAfterViewInit() {\r\n    this._viewInitialized$.next(true);\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this._subscriptions.unsubscribe();\r\n    if (this.viewManager) this.viewManager.end();\r\n    if (this.componentsController) this.componentsController.end();\r\n    this.endEvents();\r\n  }\r\n\r\n  async _ClientStart(): Promise<any> { }\r\n  async Refresh(type?: string) { } // TODO: Support type='keep'\r\n  initState(params) {\r\n    this.loadParams(params);\r\n  }\r\n  loadParams(params) { }\r\n  async initPanel() { }\r\n  async loadPanel() { }\r\n  initControllers() { }\r\n  startEvents() { }\r\n  endEvents() { }\r\n\r\n  async __Cancel() {\r\n    const __aSt = this.startAction();\r\n    await this.cancel(__aSt);\r\n    this.endAction(__aSt);\r\n  }\r\n\r\n  private isOutletContent() {\r\n    return (\r\n      !this._isDynComponent || OutletsHelper.isSecondaryOutlet(this._outlet)\r\n    );\r\n  }\r\n\r\n  //////////////////////////////////////////////////////////////////////////////////////////////////\r\n  // Panel loaded as dynamic component\r\n  //\r\n  initDynComponent(outlet: string, parameters: any) {\r\n    this._isDynComponent = true;\r\n    this._dynCompoParameters = parameters;\r\n    this.showAsCard = false;\r\n    this._outlet = outlet;\r\n  }\r\n\r\n  refreshDynComponent(outlet: string, parameters: any) {\r\n    this.initDynComponent(outlet, parameters);\r\n    this._dynRefresh = true;\r\n  }\r\n\r\n  //////////////////////////////////////////////////////////////////////////////////////////////////\r\n  // Events processing\r\n  //\r\n  callAction = async (actionMethod: any, ...parms) => {\r\n    await actionMethod.bind(this)(...parms);\r\n  };\r\n\r\n  startAction(): ActionState {\r\n    const act = new ActionState();\r\n    act.iid = this._navigation.iid;\r\n    act.navigationState = this._navigation;\r\n    act.actionId = PanelComponent.nextRuntimeActionId++;\r\n    return act;\r\n  }\r\n\r\n  endAction(act: ActionState) {\r\n    this.nvg.updateStateByIID(act.iid, this);\r\n    this.nvg.endAction(act);\r\n  }\r\n\r\n  getRunningAction(outlet: string) { }\r\n\r\n  //////////////////////////////////////////////////////////////////////////////////////////////////\r\n  // Navigation and state management\r\n  //\r\n  async navigate(nvgCommand: any, act?: ActionState): Promise<any> {\r\n    return this.nvg.navigate(nvgCommand, act);\r\n  }\r\n\r\n  async navigateForResult(nvgCommand: any, act?: ActionState): Promise<any> {\r\n    return new Promise<any>(async (complete) => {\r\n      let result = await this.nvg.navigateForResult(nvgCommand, act);\r\n      this.nvg.restoreStateByIID(act.iid, this);\r\n      complete(result);\r\n    });\r\n  }\r\n\r\n  async navigateForResultWithExtras(nvgCommand: any, extras: any, act?: ActionState): Promise<any> {\r\n    return new Promise<any>(async (complete) => {\r\n      let result = await this.nvg.navigateForResultWithExtras(nvgCommand, extras, act);\r\n      this.nvg.restoreStateByIID(act.iid, this);\r\n      complete(result);\r\n    });\r\n  }\r\n\r\n  //////////////////////////////////////////////////////////////////////////////////////////////////\r\n  // UIModel properties\r\n  //   UImodel properties update method\r\n  updateUIModel(uiModel: any, defaultValues: any = []) {\r\n    for (let i = 0; i < defaultValues.length; i++) {\r\n      PanelComponent.setProperty(defaultValues[i][0], defaultValues[i][1], defaultValues[i][2], uiModel);\r\n    }\r\n  }\r\n\r\n  //////////////////////////////////////////////////////////////////////////////////////////////////\r\n  // Dynamic properties\r\n  //   dynamic properties are set in the server and arrive in the main dataprovider payload\r\n  updateGxdynprops(entity: any, uiModel: any) {\r\n    if (entity.Gxdynprop) {\r\n      const dynProps = JSON.parse(entity.Gxdynprop);\r\n      for (let i = 0; i < dynProps.length; i++) {\r\n        PanelComponent.setProperty(PanelComponent.toControlName(dynProps[i][0]), dynProps[i][1], dynProps[i][2], uiModel);\r\n      }\r\n    }\r\n    if (entity.Gxdyncall) {\r\n      const dynCalls = JSON.parse(entity.Gxdyncall);\r\n      for (let i = 0; i < dynCalls.length; i++) {\r\n        this.nvg.dynamicCall(null, dynCalls[i]);\r\n      }\r\n    }\r\n  }\r\n\r\n  static setProperty(ctrlName: string, propName1: string, propValue: any, uiModel: any): boolean {\r\n    let handled = false;\r\n    const propName = propName1[0].toLowerCase() + propName1.substring(1);\r\n    if (uiModel[ctrlName]) {\r\n      if (\r\n        typeof propValue === \"string\" &&\r\n        (propValue.toLowerCase() === \"false\" ||\r\n          propValue.toLowerCase() === \"true\")\r\n      ) {\r\n        uiModel[ctrlName][propName] = propValue.toLowerCase() === \"true\";\r\n      } else if (Array.isArray(propValue)) {\r\n        uiModel[ctrlName][propName] = GxCollectionData.fromArray(propValue);\r\n      } else {\r\n        uiModel[ctrlName][propName] = propValue;\r\n      }\r\n      handled = true;\r\n    }\r\n\r\n    if (!handled) {\r\n      console.log(\r\n        `Could not setProperty Control property: '${ctrlName}.${propName}'`\r\n      );\r\n    }\r\n    return handled;\r\n  }\r\n\r\n  static toControlName(propControl: string): string {\r\n    let ctrlName = propControl;\r\n    if (ctrlName.startsWith(\"&\")) {\r\n      ctrlName = ctrlName.substring(1);\r\n    }\r\n    return (\r\n      \"ctrl\" + ctrlName[0].toUpperCase() + ctrlName.substring(1).toLowerCase()\r\n    );\r\n  }\r\n\r\n  //////////////////////////////////////////////////////////////////////////////////////////////////\r\n  // Translations\r\n  //   Translation support for text and images\r\n\r\n  translate(key: string) {\r\n    return this.app.translate(key);\r\n  }\r\n\r\n  getImageSource(key: string) {\r\n    return this.app.getImageSource(key);\r\n  }\r\n\r\n  //////////////////////////////////////////////////////////////////////////////////////////////////\r\n  // Outlet management\r\n\r\n  get outlet(): string {\r\n    return this._outlet;\r\n  }\r\n\r\n  //////////////////////////////////////////////////////////////////////////////////////////////////\r\n  // SD Actions\r\n\r\n  async return(result: any, act: any) {\r\n    await this.nvg.back(act, result);\r\n  }\r\n\r\n  async cancel(act: any) {\r\n    await this.nvg.back(act);\r\n  }\r\n\r\n  returnTo(url: string, act: any): void {\r\n    this.nvg.backTo(url, act);\r\n  }\r\n\r\n  cancelTo(url: string, act: any): void {\r\n    this.nvg.backTo(url, act);\r\n  }\r\n\r\n  goHome(act: any): void {\r\n    this.nvg.goHome(act);\r\n  }\r\n\r\n  //////////////////////////////////////////////////////////////////////////////////////////////////\r\n  // Interop\r\n\r\n  OpenInBrowser(url: string) {\r\n    window.location.href = url;\r\n  }\r\n\r\n  //////////////////////////////////////////////////////////////////////////////////////////////////\r\n  // Composite events processing\r\n\r\n  isCompositeExecution = false;\r\n\r\n  processCompositeError(e: Error) {\r\n    console.error(e.toString());\r\n    if (!(e as CompositeCancel)) {\r\n      this.app.setMessage(e.toString());\r\n    }\r\n  }\r\n\r\n  compositeExecution(result, isComposite = true) {\r\n    if (isComposite && this.app.err > 0) {\r\n      throw new CompositeCancel(\"Composite cancelled\");\r\n    }\r\n    return result;\r\n  }\r\n\r\n  raiseCompositeMessage(messages: any) {\r\n    if (messages.length > 0) {\r\n      this.app.setError(messages[0].Type);\r\n      this.app.setMessage(messages[0].Description);\r\n      throw new CompositeCancel(\"Composite cancelled\");\r\n    }\r\n  }\r\n\r\n  //////////////////////////////////////////////////////////////////////////////////////////////////\r\n  // Hidecode\r\n\r\n  validateHidecode(result: string[]): string {\r\n    if (result.length > 1 && result[1] === \"101\") {\r\n      msg(this.translate(\"GXM_keynfound\"));\r\n    } else {\r\n      return result[0];\r\n    }\r\n  }\r\n\r\n  //////////////////////////////////////////////////////////////////////////////////////////////////\r\n  // Athentication\r\n\r\n  public async checkAuthentication(gam: GAMService) {\r\n    if (!gam.isLogged()) {\r\n      if (Settings.GAM_ANONYMOUS_USER) {\r\n        await gam.registerAnonymous();\r\n      } else if (Settings.GAM_CLIENT_LOGIN) {\r\n        const __aSt = this.startAction();\r\n        await this.navigateForResult([Settings.GAM_CLIENT_LOGIN], __aSt);\r\n        this.endAction(__aSt);\r\n      }\r\n    }\r\n  }\r\n\r\n  //////////////////////////////////////////////////////////////////////////////////////////////////\r\n  // Methods used in templates\r\n\r\n  dateToISOString = TypeConversions.UIDateToISOString;\r\n  timeToISOString = TypeConversions.UITimeToISOString;\r\n  datetimeToISOString = TypeConversions.UIDatetimeToISOString;\r\n  dateFromISOString = TypeConversions.UIDateFromISOString;\r\n  GUID = stdGUID;\r\n  createImageFromURL = this.app.createImageFromURL;\r\n  createBinaryFromURL = this.app.createBinaryFromURL;\r\n}\r\n\r\n/**\r\n * Composite cancel management\r\n */\r\nexport class CompositeCancel extends Error { }\r\n\r\n/**\r\n * Panel GX components controller\r\n */\r\nexport class ComponentsController {\r\n  state: any;\r\n  components: QueryList<ComponentHostComponent>;\r\n\r\n  _subscriptions = new Subscription();\r\n\r\n  setState(s: any) {\r\n    this.state = s;\r\n  }\r\n\r\n  start(c: QueryList<ComponentHostComponent>) {\r\n    this.components = c;\r\n    this.components.setDirty();\r\n    this._subscriptions = this.components.changes.subscribe(\r\n      (comps: QueryList<ComponentHostComponent>) => {\r\n        // DOM changed\r\n        if (this.state !== undefined) {\r\n          comps.forEach((comp) => {\r\n            comp.start(this.state);\r\n          });\r\n        }\r\n      }\r\n    );\r\n  }\r\n\r\n  end() {\r\n    this._subscriptions.unsubscribe();\r\n  }\r\n\r\n  async refresh(componentId: string, data: any) {\r\n    if (this.components) {\r\n      // Started\r\n      await this.components.forEach(async (comp) => {\r\n        if (comp.id === componentId) {\r\n          await comp.refresh(data);\r\n          return;\r\n        }\r\n      });\r\n    }\r\n  }\r\n}\r\n","import { Router } from \"@angular/router\";\r\nimport { msg } from '@genexus/web-standard-functions/dist/lib-esm/misc/msg';\r\nimport { GAMService } from \"app/gx/auth/gam.service\";\r\nimport { AppContainer } from \"./app-container\";\r\nimport { GxBinary } from \"./gxbinary.dt\";\r\nimport { GxImage } from \"./gximage.dt\";\r\nimport { TypeConversions } from \"./type-conversion\";\r\n\r\n\r\nexport class PanelService {\r\n  private router: Router;\r\n  private loginService: GAMService;\r\n\r\n  app: AppContainer;\r\n\r\n  gxids = [];\r\n  \r\n  constructor(_router: Router, _loginService: GAMService, _app: AppContainer) {\r\n    this.router = _router;\r\n    this.loginService = _loginService;\r\n    this.app = _app;\r\n  }\r\n\r\n  start() {\r\n    this.gxids = [];\r\n  }\r\n\r\n  public async handleError(e: any): Promise<any> {\r\n    let message = null;\r\n    if (e && e.error && e.error.error && e.error.error.message) {\r\n      message = e.error.error.message || e.message;\r\n    } else if (e && e.message) {\r\n      message = e.message;\r\n    }\r\n    if (message) {\r\n      await msg(message);\r\n    }\r\n    return Promise.resolve(message || e);\r\n  }\r\n\r\n  getGxid(serviceId: number) {\r\n    if (!this.gxids[serviceId]) {\r\n      this.gxids[serviceId] = Math.floor(Math.random() * 100000000 + 1);\r\n    }\r\n    return this.gxids[serviceId];\r\n  }\r\n\r\n  dateToISOString(d: Date): string {\r\n    //We should use Timezone offset. But in order to work with current services, we must remove timezone offset.\r\n    return TypeConversions.datetimeToISOString(d);\r\n  }\r\n}\r\n","import { Injectable } from \"@angular/core\";\r\nimport { HttpClient } from \"@angular/common/http\";\r\nimport { Settings } from \"./../../app.settings\";\r\n\r\n@Injectable({\r\n  providedIn: \"root\"\r\n})\r\nexport class TranslationService {\r\n  constructor(private http: HttpClient) { }\r\n\r\n  translations: { [id: string]: string } = {};\r\n  images: { [id: string]: string } = {};\r\n  loadedTranslations: { [id: string]: boolean } = {};\r\n  loadedImages: { [id: string]: boolean } = {};\r\n\r\n  async load(language: string) {\r\n    await this.loadTranslations(language);\r\n  }\r\n\r\n  async loadTranslations(language: string) {\r\n    if (!this.loadedTranslations[language]) {\r\n      try {\r\n        let response = await this.http\r\n          .get(`translations/${language}.json`)\r\n          .toPromise();\r\n        const data = response as TranslationsData;\r\n        data.Translations.forEach(t => (this.translations[t.M] = t.T));\r\n        this.loadedTranslations[language] = true;\r\n      } catch (e) {\r\n        console.log(\r\n          `Could not load translations definition for ${language}`,\r\n          e\r\n        );\r\n      }\r\n    }\r\n  }\r\n\r\n  translate(name: string): string {\r\n    if (this.translations[name] !== undefined) {\r\n      return this.translations[name];\r\n    } else {\r\n      return name;\r\n    }\r\n  }\r\n\r\n  getLanguageDirection(language: string): string {\r\n    for (const l of Settings.applicationLanguages) {\r\n      if (l.name.toLowerCase() === language.toLowerCase()) {\r\n        return l.isRightToLeft ? 'rtl' : 'ltr';\r\n      }\r\n    }\r\n    return 'ltr';\r\n  }\r\n}\r\n\r\nexport class TranslationsData {\r\n  Translations: TranslationsItemData[];\r\n}\r\n\r\nexport class TranslationsItemData {\r\n  M: string;\r\n  T: string;\r\n}\r\n\r\nexport class ApplicationLanguageDefinition {\r\n  name: string;\r\n  isRightToLeft: boolean;\r\n}","import { GxCollectionData } from \"./gxcollection.dt\";\r\nimport { plainToClassFromExist, classToPlain } from \"class-transformer\";\r\nimport { gxRowNumberId } from './grid-data';\r\nimport { isEmpty as DateTime_isEmpty, isEmpty } from '@genexus/web-standard-functions/dist/lib-esm/date/isEmpty';\r\n\r\n\r\nexport class TypeConversions {\r\n\r\n  static arrayToCollection<T>(items?: Array<any>, c?: { new(): T; }): GxCollectionData<T> {\r\n    const collection = new GxCollectionData<T>();\r\n    if (items) {\r\n      let idx = 0;\r\n      items.forEach(element => {\r\n        const item = TypeConversions.objectToClass<T>(element, c);\r\n        item[gxRowNumberId] = idx++;\r\n        collection.push(item);\r\n      });\r\n    }\r\n    return collection;\r\n\r\n  }\r\n\r\n  static objectToClass<T>(obj: any, c: { new(): T; }) {\r\n    const obj1 = plainToClassFromExist(new c(), obj);\r\n    return TypeConversions.convertDateContent(obj1, new c());\r\n  }\r\n\r\n  static classToObject(obj: any) {\r\n    return classToPlain(obj);\r\n  }\r\n\r\n  static classToString(obj): string {\r\n    return JSON.stringify(this.classToObject(obj));\r\n  }\r\n\r\n  static convertDateContent(o1: any, c: any): any {\r\n    for (let p in o1) {\r\n      if (c[p] && c[p] instanceof Date) {\r\n        let d = new Date(0, 0, 0, 0, 0, 0);\r\n        if (o1[p] instanceof Date) continue; // hack , this should be handled in previous phases.\r\n        if (!o1[p].startsWith(\"0000-00-00\")) {\r\n          if (o1[p].indexOf(\"T\") > -1) {\r\n            // Format = yyyy-mm-ddThh:mm:ss -> UTC\r\n            const datetimeS = o1[p].split(\"T\");\r\n            const dateS = datetimeS[0].split(\"-\");\r\n            const timeS = datetimeS[1].split(\":\");\r\n            if (+dateS[0] === 1) {\r\n              d = new Date();\r\n              d.setUTCHours(+timeS[0]);\r\n              d.setUTCMinutes(+timeS[1]);\r\n              d.setUTCSeconds(+timeS[2] || 0);\r\n            } else {\r\n              d = new Date(Date.UTC(+dateS[0], +dateS[1] - 1, +dateS[2], +timeS[0], +timeS[1] || 0, +timeS[2] || 0));\r\n            }\r\n          } else {\r\n            // Format = yyyy-mm-dd -> local\r\n            if (o1[p] !== \"0000-00-00\") {\r\n              const dateS = o1[p].split(\"-\");\r\n              d = new Date(+dateS[0], +dateS[1] - 1, +dateS[2], 0, 0, 0);\r\n            }\r\n          }\r\n        }\r\n        o1[p] = d;\r\n      }\r\n    }\r\n    return o1;\r\n  }\r\n\r\n  static timeToISOString(d: Date): string {\r\n    if (d) {\r\n      const a = TypeConversions.dateToArray(d);\r\n      return TypeConversions.dateArrayToTimeString(a);\r\n    }\r\n    return '';\r\n  }\r\n\r\n  static dateToISOString(d: Date): string {\r\n    if (d) {\r\n      const a = TypeConversions.dateToArray(d);\r\n      return TypeConversions.dateArrayToDateString(a);\r\n    }\r\n    return '';\r\n  }\r\n\r\n  static datetimeToISOString(d: Date): string {\r\n    if (d) {\r\n      const a = TypeConversions.dateToArray(d);\r\n      return TypeConversions.dateArrayToDatetimeString(a);\r\n    }\r\n    return '';\r\n  }\r\n\r\n  static datetimeFromISOString(s: string): Date {\r\n    let d: Date;\r\n    try {\r\n      const da = TypeConversions.ISODateToDTA(s);\r\n      d = TypeConversions.DTAToDate(da);\r\n    }\r\n    catch {\r\n\r\n      throw new Error('Invalid date: \"' + s + '\"');\r\n    }\r\n    if (!TypeConversions.isValidDate(d)) {\r\n      // Not ISO, try to convert from any supported fromat\r\n      d = new Date(s);\r\n    }\r\n    return d;\r\n  }\r\n\r\n  static isValidDate(d: any) {\r\n    return d instanceof Date && !isNaN(d.getTime());\r\n  }\r\n\r\n  static dateToArray(d: Date): Array<number> {\r\n    return [d.getFullYear(), d.getMonth(), d.getDate(), d.getHours(), d.getMinutes(), d.getSeconds()];\r\n  }\r\n\r\n  static dateArrayToDatetimeString(s: Array<number>): string {\r\n    // yyyy-mm-ddThh:mm:ss\r\n    return (\"000\" + s[0]).slice(-4) + \"-\" + (\"0\" + (s[1] + 1)).slice(-2) + \"-\" + (\"0\" + s[2]).slice(-2) + \"T\" + (\"0\" + s[3]).slice(-2) + \":\" + (\"0\" + s[4]).slice(-2) + \":\" + (\"0\" + s[5]).slice(-2);\r\n  }\r\n\r\n  static dateArrayToDateString(s: Array<number>): string {\r\n    // yyyy-mm-dd\r\n    return (\"000\" + s[0]).slice(-4) + \"-\" + (\"0\" + (s[1] + 1)).slice(-2) + \"-\" + (\"0\" + s[2]).slice(-2);\r\n  }\r\n\r\n  static dateArrayToTimeString(s: Array<number>): string {\r\n    // hh:mm:ss\r\n    return (\"0\" + s[3]).slice(-2) + \":\" + (\"0\" + s[4]).slice(-2) + \":\" + (\"0\" + s[5]).slice(-2);\r\n  }\r\n\r\n  static ISODateToDTA(s: string): Array<number> {\r\n    // DTA = Array<numeric> = [date_format, year, month, day, hour, min, sec ]\r\n    const datetimeS = s.split(\"T\");\r\n    if (datetimeS.length > 1) {\r\n      const dateS = datetimeS[0].split(\"-\");\r\n      const timeS = datetimeS[1].split(\":\");\r\n      return [-1, +dateS[0], +dateS[1], +dateS[2], +timeS[0], +timeS[1], +timeS[2]];    // -1=DATE_AND_TIME\r\n    }\r\n    else if (s.indexOf(\"-\") > 1) {\r\n      const dateS = datetimeS[0].split(\"-\");\r\n      return [-2, +dateS[0], +dateS[1], +dateS[2], 0, 0, 0];  // -2=ONLY_DATE\r\n    }\r\n    else if (s.indexOf(\":\") > -1) {\r\n      const timeS = datetimeS[0].split(\":\");\r\n      return [-3, 0, 0, 0, +timeS[0], +timeS[1], +timeS[2]];  // -3=ONLY_TIME\r\n    }\r\n    return [0, 0, 0, 0, 0, 0, 0]; // 0=INVALID_DATE\r\n  }\r\n\r\n  static DTAToDate(dta: Array<number>): Date {\r\n    if (dta[0] === 0) {  // INVALID_DATE\r\n      return new Date(0, 0, 0);\r\n    } else {  // DATE_AND_TIME\r\n      const a = dta.slice(1);\r\n      return TypeConversions.arrayToDate(a);\r\n    }\r\n  }\r\n\r\n  static arrayToDate(a: Array<number>): Date {\r\n    const d = new Date();\r\n    d.setFullYear(+a[0], +a[1] - 1, +a[2]);\r\n    d.setHours(+a[3]);\r\n    d.setMinutes(+a[4]);\r\n    d.setSeconds(+a[5]);\r\n    return d;\r\n  }\r\n\r\n  static UIDateToISOString(d: Date): string {\r\n    if (!isEmpty(d)) {\r\n      let s = TypeConversions.dateToISOString(d);\r\n      return TypeConversions.getDateUIValue(d, s);\r\n    }\r\n    return \"\";\r\n  }\r\n\r\n  static UITimeToISOString(d: Date): string {\r\n    if (!isEmpty(d)) {\r\n      let s = TypeConversions.timeToISOString(d);\r\n      return TypeConversions.getDateUIValue(d, s);\r\n    }\r\n    return \"\";\r\n  }\r\n\r\n  static UIDatetimeToISOString(d: Date): string {\r\n    if (!isEmpty(d)) {\r\n      let s = TypeConversions.datetimeToISOString(d);\r\n      return TypeConversions.getDateUIValue(d, s);\r\n    }\r\n    return \"\";\r\n  }\r\n\r\n  static UIDateFromISOString(s: string): Date {\r\n    let d = TypeConversions.datetimeFromISOString(s);\r\n    TypeConversions.setDateUIValue(d, s);\r\n    return d;\r\n  }\r\n\r\n  static setDateUIValue(d: Date, s: string) {\r\n    d[\"UI_VALUE\"] = s;\r\n  }\r\n\r\n  static getDateUIValue(d: Date, s: string): string {\r\n    if (!d[\"UI_VALUE\"]) {\r\n      d[\"UI_VALUE\"] = s;\r\n    }\r\n    return d[\"UI_VALUE\"];\r\n  }\r\n\r\n  static UISetValidDate(d: Date, newD: Date): Date {\r\n    if (newD) {\r\n      return newD;\r\n    }\r\n    else {\r\n      return d;\r\n    }\r\n  }\r\n\r\n}\r\n","import { Observable, Subscription, fromEvent } from \"rxjs\";\r\nimport { Settings } from \"app/app.settings\";\r\nimport { GeneXusClientClientInformation } from \"@genexus/web-standard-functions/dist/lib-esm/gxcore/client/client-information\";\r\n\r\nexport enum NavigationStyle {\r\n  Cascade = \"cascade\",\r\n  Flip = \"flip\",\r\n  Slide = \"slide\",\r\n  Split = \"split\",\r\n}\r\n\r\nexport class ViewManager {\r\n  resizeObservable: Observable<Event>;\r\n  resizeSubscription: Subscription;\r\n\r\n  views: ComponentViewDefinition[] = [];\r\n  view: string = null;\r\n  type = \"\";\r\n\r\n  oldMode = \"\";\r\n\r\n  start(viewVariants: ComponentViewDefinition[]) {\r\n    this.views = viewVariants || [];\r\n    this.updateViewManager();\r\n    this.resizeObservable = fromEvent(window, \"resize\");\r\n    this.resizeSubscription = this.resizeObservable.subscribe(evt => {\r\n      this.updateViewManager();\r\n    });\r\n  }\r\n\r\n  bindApplicationBar() {\r\n    const currentView = this.selectView();\r\n    const currentNavigationStyle = this.selectNavigationStyle(currentView);\r\n\r\n    if (currentView !== undefined) {\r\n      if (currentView.appBarBindFn !== undefined) {\r\n        currentView.appBarBindFn(currentNavigationStyle);\r\n      }\r\n    }\r\n  }\r\n\r\n  update(m: string) {\r\n    if (this.oldMode !== m) {\r\n      if (m !== \"\") {\r\n        this.type = \"edit\";\r\n      } else {\r\n        this.type = \"\";\r\n      }\r\n      this.updateViewManager();\r\n      this.oldMode = m;\r\n    }\r\n  }\r\n\r\n  updateViewManager() {\r\n    const currentView = this.selectView();\r\n    const currentNavigationStyle = this.selectNavigationStyle(currentView);\r\n\r\n    if (currentView !== undefined && currentView.name !== this.view) {\r\n      if (currentView.appBarInitFn !== undefined) {\r\n        // Set view to show\r\n        this.view = currentView.name;\r\n        // Init view model\r\n        currentView.appBarInitFn();\r\n        // Setup and bind view actions\r\n        currentView.appBarBindFn(currentNavigationStyle);\r\n      }\r\n    }\r\n  }\r\n\r\n  selectView() {\r\n    const forWeb = GeneXusClientClientInformation.platformName() === \"Web\";\r\n    return this.views\r\n      .filter((platform) => { return forWeb && platform.os === \"Web\" || !forWeb && platform.os !== \"Web\" })\r\n      .filter((platform) => this.type === \"\" || platform.type === this.type)\r\n      .find(viewMatchesViewport(window))\r\n      || this.views\r\n        .filter((platform) => this.type === \"\" || platform.type === this.type)\r\n        .find(viewMatchesViewport(window))\r\n      || this.views[0];\r\n  }\r\n\r\n  selectNavigationStyle(currentView: ComponentViewDefinition) {\r\n    return currentView !== undefined &&\r\n      currentView.navigationStyle !== \"default\"\r\n      ? currentView.navigationStyle\r\n      : Settings.DEFAULT_NAVIGATION_STYLE;\r\n  }\r\n\r\n  end() {\r\n    if (this.resizeSubscription) {\r\n      this.resizeSubscription.unsubscribe();\r\n    }\r\n    const viewDef = this.getViewDefinition();\r\n    if (viewDef !== undefined && viewDef.appBarResetFn !== undefined) {\r\n      viewDef.appBarResetFn();\r\n    }\r\n  }\r\n\r\n  getUIModelDefaults(containerName?: string) {\r\n    const viewDef = this.getViewDefinition();\r\n    if (viewDef !== undefined && viewDef.appBarResetFn !== undefined) {\r\n      return viewDef.UIModelDefaults(containerName, this.selectNavigationStyle(viewDef));\r\n    }\r\n    return [];\r\n  }\r\n\r\n  getViewDefinition(): ComponentViewDefinition {\r\n    return this.views.find((viewDef) => viewDef.name === this.view);\r\n  }\r\n}\r\n\r\nconst viewMatchesViewport = (win: Window) => (platform: ViewBounds) => {\r\n  const shortestBound = Math.min(win.innerWidth, win.innerHeight);\r\n  const longestBound = Math.max(win.innerWidth, win.innerHeight);\r\n  return (\r\n    (platform.minShortestBound > 0\r\n      ? platform.minShortestBound < shortestBound\r\n      : true) &&\r\n    (platform.maxShortestBound > 0\r\n      ? platform.maxShortestBound > shortestBound\r\n      : true) &&\r\n    (platform.minLongestBound > 0\r\n      ? platform.minLongestBound < longestBound\r\n      : true) &&\r\n    (platform.maxLongestBound > 0\r\n      ? platform.maxLongestBound > longestBound\r\n      : true)\r\n  );\r\n};\r\n\r\nexport interface ViewBounds {\r\n  minShortestBound: number;\r\n  maxShortestBound: number;\r\n  minLongestBound: number;\r\n  maxLongestBound: number;\r\n}\r\n\r\nexport interface ComponentViewDefinition extends ViewBounds {\r\n  name: string;\r\n  type: string;\r\n  os: string;\r\n  minShortestBound: number;\r\n  maxShortestBound: number;\r\n  minLongestBound: number;\r\n  maxLongestBound: number;\r\n  navigationStyle: string;\r\n  appBarInitFn?: () => void;\r\n  appBarBindFn?: (navigationStyle: string) => void;\r\n  appBarResetFn?: () => void;\r\n  UIModelDefaults?: (containerName: string, navigationStyle: string) => any;\r\n}\r\n\r\nexport interface ApplicationViewDefinition extends ViewBounds {\r\n  navigationStyle: NavigationStyle | string;\r\n}\r\n","import {Inject, Injectable, ElementRef} from '@angular/core';\r\nimport {DOCUMENT} from '@angular/common';\r\nimport {Observable, combineLatest, concat, defer, of, fromEvent, Observer } from 'rxjs';\r\nimport { map, flatMap, distinctUntilChanged, tap} from 'rxjs/operators';\r\n\r\n\r\n@Injectable()\r\nexport class VisibilityService {\r\n  \r\n  private pageVisible$: Observable<boolean>;\r\n    \r\n  constructor(@Inject(DOCUMENT) document: any) {\r\n    this.pageVisible$ = concat(\r\n      defer(() => of(!document.hidden)),\r\n      fromEvent(document, 'visibilitychange')\r\n        .pipe(\r\n          map(e => !document.hidden)\r\n        )\r\n    );\r\n  }\r\n    \r\n  elementInSight(element: ElementRef):Observable<boolean> {\r\n \r\n    const elementVisible$ = Observable.create(observer => {\r\n      const intersectionObserver = new IntersectionObserver(entries => {\r\n        observer.next(entries);\r\n      });\r\n    \r\n      intersectionObserver.observe(element.nativeElement);\r\n    \r\n      return () => { intersectionObserver.disconnect(); };\r\n    \r\n      })\r\n      .pipe (\r\n        flatMap((entries: IntersectionObserverEntry[]) => entries),\r\n        map<IntersectionObserverEntry, any>(entry => entry.isIntersecting),\r\n        distinctUntilChanged()\r\n      );\r\n    \r\n      const elementInSight$ = combineLatest(\r\n        this.pageVisible$,\r\n        elementVisible$,\r\n        (pageVisible, elementVisible: boolean) => pageVisible && elementVisible\r\n      ).pipe(\r\n        distinctUntilChanged()\r\n      );\r\n    \r\n      return elementInSight$;\r\n  }\r\n    \r\n}","import { Directive, Input, ElementRef, TemplateRef, ViewContainerRef, ChangeDetectorRef } from \"@angular/core\";\r\nimport { take, filter } from \"rxjs/operators\";\r\nimport { VisibilityService } from \"./visibility.service\";\r\n\r\n\r\n@Directive({ selector: '[visibleWith]' })\r\nexport class VisibleWith {\r\n\r\n  constructor(\r\n    private templateRef: TemplateRef<any>,\r\n    private viewContainer: ViewContainerRef,\r\n    private visibilityService: VisibilityService,\r\n    private cdr: ChangeDetectorRef) { }\r\n\r\n  @Input()\r\n  set visibleWith(element) {\r\n    this.visibilityService\r\n      .elementInSight(new ElementRef(element))\r\n      .pipe(filter(visible => visible), take(1))\r\n      .subscribe(() => {\r\n        this.viewContainer.createEmbeddedView(this.templateRef);\r\n        this.cdr.markForCheck()\r\n      });\r\n  }\r\n\r\n}","\r\nimport {\r\n  HttpRequest,\r\n  HttpResponse\r\n} from \"@angular/common/http\";\r\nimport { IRequestCache } from './request-cache-interface';\r\n\r\n\r\nexport class RequestPersistentCacheLocalStorage implements IRequestCache {\r\n    set(request: HttpRequest<any>, response: HttpResponse<any>) {\r\n      localStorage.setItem(this.getKey(request), JSON.stringify(response));\r\n    }\r\n  \r\n    async getAsync(request: HttpRequest<any>): Promise<HttpResponse<any>> {\r\n      return new Promise<HttpResponse<any>>((resolve, reject) => {\r\n        const json = localStorage.getItem(this.getKey(request));\r\n        if (json) {\r\n          resolve(Object.assign(new HttpResponse(), JSON.parse(json)));\r\n        } else {\r\n          resolve(null);\r\n        }\r\n      });\r\n    }\r\n  \r\n    remove(request: HttpRequest<any>) {\r\n      localStorage.removeItem(this.getKey(request));\r\n    }\r\n  \r\n    private getKey(request: HttpRequest<any>): string {\r\n      return request.urlWithParams.replace(/gxid=(\\d*)&?/gi, \"\");\r\n    }\r\n  }","import {\r\n  HttpRequest,\r\n  HttpResponse\r\n} from \"@angular/common/http\";\r\n\r\nimport { IRequestCache } from './request-cache-interface';\r\n\r\nexport class RequestPersistentCacheStorage implements IRequestCache {\r\n    CACHE_NAME = \"GX-APP-HTTP-CACHE\";\r\n  \r\n    set(request: HttpRequest<any>, response: HttpResponse<any>) {\r\n      const headers = new Headers();\r\n      const headersKeys = response.headers.keys();\r\n      for (let i = 0; i < headersKeys.length; i++) {\r\n        headers.append(headersKeys[i], response.headers.get(headersKeys[i]));\r\n      }    \r\n      const myResponse = new Response(JSON.stringify(response.body), { status: response.status, statusText: response.statusText, headers: headers});\r\n      caches\r\n        .open(this.CACHE_NAME)\r\n        .then((cache) => cache.put(this.getKey(request), myResponse));\r\n    }\r\n  \r\n    async getAsync(request: HttpRequest<any>): Promise<HttpResponse<any>> {\r\n      const key = this.getKey(request);\r\n      return new Promise<HttpResponse<any>>((resolve, _) => {\r\n        caches\r\n          .open(this.CACHE_NAME)\r\n          .then((cache) => {\r\n            cache\r\n              .match(key)\r\n              .then((r) => {\r\n                r.json().then((json) => {\r\n                  const result = Object.assign(new HttpResponse(), {\r\n                    body: json,\r\n                  });\r\n                  resolve(result);\r\n                });\r\n              })\r\n              .catch((err) => {\r\n                resolve(null);\r\n              });\r\n          })\r\n          .catch((err) => {\r\n            resolve(null);\r\n          });\r\n      });\r\n    }\r\n  \r\n    remove(request: HttpRequest<any>) {\r\n      caches\r\n        .open(this.CACHE_NAME)\r\n        .then((cache) => cache.delete(this.getKey(request)));\r\n    }\r\n  \r\n    private getKey(request: HttpRequest<any>): string {\r\n      return request.urlWithParams.replace(/gxid=(\\d*)&?/gi, \"\");\r\n    }\r\n  }","import { Injectable } from \"@angular/core\";\r\nimport {\r\n  HttpHandler,\r\n  HttpInterceptor,\r\n  HttpRequest,\r\n  HttpResponse\r\n} from \"@angular/common/http\";\r\n\r\nimport { concat } from \"rxjs\";\r\nimport { tap } from \"rxjs/operators\";\r\n\r\nimport { HTTP_INTERCEPTORS } from \"@angular/common/http\";\r\nimport { IRequestCache } from './cache/request-cache-interface';\r\nimport { RequestPersistentCacheStorage } from './cache/request-cache-storage';\r\nimport { RequestPersistentCacheLocalStorage } from './cache/request-cache-local-storage';\r\n\r\n\r\n@Injectable()\r\nexport class UriCachingStaleWhileRevalidateInterceptor\r\n  implements HttpInterceptor {\r\n  cache: IRequestCache = buildCache();\r\n  cachedRequests = {};\r\n\r\n  public intercept(httpRequest: HttpRequest<any>, handler: HttpHandler) {\r\n    const newRequest = httpRequest.clone();\r\n\r\n    const isCacheable = shouldResolveRequestFromCache(httpRequest, this.cachedRequests);\r\n    if (!isCacheable){ \r\n      return handler.handle(newRequest);\r\n    }\r\n   \r\n    if (httpRequest.headers.get(\"reset-cache\")) {\r\n      this.cache.remove(httpRequest);\r\n    }\r\n\r\n    const cachedResponse = this.cache.getAsync(httpRequest);\r\n    \r\n    const results$ = handler.handle(newRequest).pipe(\r\n      tap((event) => {\r\n          if (event instanceof HttpResponse) {\r\n            if (isCacheableHttpResponse(event)) {\r\n              this.cache.set(newRequest, event as HttpResponse<any>);\r\n              this.cachedRequests[getCacheKey(newRequest.urlWithParams)] = true\r\n            }\r\n          }\r\n      })\r\n    );\r\n    \r\n    return concat(cachedResponse, results$);\r\n  }\r\n}\r\n\r\nfunction shouldResolveRequestFromCache(request: HttpRequest<any>, cachedRequests: any): Boolean {\r\n  return (\r\n    request.method === \"GET\" &&\r\n    request.headers.get(\"Cache-Control\") !== \"no-cache\" &&\r\n    request.headers.get(\"Content-Type\") === \"application/json\" &&\r\n    cachedRequests[getCacheKey(request.urlWithParams)] === undefined //Cache only first time GET of Object.\r\n  );\r\n}\r\n\r\nfunction isCacheableHttpResponse(httpResponse: HttpResponse<any>) {\r\n  const cacheControl = httpResponse.headers.get(\"Cache-Control\");\r\n  return !cacheControl || cacheControl.indexOf('private') < 0;\r\n}\r\n\r\nfunction getCacheKey(url: string): string {\r\n  return url.replace(/start=(\\d*)&?count=(\\d*)&?/gi, \"\");\r\n}\r\n\r\nfunction buildCache(): IRequestCache {\r\n  return (window[\"caches\"] === undefined)? new RequestPersistentCacheLocalStorage(): new RequestPersistentCacheStorage();\r\n}\r\n\r\nexport const HttpInterceptorProviders = [\r\n  {\r\n    provide: HTTP_INTERCEPTORS,\r\n    useClass: UriCachingStaleWhileRevalidateInterceptor,\r\n    multi: true,\r\n  },\r\n];\r\n\r\n","import { Injectable } from \"@angular/core\";\r\nimport { Subject } from \"rxjs\";\r\nimport { LazyLoaderService } from 'app/gx/base/lazy-loader.service';\r\nimport { NavigationOptionsManager } from \"app/gx/navigation/navigation-options-manager\";\r\nimport { RouterNavigation } from \"app/gx/navigation/router-navigation\";\r\nimport { NavigationEvent } from \"app/gx/navigation/navigation-event.dt\";\r\nimport { NavigationHelper } from \"app/gx/navigation/navigation-helper\";\r\nimport { NavigationState, IStateContainer } from \"app/gx/navigation/navigation-state\";\r\nimport { OutletsNavigation } from \"app/gx/navigation/outlets-navigation\";\r\nimport { ActionState } from 'app/gx/base/action-state.dt';\r\n\r\n\r\n@Injectable({\r\n  providedIn: \"root\"\r\n})\r\n/**\r\n * Class encapsulating routing, navigation and event state and resume management \r\n */\r\nexport class CompositeNavigation {\r\n\r\n  // Navigation and events resume\r\n  runningActionsManager = new CompositeActionsManager();\r\n\r\n  // Navigation location and state\r\n  activeState: NavigationState = new NavigationState();     // Components state\r\n  NID2IID = [];\r\n\r\n  current = new CompositeNavigationState();   // current navigation state\r\n\r\n  loadingStateChange$: Subject<boolean> = new Subject<boolean>();\r\n  isVerticalTargetsBreakpointMatched: boolean;\r\n\r\n  constructor(\r\n    private loader: LazyLoaderService,\r\n    private nvgOptsMngr: NavigationOptionsManager,\r\n    private routerNavigation: RouterNavigation,\r\n    private outletsNavigation: OutletsNavigation,\r\n\r\n  ) {\r\n\r\n    // Subscribe to router start/end navigation events to manage component state and events resume\r\n    this.routerNavigation.navigationEvent$.subscribe(async (event: NavigationEvent) => {\r\n\r\n      // Start navigation event\r\n      if (event.type === 'start') {\r\n        if (!event.uri.startsWith(\"/(\")) {\r\n          this.loadingStateChange$.next(true);\r\n        }\r\n        this.current.navigationCommand = event.navigationCommand;\r\n        this.current.outlet = event.outlet;\r\n        this.current.nid = event.id;\r\n        this.current.nvgExtras = event.nvgExtras;\r\n        this.current.appExtras = event.appExtras;\r\n        this.current.navigationTrigger = event.trigger;\r\n        this.current.backNID = event.restoredId;\r\n        // Process navigation type\r\n        if (event.trigger === 'popstate') {\r\n          // browser back/forward navigation\r\n        }\r\n        else if (event.trigger === 'appback') {\r\n          // returning back from component -> must complete pending events\r\n          const runningAction = event.nvgExtras;\r\n          if (runningAction.actionId) {\r\n            await this.runningActionsManager.resumePendingEvent(runningAction.navigationState.fromAction.actionId);\r\n          }\r\n        }\r\n      }\r\n\r\n      // End navigation event\r\n      else if (event.type === 'end') {\r\n        const activatedOutlets = this.outletsNavigation.loadSecondaryOutlets(event.uri);\r\n        if (this.isVerticalTargetsBreakpointMatched) {\r\n          // show target outlet\r\n          if (event.outlet === null && !this.outletsNavigation.hasContentInPrimaryOutlet(event.uri)) {\r\n            // Targets prtimary outlet it has NO content -> defaults to showing all active secondary outlets\r\n            for (const outlet of activatedOutlets) {\r\n              this.outletsNavigation.showOutlet(outlet);\r\n            }\r\n          } else {\r\n            // Show target outlet\r\n            this.outletsNavigation.showOutlet(event.outlet);\r\n          }\r\n        } else {\r\n          // show all active outlets\r\n          for (const outlet of activatedOutlets) {\r\n            this.outletsNavigation.showOutlet(outlet);\r\n          }\r\n        }\r\n\r\n        if (!event.uri.startsWith(\"/(\")) {\r\n          this.loadingStateChange$.next(false);\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  pushToOutlet(nid: number, outlet: string, navigationCommand: any) {\r\n    this.outletsNavigation.pushToOutlet(nid, outlet, navigationCommand);\r\n  }\r\n\r\n  canGoBack(): boolean {\r\n    return this.outletsNavigation.canGoBack(this.current.outlet);\r\n  }\r\n\r\n\r\n  /**\r\n   * Save component <comp> state and sets a reference nid -> iid for \r\n   * restoring it during back navigation\r\n   * @param componentName\r\n   * @param outletName\r\n   * @param nid\r\n   * @param comp\r\n   */\r\n  saveState(componentName: string, outletName: string, nid: number, comp: IStateContainer) {\r\n    this.NID2IID.push({\r\n      nid: nid,\r\n      name: componentName,\r\n      outlet: outletName,\r\n      iid: comp._navigation.iid\r\n    });\r\n    this.activeState.save(comp._navigation.iid, comp);\r\n  }\r\n\r\n  /**\r\n   * Restores component <comp> state it had before navigation <nid>\r\n   * @param componentName\r\n   * @param outletName\r\n   * @param nid\r\n   * @param comp\r\n   */\r\n  restoreState(componentName: string, outletName: string, nid: number, comp: IStateContainer): boolean {\r\n    let i = this.NID2IID.length - 1;\r\n    while (i >= 0) {\r\n      const c = this.NID2IID[i];\r\n      if (c.nid <= nid && c.name === componentName && c.outlet === outletName) {\r\n        return this.activeState.restore(c.iid, comp);\r\n      }\r\n      i--;\r\n    }\r\n    return false;\r\n  }\r\n\r\n  /**\r\n   * Restores component <comp> state to saved state for instance <iid>\r\n   * @param iid\r\n   * @param comp\r\n   */\r\n  restoreStateByIID(iid: number, comp: IStateContainer): boolean {\r\n    return this.activeState.restore(iid, comp);\r\n  }\r\n\r\n  /**\r\n   * Update stored instance state <iid> to <comp> state\r\n   * @param iid\r\n   * @param comp \r\n   */\r\n  updateStateByIID(iid: number, comp: IStateContainer) {\r\n    this.activeState.update(iid, comp);\r\n  }\r\n\r\n  /**\r\n   * Process the end of an event execution\r\n   * @param act\r\n   *    action state\r\n   */\r\n  endAction(act: ActionState) {\r\n    this.runningActionsManager.endEvent(act.actionId);\r\n  }\r\n\r\n  /**\r\n   * Checks for back or popstate navigation\r\n   */\r\n  restoringComponent(): boolean {\r\n    return this.current.navigationTrigger === 'popstate' || this.current.navigationTrigger === 'appback';\r\n  }\r\n\r\n  /**\r\n   * When back or popstate navigation, it returns the navigation ID of the returning navigation\r\n   */\r\n  getRestoringNID(): number {\r\n    return this.current.backNID;\r\n  }\r\n\r\n  /**\r\n  *  Returns the current running action (stored in the extras field of the navigation state)\r\n  */\r\n  getRunningAction(): ActionState {\r\n    return this.current.nvgExtras;\r\n  }\r\n\r\n  /**\r\n   * Wait for the running action to complete\r\n   */\r\n  async waitForActionToComplete(): Promise<void> {\r\n    if (this.current.navigationTrigger === 'appback') {\r\n      const runningAction = this.getRunningAction();\r\n      if (runningAction && runningAction.navigationState && runningAction.navigationState.fromAction) {\r\n        await this.runningActionsManager.waitForActionToComplete(runningAction.navigationState.fromAction.actionId)\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Return the command issued to navigate to the current navigation state\r\n   */\r\n  getNavigationCommand(): number {\r\n    return this.current.navigationCommand;\r\n  }\r\n\r\n  /**\r\n   * Returns the current navigation id\r\n   */\r\n  getNavigationId(): number {\r\n    return this.current.nid;\r\n  }\r\n\r\n  navigateOption(optionTarget: any, optionName: string, optionValue: string) {\r\n    this.nvgOptsMngr.set(optionTarget, optionName, optionValue);\r\n  }\r\n\r\n  async navigate(nvgCommand: any, act?: ActionState): Promise<any> {\r\n    return this.navigate_impl(nvgCommand, false, act, {});\r\n  }\r\n\r\n  async navigateForResult(nvgCommand: any, act?: ActionState): Promise<any> {\r\n    return this.navigate_impl(nvgCommand, true, act, {});\r\n  }\r\n\r\n  async navigateForResultWithExtras(nvgCommand: any, extras: any, act?: ActionState): Promise<any> {\r\n    return this.navigate_impl(nvgCommand, true, act, extras);\r\n  }\r\n\r\n  /**\r\n   * Navigates to given route\r\n   * @param nvgCommand\r\n   *     Uri with route parameters\r\n   *     Expected format = [ '<url>', {<parm1_name>:<parm1_value>, <parm2_name>:<parms_value>, ...}]\r\n   * @param waitForResult\r\n   *     Sets executing behavior:\r\n   *         true = waits for target object return to complete\r\n   *         false = completes depending on runtime contidions related to target outlet\r\n   * @param act\r\n   *      State of the action issuing the navigation command\r\n   */\r\n  async navigate_impl(nvgCommand: any, waitForResult: boolean, act: ActionState, appExtras: any): Promise<any> {\r\n    // Find target outlet\r\n    const targetOutlet = this.nvgOptsMngr.getOutlet(nvgCommand);\r\n    // Add info for navigation tracking\r\n    const navigationExtras = this.routerNavigation.setNavigationExtras(act, appExtras, {});\r\n    // Navigate\r\n    await this.routerNavigation.navigate(nvgCommand, targetOutlet, navigationExtras);\r\n    this.nvgOptsMngr.clear(nvgCommand[0]);\r\n    if (waitForResult || this.mustWaitForOutlet(targetOutlet, act)) {\r\n      // Sync navigation - navigates to target and waits for return to continue executing next statements\r\n      return new Promise<any>(async (complete) => {\r\n        let result = await this.runningActionsManager.waitForResult(act.actionId);\r\n        complete(result);\r\n      });\r\n    } else {\r\n      // Async navigation - navigates to target and continues executing next statements\r\n      return Promise.resolve();\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Returns when the navigation must wait for the called objetc to return, to continue with action execution\r\n   * @param targetOutlet \r\n   *      Target outlet of navigation\r\n   * @param act \r\n   *      State of the action running\r\n   */\r\n  mustWaitForOutlet(targetOutlet: string, act: ActionState) {\r\n    if (targetOutlet === 'popup') {\r\n      return true;\r\n    }\r\n    else if (act.navigationState && targetOutlet === act.navigationState.outlet) {\r\n      return true;\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Navigates back to previous component, returning values and restoring outlets state\r\n   * @param act \r\n   *      State of the action running\r\n   * @param result\r\n   *      Result data to return\r\n   */\r\n  async back(act: ActionState, result: any = {}) {\r\n    // 1. Setup back navigation\r\n    const currentNID = act.navigationState.nid;         // running action navigation id\r\n    const currentOutlet = act.navigationState.outlet;   // outlet of current running action component\r\n    // 2. Return data to calling component\r\n    if (currentNID) {\r\n      const currNvgEvt = this.routerNavigation.getNavigationEvent(currentNID);\r\n      if (currNvgEvt) {\r\n        // get the calling action that we must return to\r\n        const runningAction = currNvgEvt.nvgExtras;\r\n        // set return value\r\n        this.runningActionsManager.saveResult(runningAction.actionId, result);\r\n      }\r\n    }\r\n    // 3. Navigate back to previous component in outlet\r\n    const restoringOutlet = this.outletsNavigation.popFromOutlet(currentOutlet)    // previous component in current outlet\r\n    const navigationExtras = this.routerNavigation.setNavigationExtras(act, {}, {});\r\n    await this.routerNavigation.navigateBack(restoringOutlet.url, currentOutlet, restoringOutlet.navigationId, navigationExtras);\r\n  }\r\n\r\n  backTo(url: string, act: ActionState): void {\r\n    this.back(act, {});\r\n  }\r\n\r\n  goHome(act: ActionState): void {\r\n    this.routerNavigation.navigateByUrl(\"/\");\r\n  }\r\n\r\n  /**\r\n   * Dynamic call, accepting parameters included in target string and/or in the parameters array\r\n   * @param target \r\n   *      Call string\r\n   * @param act\r\n   *      State of the action issuing this navigation\r\n   * @param parameters\r\n   *      Added parameters\r\n   */\r\n  async dynamicCall(act: any, target: string, ...parameters: string[]) {\r\n    const route = await this.parseDyncall(target, parameters);\r\n    if (route.length > 1 && route[1]) {\r\n      await this.navigate([route[0], { _gxParameterValues: route[1] }], act);\r\n    } else {\r\n      await this.navigate([route[0]], act);\r\n    }\r\n\r\n  }\r\n\r\n  /**\r\n   * Parse dynmamic call string\r\n   * @param callString \r\n   *      Accepted format: ['sd:']'<module>.<object_name>' | ['sd:']'<module>.<object_name>?<encoded_parameters>'\r\n   * @param parameters \r\n   *      Call parameters, if there are parameters in both callString and parameters => all are included\r\n   */\r\n  async parseDyncall(callString: string, parameters?: string[]): Promise<Array<any>> {\r\n    // Parse 'sd' prefix\r\n    let startUri = callString.indexOf(\"sd:\");\r\n    startUri = startUri >= 0 ? startUri + 2 : -1;\r\n    // Normalize parameters\r\n    let uriParams = parameters ? parameters.join(\",\") : \"\";\r\n    let endUri = callString.indexOf(\"?\");\r\n    if (endUri >= 0) {\r\n      // Found parameters included in callString\r\n      uriParams =\r\n        this.decodeURI_ex(callString.substring(endUri + 1)) + uriParams;\r\n    } else {\r\n      endUri = callString.length;\r\n    }\r\n    let uri = callString.substring(startUri + 1, endUri);\r\n    uri = uri.replace(/\\./g, \"/\");\r\n    uri = await this.loader.findComponentRoute(uri);\r\n    return [uri, uriParams];\r\n  }\r\n\r\n  //////////////////////////////////////////////////////////////////////////////////////////////////\r\n  // Helpers\r\n  //\r\n\r\n  /**\r\n   * Get parameter value (by name or positional) \r\n   * CONVENTION: a parameter with name \"_gxParameterValues\" denotes positional parameters (comma separated)\r\n   * @param name \r\n   * @param params \r\n   * @param position \r\n   */\r\n  getParam(name: string, params: any, position?: number): any {\r\n    if (position && params[\"_gxParameterValues\"]) {\r\n      return this.getParamFromGxParameter(params[\"_gxParameterValues\"], position);\r\n    }\r\n    return params[name];\r\n  }\r\n\r\n  getAppExtras(name: string): any {\r\n    if (this.current.appExtras && this.current.appExtras[name]) {\r\n      return this.current.appExtras[name];\r\n    }\r\n    return null;\r\n  }\r\n\r\n  getParamFromGxParameter(params: string, position: number): string {\r\n    return params.split(\",\")[position - 1];\r\n  }\r\n\r\n  uriFromObject(objectName: string, ...parameters: any) {\r\n    return NavigationHelper.uriFromObject(objectName, ...parameters);\r\n  }\r\n\r\n  decodeURI_ex(uri) {\r\n    return decodeURI(uri.replace(/\\+/g, \"%20\"));\r\n  }\r\n\r\n  emptyPrimaryOutlet(): boolean {\r\n    return this.routerNavigation.getCurrentLocation().startsWith(\"?\");\r\n  }\r\n\r\n  updateVerticalTargetsBreakpointMatched(isMatched: boolean) {\r\n    this.isVerticalTargetsBreakpointMatched = isMatched;\r\n  }\r\n}\r\n\r\n/**\r\n * Encapsulates running actions syncronization and behaviour\r\n */\r\nclass CompositeActionsManager {\r\n  pendingNavigations = {};\r\n  completedEvents = {};\r\n  navigationResult = {};\r\n\r\n  /**\r\n   * Saves result to be returned given action\r\n   * @param actionId\r\n   *      Id of the awaiting action\r\n   * @param result \r\n   *      Data to return\r\n   */\r\n  saveResult(actionId: number, result) {\r\n    this.navigationResult[actionId] = result;\r\n  }\r\n\r\n  /**\r\n   * Waits for result to continue executing the async event\r\n   * @param actionId \r\n   *      Id of the awaiting action\r\n   */\r\n  async waitForResult(actionId: number): Promise<any> {\r\n    return new Promise<any>((complete) => {\r\n      let pendingNavigation = this.pendingNavigations[actionId];\r\n      if (!pendingNavigation) {\r\n        pendingNavigation = new Subject<any>();\r\n        this.pendingNavigations[actionId] = pendingNavigation;\r\n      }\r\n      pendingNavigation.subscribe((result) => {\r\n        complete(result)\r\n      });\r\n\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Waits for action to complete and resumes actions in 'waitForResult'\r\n   * @param actionId \r\n   *      Id of the action to resume\r\n   */\r\n  async resumePendingEvent(actionId: number): Promise<any> {\r\n    return new Promise((complete) => {\r\n      const pendingEvent = this.pendingNavigations[actionId];\r\n      if (pendingEvent) {\r\n        this.pendingNavigations[actionId] = null;\r\n        const result = this.navigationResult[actionId];\r\n        pendingEvent.next(result);\r\n        pendingEvent.complete();\r\n        let completedEvent = this.completedEvents[actionId];\r\n        if (!completedEvent) {\r\n          completedEvent = new Subject<any>();\r\n          this.completedEvents[actionId] = completedEvent;\r\n        }\r\n        completedEvent.subscribe((result) => {\r\n          complete(result)\r\n        });\r\n      } else {\r\n        complete(null);\r\n      }\r\n    });\r\n  }\r\n\r\n  async waitForActionToComplete(actionId: number): Promise<any> {\r\n    return new Promise((complete) => {\r\n      let completedEvent = this.completedEvents[actionId];\r\n      if (!completedEvent) {\r\n        completedEvent = new Subject<any>();\r\n        this.completedEvents[actionId] = completedEvent;\r\n      } else {\r\n        if (completedEvent.isStopped) {\r\n          // Already completed\r\n          complete(null);\r\n        }\r\n      }\r\n      completedEvent.subscribe((result) => {\r\n        complete(result)\r\n      });\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Completes pending action execution\r\n   * @param backTo \r\n   */\r\n  endEvent(actionId: number) {\r\n    let completedEvent = this.completedEvents[actionId];\r\n    if (!completedEvent) {\r\n      completedEvent = new Subject<any>();\r\n      this.completedEvents[actionId] = completedEvent;\r\n    }\r\n    completedEvent.next(actionId);\r\n    completedEvent.complete(actionId);\r\n  }\r\n\r\n  lastNbr = 0;\r\n  getNextId(): number {\r\n    return this.lastNbr++;\r\n  }\r\n}\r\n\r\n/**\r\n * Transient state of the composite navigation\r\n */\r\nclass CompositeNavigationState {\r\n  nid: number;               // Navigation id\r\n  navigationCommand: any;    // Navigation command\r\n  outlet: any;               // outlet\r\n  navigationTrigger: string; // event that triggered the navigation\r\n  backNID: number;           // when back or popstate: id of the restoring navigation\r\n  nvgExtras: any;            // extra data required for navigation (runningAction)\r\n  appExtras: any;            // extra app data\r\n}\r\n","export class NavigationEvent {\r\n  type: string;\r\n  id: number;\r\n  uri: string;\r\n  trigger: string;\r\n\r\n  navigationCommand: any;\r\n  outlet: string;\r\n  restoredId: number;\r\n\r\n  nvgExtras: any;\r\n  appExtras: any;\r\n\r\n}","import { NavigationExtras, Params, NavigationEnd } from \"@angular/router\";\r\n\r\nexport class NavigationHelper {\r\n\r\n  static componentInstanceId = 1;\r\n\r\n  static newComponentInstanceId() {\r\n    return NavigationHelper.componentInstanceId++;\r\n  }\r\n\r\n  static appendToQueryParams(nvgExt: NavigationExtras, key: string, value: string) {\r\n    if (!nvgExt.queryParams) {\r\n      const qParams = {};\r\n      qParams[key] = value;\r\n      nvgExt = { queryParams: qParams };\r\n    } else {\r\n      nvgExt.queryParams[key] = value;\r\n    }\r\n    return nvgExt;\r\n  }\r\n\r\n  static addQueryParams(nvgExt: NavigationExtras, queryParams: Params) {\r\n    if (!queryParams) {\r\n      return nvgExt;\r\n    }\r\n    if (!nvgExt) {\r\n      nvgExt = {};\r\n    }\r\n    if (!nvgExt.queryParams) {\r\n      nvgExt.queryParams = queryParams;\r\n    } else {\r\n      for (let qp in queryParams) {\r\n        nvgExt.queryParams[qp] = queryParams[qp];\r\n      }\r\n    }\r\n    return nvgExt;\r\n  }\r\n\r\n  static toUriString(uri: any): string {\r\n    const parms = [];\r\n    if (uri.length > 1) {\r\n      for (let pty in uri[1]) {\r\n        parms.push(uri[1][pty]);\r\n      }\r\n    }\r\n    return this.uriFromObject(uri[0], ...parms);\r\n  }\r\n\r\n  static uriFromObject(objectName: string, ...parameters: any) {\r\n    if (parameters.length > 0) {\r\n      return (\r\n        objectName +\r\n        \"?\" +\r\n        parameters\r\n          .map(p => {\r\n            return encodeURI(p);\r\n          })\r\n          .join(\",\")\r\n      );\r\n    }\r\n    else {\r\n      return objectName;\r\n    }\r\n  }\r\n\r\n  static emptyParams(obj) {\r\n    for (const prop in obj) {\r\n      if (obj.hasOwnProperty(prop))\r\n        return false;\r\n    }\r\n    return true;\r\n  }\r\n}\r\n","import { Injectable } from \"@angular/core\";\r\nimport { NavigationExtras } from \"@angular/router\";\r\n\r\n@Injectable({\r\n  providedIn: \"root\"\r\n})\r\nexport class NavigationOptionsManager {\r\n\r\n  // Option IDs\r\n  static TARGET_ID = 'target';\r\n  static TARGET_SIZE_ID = 'targetsize';\r\n  static TARGET_WIDTH_ID = 'targetwidth';\r\n  static TARGET_HEIGHT_ID = 'targetheight';\r\n  static TYPE_ID = 'type';\r\n\r\n  // TYPE option values\r\n  static TYPE_POPUP_ID = 'popup';\r\n  static TYPE_REPLACE_ID = 'replace';\r\n  static TYPE_CALLOUT_ID = 'callout';\r\n  static TYPE_PUSH_ID = 'push';\r\n\r\n  // TARGET_SIZE option values\r\n  static TARGET_SIZE_SMALL_ID = 'small';\r\n  static TARGET_SIZE_MEDIUM_ID = 'medium';\r\n  static TARGET_SIZE_LARGE_ID = 'large';\r\n\r\n  // Navigation options\r\n  navigationOptions = {};\r\n\r\n  set(optionTarget: any, optionName: string, optionValue: string) {\r\n    const optionTargetId = this.normalizeOptionTarget(optionTarget);\r\n    let optionId = optionName.toLowerCase();\r\n    let optionValueId1 = optionValue ? optionValue.toLocaleLowerCase() : null;\r\n    if (optionId === NavigationOptionsManager.TYPE_ID && (optionValueId1 === NavigationOptionsManager.TYPE_POPUP_ID || optionValueId1 === NavigationOptionsManager.TYPE_CALLOUT_ID)) {\r\n      // obj.type = popup -> obj.target = 'popup'\r\n      optionId = NavigationOptionsManager.TARGET_ID;\r\n      optionValueId1 = NavigationOptionsManager.TYPE_POPUP_ID;\r\n    }\r\n    const optionKey = this.getOptionKey(optionTargetId, optionId);\r\n    this.navigationOptions[optionKey] = optionValueId1\r\n  }\r\n\r\n  get(optionTarget: any, optionName: string): string {\r\n    const optionTargetId = this.normalizeOptionTarget(optionTarget);\r\n    const optionId = optionName.toLowerCase();\r\n    const optionKey = this.getOptionKey(optionTargetId, optionId);\r\n    return this.navigationOptions[optionKey];\r\n  }\r\n\r\n  clear(optionTarget: any) {\r\n    const optionTargetId = this.normalizeOptionTarget(optionTarget);\r\n    for (const optionKey in this.navigationOptions) {\r\n      if (this.isOptionForTarget(optionKey, optionTargetId)) {\r\n        this.navigationOptions[optionKey] = null;\r\n      }\r\n    }\r\n  }\r\n\r\n  getOutlet(url: string[]): string {\r\n    const targetUri = url[0];\r\n    if (typeof targetUri === \"string\") {\r\n      // Target\r\n      const optionTargetId = this.normalizeOptionTarget(url.join(\"/\"));\r\n      const optionKey = this.getOptionKey(optionTargetId, NavigationOptionsManager.TARGET_ID);\r\n      const outlet = this.navigationOptions[optionKey];\r\n      if (outlet) {\r\n        this.navigationOptions[optionKey] = null; // release navigation option after usage\r\n        return outlet;\r\n      }\r\n    }\r\n    return null;\r\n  }\r\n\r\n  /**\r\n   * Normalize input target, to obtain a unique tartget_name for option target identificacion, accepting formats:\r\n   *    /<target_name>-<section>\r\n   *    [<target_name>-<section>, <parameters>]\r\n   * @param optionTarget \r\n   */\r\n  normalizeOptionTarget(optionTarget: any): string {\r\n    if (Array.isArray(optionTarget)) {\r\n      // [<target_name>-<section>, <parameters>]\r\n      if (optionTarget.length > 0) {\r\n        const optionTarget1 = optionTarget[0];\r\n        return this.normalizeOptionTarget( optionTarget1);\r\n      }\r\n    } else {\r\n      // /<target_name>-<section>\r\n      let optionTargetId = optionTarget;\r\n      if (optionTargetId.startsWith(\"/\")) {\r\n        optionTargetId = optionTarget.substring(1);\r\n      }\r\n      if (optionTargetId.indexOf(\"-\") >= 0) {\r\n        return optionTargetId.substring(0, optionTargetId.indexOf(\"-\"));\r\n      }\r\n      return optionTargetId;\r\n    }\r\n  }\r\n\r\n  getOptionKey(optionTargetId: string, optionId: string): any {\r\n    return optionTargetId.toLowerCase() + \"__\" + optionId.toLowerCase();\r\n  }\r\n\r\n  isOptionForTarget(optionTargetFound: string, optionTargetId: string) {\r\n    const key = this.getOptionKey(optionTargetId, \"\");\r\n    return optionTargetFound.startsWith(key);\r\n  }\r\n\r\n  processNavigationOptionsExtras(url: string, nvgExt: NavigationExtras = {}): any {\r\n    // CallType\r\n    if (this.isNavigationReplace(url)) {\r\n      nvgExt.replaceUrl = true;\r\n    }\r\n    // Append query ID\r\n    return this.appendIdToQueryParams(nvgExt);\r\n  }\r\n\r\n  isNavigationReplace(optionTarget): boolean {\r\n    const optionTargetId = this.normalizeOptionTarget(optionTarget);\r\n    const optionKey = this.getOptionKey(optionTargetId, NavigationOptionsManager.TYPE_ID)\r\n    return this.navigationOptions[optionKey] === NavigationOptionsManager.TYPE_REPLACE_ID;\r\n  }\r\n\r\n  appendIdToQueryParams(nvgExt: NavigationExtras) {\r\n    const rnd = Math.floor(Math.random() * 1000 + 1);\r\n    if (!nvgExt) {\r\n      nvgExt = { queryParams: { _id: rnd } };\r\n    } else if (nvgExt.queryParams) {\r\n      nvgExt.queryParams = { _id: rnd };\r\n    }\r\n    return nvgExt;\r\n  }\r\n\r\n  processOutletOptions(outlet: string, url: string): OutletOptions {\r\n    const options = new OutletOptions();\r\n    options.size = this.get(url, NavigationOptionsManager.TARGET_SIZE_ID);\r\n    options.width = OutletOptions.convertSize(this.get(url, NavigationOptionsManager.TARGET_WIDTH_ID));\r\n    options.height = OutletOptions.convertSize(this.get(url, NavigationOptionsManager.TARGET_HEIGHT_ID));\r\n    return options;\r\n  }\r\n\r\n}\r\n\r\nexport class OutletOptions {\r\n  size: string;\r\n  width: string;\r\n  height: string;\r\n\r\n  static convertSize(s: string): string {\r\n    return s ? s.replace(\"dip\", \"px\") : null;\r\n  }\r\n}\r\n","import { PanelNavigationState } from 'app/gx/navigation/panel-navigation-state.dt';\r\n\r\nexport class NavigationState {\r\n  current = {};\r\n\r\n  save(iid: number, comp: IStateContainer) {\r\n    if (comp) {\r\n      const state = {\r\n        _name: comp.constructor.name,\r\n        _tst: comp._tst,\r\n        navigation: comp._navigation\r\n      };\r\n      for (const prop of comp.stateMembers[0].concat(comp.stateMembers[1])) {\r\n        state[prop] = comp[prop];\r\n      }\r\n      this.current[iid] = state;\r\n    }\r\n  }\r\n\r\n  update(iid: number, comp: IStateContainer) {\r\n    if (comp) {\r\n      const state = this.current[iid];\r\n      if (state) {\r\n        for (const prop of comp.stateMembers[1]) {\r\n          state[prop] = comp[prop];\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  restore(iid: number, comp: IStateContainer): boolean {\r\n    const state = this.current[iid];\r\n    if (state) {\r\n      for (const prop of comp.stateMembers[0].concat(comp.stateMembers[1])) {\r\n        comp[prop] = state[prop];\r\n      }\r\n      comp._navigation = state.navigation;\r\n      return true;\r\n    }\r\n    return false;\r\n  }\r\n\r\n  getInstance(iid: number): IStateContainer {\r\n    return this.current[iid];\r\n  }\r\n\r\n}\r\n\r\nexport interface IStateContainer {\r\n  stateMembers: Array<any>;\r\n  _navigation: PanelNavigationState;\r\n  _outlet: string;\r\n  _tst: Date;\r\n}","import { NavigationExtras, Params } from \"@angular/router\";\r\nimport { NavigationHelper } from \"app/gx/navigation/navigation-helper\";\r\n\r\nexport class OutletsHelper {\r\n\r\n  static qsToOutlets(qs: string): Array<any> {\r\n    const result = [];\r\n    if (qs) {\r\n      const secondaryOutlets = qs.split(\"//\");\r\n      for (let o of secondaryOutlets) {\r\n        let parts = o.split(\":\");\r\n        result.push({ outlet: parts[0], url: decodeURIComponent(parts[1]) });\r\n      }\r\n    }\r\n    return result;\r\n  }\r\n\r\n  static outletsToQs(outlets: Array<any>): string {\r\n    const result = '';\r\n    if (outlets) {\r\n      const qsOutlets = [];\r\n      for (const o of outlets) {\r\n        if (o.outlet.length > 0 && o.url && o.url.length > 0) {\r\n          qsOutlets.push(o.outlet + ':' + encodeURIComponent(o.url));\r\n        }\r\n      }\r\n      return qsOutlets.join('//');\r\n    }\r\n    return result;\r\n  }\r\n\r\n  static isSecondaryOutlet(name: string) {\r\n    return ['left', 'right', 'top', 'bottom', 'popup'].includes(name);\r\n  }\r\n\r\n  static mergeOutlets(activatedUrl: any, activatedQueryParms: Params, outlet: string, oUrl: any, nvgExt: NavigationExtras): any {\r\n    const outlet1 = OutletsHelper.isSecondaryOutlet(outlet) ? outlet : null;\r\n    if (outlet1) {\r\n      const url = NavigationHelper.toUriString(oUrl);\r\n      const qsOutlets = this.qsToOutlets(activatedQueryParms['_outlets']);\r\n      let found = false;\r\n      for (let o of qsOutlets) {\r\n        if (o.outlet === outlet1) {\r\n          o.url = url;\r\n          found = true;\r\n        }\r\n      }\r\n      if (!found) {\r\n        qsOutlets.push({ outlet: outlet1, url: url });\r\n      }\r\n\r\n      return [activatedUrl, NavigationHelper.addQueryParams(nvgExt, { \"_outlets\": this.outletsToQs(qsOutlets) })];\r\n    } else {\r\n      return [oUrl, NavigationHelper.addQueryParams(nvgExt, activatedQueryParms)];\r\n    }\r\n  }\r\n}\r\n","import { Injectable } from \"@angular/core\";\r\nimport { DefaultUrlSerializer, UrlSegmentGroup } from \"@angular/router\";\r\nimport { publish as gxPublish } from \"@genexus/web-standard-functions/dist/lib-esm/web/GlobalEvents\";\r\nimport { OutletsHelper } from \"app/gx/navigation/outlets-helper\";\r\nimport { NavigationOptionsManager, OutletOptions } from \"app/gx/navigation/navigation-options-manager\";\r\n\r\n@Injectable({\r\n  providedIn: \"root\"\r\n})\r\n/**\r\n * Outlet routing and management\r\n */\r\nexport class OutletsNavigation {\r\n\r\n  appOutlets = {};\r\n\r\n  outletStack = new OutletStack();\r\n\r\n  constructor(\r\n    private nvgOptsMngr: NavigationOptionsManager,\r\n  ) { }\r\n\r\n  /**\r\n   * Renders to secondary outlets using url spec (see parm url)\r\n   * @param url \r\n   *        url must contain in the queryString the target outlet and the component to render in in\r\n   *        queryParameter syntax \"_outlets\"=<outletName1>:<componentUrl1>//<outletName2>:<componentUrl2>//...<outletNameN>:<componentUrlN>\r\n   *          componentUrl must be urlEncoded\r\n   */\r\n  loadSecondaryOutlets(url: string): Array<string> {\r\n    const activeOutlets = [];\r\n    const outletsToLoad = this.parseSecondaryOutlets(url);\r\n    for (let o of outletsToLoad) {\r\n      this.setOutlet(o.outlet, o.url, this.nvgOptsMngr.processOutletOptions(o.outlet, o.url));\r\n      activeOutlets.push(o.outlet);\r\n    }\r\n\r\n    // Clear deactivated outlets\r\n    for (let o in this.appOutlets) {\r\n      if (activeOutlets.indexOf(o) === -1) {\r\n        this.setOutlet(o, null, null);\r\n      }\r\n    }\r\n    return activeOutlets;\r\n  }\r\n\r\n  hasContentInPrimaryOutlet(url: string): boolean {\r\n    const urlSerializer = new DefaultUrlSerializer();\r\n    const pUrl = urlSerializer.parse(url);\r\n    if (pUrl.root.hasChildren()) {\r\n      return true;\r\n    }\r\n    return false;\r\n  }\r\n\r\n  /**\r\n   * Push navigation information to outlet stack\r\n   * @param nid \r\n   * @param outlet \r\n   * @param url \r\n   */\r\n  pushToOutlet(nid: number, outlet: string, url: any) {\r\n    // Avoid duplicates\r\n    const head = this.outletStack.peek(outlet);\r\n    if (head && JSON.stringify(head.url) === JSON.stringify(url)) {\r\n      return;\r\n    }\r\n    this.outletStack.push(outlet, url, nid);\r\n  }\r\n\r\n  /**\r\n   * Pop from outlet and returns NID and url\r\n   * @param outlet \r\n   */\r\n  popFromOutlet(outlet: string): OutletHistoryData {\r\n    this.outletStack.pop(outlet);\r\n    const toOutlet = this.outletStack.peek(outlet);\r\n    return toOutlet ? toOutlet : { url: [\"\"], navigationId: 0 };\r\n  }\r\n\r\n  /**\r\n * Checks if there's somewhere to go back\r\n * @param outlet \r\n */\r\n  canGoBack(outlet: string): boolean {\r\n    return this.outletStack.getCount(outlet) > 1;\r\n  }\r\n\r\n  showOutlet(outlet: string) {\r\n    gxPublish('gx-standard-api-to-generator_showTarget', '', outlet);\r\n  }\r\n\r\n  private setOutlet(outlet: string, uri: string, options: OutletOptions) {\r\n    this.appOutlets[outlet] = true;\r\n    gxPublish('gx-app-setOutlet', outlet, uri, options);\r\n  }\r\n\r\n  private parseSecondaryOutlets(url: string): Array<any> {\r\n    const urlSerializer = new DefaultUrlSerializer();\r\n    const qs = urlSerializer.parse(url).queryParams;\r\n    if (qs['_outlets']) {\r\n      return OutletsHelper.qsToOutlets(qs['_outlets']);\r\n    }\r\n    return [];\r\n  }\r\n}\r\n\r\n/**\r\n * Implements a stack for every used outlet\r\n */\r\nclass OutletStack {\r\n  outlets = new Array<OutletState>();\r\n\r\n  push(outlet: string, url: any, navigationId: number) {\r\n    if (navigationId) {\r\n      const o = this.outlets.find(x => x.name === outlet);\r\n      if (o) {\r\n        o.history.push({ url: url, navigationId: navigationId });\r\n      } else {\r\n        this.outlets.push({ name: outlet, history: [{ url: url, navigationId: navigationId }] });\r\n      }\r\n    }\r\n  }\r\n\r\n  pop(outlet: string) {\r\n    const o = this.outlets.find(x => x.name === outlet);\r\n    if (o) {\r\n      return o.history.pop();\r\n    } else {\r\n      return null;\r\n    }\r\n  }\r\n\r\n  peek(outlet: string) {\r\n    const o = this.outlets.find(x => x.name === outlet);\r\n    if (o) {\r\n      return this.getHead(o);\r\n    } else {\r\n      return null;\r\n    }\r\n  }\r\n\r\n  getCount(outlet: string) {\r\n    const o = this.outlets.find(x => x.name === outlet);\r\n    if (o) {\r\n      return o.history.length;\r\n    }\r\n    return 0;\r\n  }\r\n\r\n  getHead(o: OutletState) {\r\n    if (o && o.history.length > 0) {\r\n      return o.history[o.history.length - 1];\r\n    }\r\n    return null;\r\n  }\r\n}\r\n\r\nclass OutletState {\r\n  name: string;\r\n  history: Array<OutletHistoryData>;\r\n}\r\n\r\nexport class OutletHistoryData {\r\n  url: any;\r\n  navigationId: number;\r\n}\r\n","import { ActionState } from \"app/gx/base/action-state.dt\";\r\n\r\nexport class PanelNavigationState {\r\n    iid: number;\r\n    nid:number;\r\n    outlet: string;\r\n    navigationCommand: any;\r\n    fromAction: ActionState;\r\n  }","import { Injectable } from \"@angular/core\";\r\nimport { Router, Event, NavigationStart, NavigationEnd, NavigationCancel, NavigationError, ActivatedRoute } from \"@angular/router\";\r\nimport { NavigationOptionsManager } from \"app/gx/navigation/navigation-options-manager\";\r\nimport { Location } from \"@angular/common\";\r\nimport { Subject } from \"rxjs\";\r\nimport { NavigationEvent } from \"app/gx/navigation/navigation-event.dt\";\r\nimport { OutletsHelper } from \"app/gx/navigation/outlets-helper\";\r\n\r\n@Injectable({\r\n  providedIn: \"root\"\r\n})\r\n/**\r\n * Angular routing to app routing interface\r\n */\r\nexport class RouterNavigation {\r\n\r\n  defaultSegment = 'app';\r\n\r\n  currentLocation: string;\r\n  navigationEvent$: Subject<any> = new Subject<any>();\r\n  nidToNavigationEvent = {};\r\n\r\n  constructor(\r\n    private location: Location,\r\n    private activatedRoute: ActivatedRoute,\r\n    private nvgOptsMngr: NavigationOptionsManager,\r\n    private router: Router,\r\n  ) {\r\n    this.router.events.subscribe((event: Event) => {\r\n      if (event instanceof NavigationStart) {\r\n\r\n        // Process changing location\r\n        if (this.currentLocation !== event.url) {\r\n\r\n          const nvgData = this.getCurrentNavigationExtras('nvg');\r\n          const appData = this.getCurrentNavigationExtras('app');\r\n          const routerTransientState = this.getCurrentNavigationExtras('transient');\r\n\r\n          // Update location state\r\n          this.currentLocation = event.url;\r\n          const navigationEvent = new NavigationEvent();\r\n          navigationEvent.type = 'start';\r\n          navigationEvent.id = event.id;\r\n          navigationEvent.uri = event.url;\r\n          navigationEvent.trigger = event.navigationTrigger;\r\n          navigationEvent.navigationCommand = routerTransientState.navigationCommand ? routerTransientState.navigationCommand : [\"\"];\r\n          navigationEvent.outlet = routerTransientState.outlet ? routerTransientState.outlet : null;\r\n          if (event.navigationTrigger === 'popstate') {   // browser back/forward navigation\r\n            navigationEvent.trigger = 'popstate';\r\n            const popNavigationEvent = this.nidToNavigationEvent[event.restoredState.navigationId];\r\n            navigationEvent.nvgExtras = popNavigationEvent.nvgExtras;\r\n            navigationEvent.appExtras = popNavigationEvent.appExtras;\r\n            navigationEvent.restoredId = event.restoredState.navigationId;\r\n            this.nidToNavigationEvent[navigationEvent.id] = navigationEvent;\r\n          }\r\n          else if (routerTransientState.isBackNavigation) {   // app return/cancel\r\n            navigationEvent.trigger = 'appback';\r\n            navigationEvent.nvgExtras = nvgData;\r\n            navigationEvent.appExtras = appData;\r\n            navigationEvent.restoredId = routerTransientState.backNID;\r\n            this.nidToNavigationEvent[navigationEvent.id] = navigationEvent;\r\n          }\r\n          else {  // app forward navigation\r\n            navigationEvent.trigger = 'imperative';\r\n            navigationEvent.nvgExtras = nvgData;\r\n            navigationEvent.appExtras = appData;\r\n            this.nidToNavigationEvent[navigationEvent.id] = navigationEvent;\r\n          }\r\n          this.navigationEvent$.next(navigationEvent);\r\n        }\r\n      }\r\n      else if (\r\n        event instanceof NavigationEnd ||\r\n        event instanceof NavigationCancel ||\r\n        event instanceof NavigationError\r\n      ) {\r\n        const routerTransientState = this.getCurrentNavigationExtras(\"transient\");\r\n        const navigationEvent = new NavigationEvent();\r\n        navigationEvent.type = 'end';\r\n        navigationEvent.uri = event.url;\r\n        navigationEvent.id = event.id;\r\n        navigationEvent.outlet = routerTransientState.outlet ? routerTransientState.outlet : null;\r\n        this.navigationEvent$.next(navigationEvent);\r\n      }\r\n    });\r\n  }\r\n\r\n  getNavigationEvent(nid: number): NavigationEvent {\r\n    return this.nidToNavigationEvent[nid];\r\n  }\r\n\r\n  async navigate(nvgCommand: any, outlet: string, navigationExtras?: any) {\r\n    const transientState = new RoutingTransientState(nvgCommand, outlet, false, 0);\r\n    this.addNavigationExtras(\"transient\", transientState, navigationExtras);\r\n    await this.navigate_impl(nvgCommand, outlet, navigationExtras);\r\n  }\r\n\r\n  async navigateBack(nvgCommand: any, outlet: string, backNID: number, navigationExtras?: any) {\r\n    // Add transient routing state\r\n    const transientState = new RoutingTransientState(nvgCommand, outlet, true, backNID);\r\n    this.addNavigationExtras(\"transient\", transientState, navigationExtras);\r\n    await this.navigate_impl(nvgCommand, outlet, navigationExtras);\r\n\r\n  }\r\n\r\n  async navigate_impl(nvgCommand: any, outlet: string, navigationExtras?: any): Promise<boolean> {\r\n    let targetUrl = nvgCommand;\r\n    // Setup navigation options CallOptions, Id, Querystring\r\n    let nvgExt = this.nvgOptsMngr.processNavigationOptionsExtras(nvgCommand[0], navigationExtras);\r\n    // Resolve outlets\r\n    [targetUrl, nvgExt] = OutletsHelper.mergeOutlets(this.activatedRoute.snapshot.url, this.activatedRoute.snapshot.queryParams, outlet, nvgCommand, nvgExt);\r\n    targetUrl = this.normalizeRoute(targetUrl);\r\n    // Invalid URL \r\n    if (targetUrl.length > 0 && targetUrl[0].length === 0) {\r\n      return Promise.reject(\"Cannot navigate to an empty URL\");\r\n    }\r\n    // Navigate\r\n    return this.router.navigate(targetUrl, nvgExt);\r\n  }\r\n\r\n  navigateByUrl(url: string, navigationExtras?: any) {\r\n    this.router.navigateByUrl(url, navigationExtras);\r\n  }\r\n\r\n  getCurrentLocation(): string {\r\n    return this.location.path();\r\n  }\r\n\r\n  setNavigationExtras(nvgData: any, appData: any, navigationExtras: any = {}): any {\r\n    let navigationExtras1 = this.addNavigationExtras(\"nvg\", nvgData, navigationExtras);\r\n    navigationExtras1 = this.addNavigationExtras(\"app\", appData, navigationExtras1);\r\n    return navigationExtras1;\r\n  }\r\n\r\n  private getCurrentNavigationExtras(dataName: string): any {\r\n    const currentNavigation = this.router.getCurrentNavigation();\r\n    if (currentNavigation && currentNavigation.extras && currentNavigation.extras.state && currentNavigation.extras.state[dataName]) {\r\n      return currentNavigation.extras.state[dataName];\r\n    } else {\r\n      return {};\r\n    }\r\n  }\r\n\r\n  private addNavigationExtras(dataName: string, dataContent: any, navigationExtras: any): any {\r\n    if (!navigationExtras) {\r\n      navigationExtras = { state: {} };\r\n    }\r\n    else if (!navigationExtras.state) {\r\n      navigationExtras.state = {};\r\n    }\r\n    navigationExtras.state[dataName] = dataContent;\r\n    return navigationExtras;\r\n  }\r\n\r\n  private normalizeRoute(targetUri: any): any {\r\n    const uriSegments = this.normalizeRouteCommands(targetUri);\r\n    const prefixSegment = this.resolvePrefixSegment(uriSegments);\r\n    return [prefixSegment].concat(uriSegments).filter(x => x !== null);\r\n  }\r\n\r\n  private normalizeRouteCommands(cmds: Array<any>): Array<any> {\r\n    let newCmds = [];\r\n    for (let cmd of cmds) {\r\n      if (typeof cmd === \"string\") {\r\n        newCmds = newCmds.concat(cmd.split('/'));   // path as string\r\n      }\r\n      else {\r\n        newCmds.push(cmd);    // other parameters\r\n      }\r\n    }\r\n    return newCmds;\r\n  }\r\n\r\n  private resolvePrefixSegment(path: Array<string>) {\r\n    if (path.length === 0 || path[0].length === 0) {\r\n      // No route or empty route\r\n      return null;\r\n    }\r\n    let sPath = '';\r\n    for (let segment of path) {\r\n      if (typeof segment === 'string') {\r\n        sPath += segment;\r\n      }\r\n    }\r\n    let r: any = null;\r\n    for (r of this.router.config) {\r\n      if (r.path && r.path === sPath) {\r\n        return null;\r\n      }\r\n    }\r\n    return this.defaultSegment;\r\n  }\r\n}\r\n\r\nclass RoutingTransientState {\r\n  isBackNavigation: boolean;\r\n  backNID: number;\r\n  navigationCommand: any;\r\n  outlet: any;\r\n\r\n  constructor(navigationCommand: any, outlet: string, isBackNavigation: boolean, backNID: number) {\r\n    this.navigationCommand = navigationCommand;\r\n    this.outlet = outlet;\r\n    this.isBackNavigation = isBackNavigation;\r\n    this.backNID = backNID;\r\n  }\r\n}\r\n","export class ClientStorage {\r\n\r\n  static Set(key: string, data: string): void {\r\n    window.localStorage.setItem(key, data);\r\n  }\r\n\r\n  static Get(key: string): string {\r\n    return window.localStorage.getItem(key);\r\n  }\r\n\r\n  static Remove(key: string): void {\r\n    window.localStorage.removeItem(key);\r\n  }\r\n\r\n  static Clear(): void {\r\n    window.localStorage.clear();\r\n  }\r\n\r\n}\r\n","import { Observable } from \"rxjs\";\r\n\r\nexport class PrefersColorScheme {\r\n\r\n  static getObservable(): Observable<string> {\r\n    return new Observable(observer => {\r\n      const media = window.matchMedia('(prefers-color-scheme: dark)');\r\n      const fn = (e) => {\r\n        observer.next(e.matches ? 'dark' : 'light');\r\n      };\r\n  \r\n      media.addEventListener(\"change\", fn);\r\n  \r\n      return {\r\n        unsubscribe() {\r\n          media.removeEventListener(\"change\", fn);\r\n        }\r\n      };\r\n    });\r\n  }\r\n}\r\n","import { trigger, style, animate, transition } from \"@angular/animations\";\r\n\r\nexport function createEnterLeaveAnimation(name: string, visibleHeight: string) {\r\n  return trigger(name, [\r\n    transition(\":enter\", [\r\n      style({ height: 0, opacity: 0 }),\r\n      animate(\".3s ease-out\", style({ height: visibleHeight, opacity: 1 })),\r\n    ]),\r\n    transition(\":leave\", [\r\n      style({ height: visibleHeight, opacity: 1 }),\r\n      animate(\".3s ease-in\", style({ height: 0, opacity: 0 })),\r\n    ]),\r\n  ]);\r\n}\r\n\r\nexport function createFadeInOutAnimation(name: string) {\r\n  return trigger(name, [\r\n    transition(\":enter\", [\r\n      style({ opacity: 0 }),\r\n      animate(\".3s ease-out\", style({ opacity: 1 })),\r\n    ]),\r\n    transition(\":leave\", [\r\n      style({ opacity: 1 }),\r\n      animate(\".3s ease-in\", style({ opacity: 0 })),\r\n    ]),\r\n  ]);\r\n}\r\n","import { Component, Input, OnChanges, Output, EventEmitter } from '@angular/core';\r\nimport { TimerState } from 'app/gx/ui/controls/timer/timer.component';\r\n\r\n@Component({\r\n    selector: 'gx-action-group',\r\n    templateUrl: './action-group.component.html',\r\n    styleUrls: ['./action-group.component.scss']\r\n})\r\nexport class ActionGroupComponent implements OnChanges {\r\n\r\n    @Input() show = false;\r\n    @Output() onClose: EventEmitter<void> = new EventEmitter<void>();;\r\n\r\n    timerState = TimerState.Stopped;\r\n\r\n    constructor() {\r\n    }\r\n\r\n    dismissGroup() {\r\n        this.show = false;\r\n        this.onClose.emit();\r\n    }\r\n\r\n    ngOnChanges() {\r\n        if (this.show) {\r\n            this.timerState = TimerState.Running;\r\n        }\r\n        else {\r\n            this.timerState = TimerState.Reset;\r\n        }\r\n    }\r\n}","<gx-timer [state]=\"timerState\" interval=1 maxValue=5 (onEnd)=\"dismissGroup()\">\r\n    <div [hidden]=\"!show\" class=\"action-group-panel\">\r\n        <ng-content></ng-content>\r\n    </div>\r\n</gx-timer>","import { Component } from \"@angular/core\";\r\n\r\n@Component({\r\n  selector: \"AudioController\",\r\n  templateUrl: \"./audio-controller.component.html\",\r\n  styleUrls: [\"./audio-controller.component.scss\"],\r\n})\r\nexport class AudioControllerComponent {\r\n}\r\n","AudioController not implemented yet!","import { ComponentOutletDirective } from \"./component-outlet.directive\";\r\nimport { Input, Component, ViewChild, OnInit, OnDestroy, OnChanges, ComponentRef, ElementRef, ChangeDetectionStrategy, ChangeDetectorRef } from \"@angular/core\";\r\n\r\nimport { PanelComponent } from \"app/gx/base/panel.component\";\r\nimport { CompositeNavigation } from \"app/gx/navigation/composite-navigation\";\r\nimport { VisibilityService } from \"app/gx/base/visibility.service\";\r\nimport { Settings } from \"app/app.settings\";\r\nimport { LazyLoaderService } from 'app/gx/base/lazy-loader.service';\r\nimport { Subscription, combineLatest, BehaviorSubject, of } from \"rxjs\";\r\nimport { UIComponentElement } from 'app/gx/ui/model/ui-component';\r\n\r\n@Component({\r\n  selector: \"gx-component-host\",\r\n  templateUrl: \"./component-host.component.html\",\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n  styles: [\r\n    \":host, :host > div { display: flex; flex: 1; flex-direction: column; }\"\r\n  ]\r\n})\r\nexport class ComponentHostComponent implements OnInit, OnDestroy, OnChanges {\r\n  @Input() componentUri: string;\r\n  @Input() id: string;\r\n  @Input() parentOutlet: string;\r\n\r\n  @ViewChild(ComponentOutletDirective, { static: true }) componentHost: ComponentOutletDirective;\r\n  componentRef: ComponentRef<PanelComponent>;\r\n\r\n  private subscription: Subscription = new Subscription();\r\n\r\n  lastComponentUri = null;\r\n  private lastVersion = 0;\r\n  private started = false;\r\n\r\n  private started$ = new BehaviorSubject<boolean>(false);\r\n  private uri$ = new BehaviorSubject<string>(null);\r\n  private version$ = new BehaviorSubject<number>(0);\r\n\r\n  constructor(\r\n    private nvg: CompositeNavigation,\r\n    private visibilityService: VisibilityService,\r\n    private host: ElementRef,\r\n    private loader: LazyLoaderService,\r\n    private cdr: ChangeDetectorRef\r\n  ) { }\r\n\r\n\r\n  async ngOnInit() {\r\n    let visible$ = null;\r\n    if (Settings.loadComponentsWhenOnSight) {\r\n      visible$ = this.visibilityService.elementInSight(this.host);\r\n    } else {\r\n      visible$ = of(true);\r\n    }\r\n\r\n    const componentChanged$ = combineLatest(\r\n      visible$,\r\n      this.uri$,\r\n      this.started$,\r\n      this.version$);\r\n\r\n    this.subscription.add(componentChanged$.subscribe(async (status) => {\r\n      const visible = status[0];\r\n      const uri = status[1];\r\n      this.started = status[2];\r\n      const version = status[3];\r\n      if (this.started && visible && (this.lastVersion !== version || this.lastComponentUri !== uri)) {\r\n        await this.loadComponent(uri, version);\r\n        this.lastComponentUri = uri;\r\n        this.lastVersion = version;\r\n      }\r\n    }));\r\n\r\n  }\r\n\r\n  ngOnChanges() {\r\n    this.uri$.next(this.componentUri);\r\n  }\r\n\r\n  start(dataContext: any = null, uiContext: UIComponentElement = null) {\r\n    if (!this.started) {\r\n      let uri = this.componentUri;\r\n      if (uiContext && uiContext.object) {\r\n        uri = uiContext.object;\r\n      }\r\n      if (dataContext) {\r\n        uri = this.buildWithContext(dataContext, uri);\r\n      }\r\n      this.uri$.next(uri);\r\n      this.started$.next(true);\r\n    }\r\n  }\r\n\r\n  async refresh(context: any = null) {\r\n    if (this.started) {\r\n      let uri = this.componentUri;\r\n      if (context) {\r\n        uri = this.buildWithContext(context, this.componentUri);\r\n      }\r\n      this.uri$.next(uri);\r\n      this.version$.next(this.lastVersion + 1);\r\n    }\r\n  }\r\n\r\n  buildWithContext(context: any, uri: string) {\r\n    if (uri) {\r\n      const startParmsPos = uri.indexOf(\"?\");\r\n      if (startParmsPos >= 0) {\r\n        const parms = [];\r\n        for (let p of uri.substr(startParmsPos + 1).split(\",\")) {\r\n          if (p.startsWith(\"&\")) {\r\n            p = p.substr(1);\r\n          }\r\n          if (context[p] !== undefined) {\r\n            parms.push(context[p]);\r\n          } else {\r\n            parms.push(p);\r\n          }\r\n        }\r\n        return uri.substr(0, startParmsPos) + \"?\" + parms.join(\",\");\r\n      }\r\n    }\r\n    return uri;\r\n  }\r\n\r\n  async loadComponent(uri, version) {\r\n    if (uri) {\r\n      const compToCall = await this.nvg.parseDyncall(uri);\r\n      if (compToCall) {\r\n        const componentFactory = await this.loader.findComponentFactory(compToCall[0]);\r\n        const viewContainerRef = this.componentHost.viewContainerRef;\r\n\r\n        viewContainerRef.clear();\r\n        this.componentRef = viewContainerRef.createComponent(componentFactory) as ComponentRef<PanelComponent>;\r\n\r\n        if (compToCall.length > 1) {\r\n          const panelComponent = this.componentRef.instance as PanelComponent;\r\n          if (version === this.lastVersion) {\r\n            panelComponent.initDynComponent(this.getHostId(), { _gxParameterValues: compToCall[1] });\r\n          }\r\n          else {\r\n            panelComponent.refreshDynComponent(this.getHostId(), { _gxParameterValues: compToCall[1] });\r\n          }\r\n          this.cdr.markForCheck();\r\n        }\r\n      }\r\n    }\r\n    else {\r\n      this.componentHost.viewContainerRef.clear();\r\n    }\r\n  }\r\n\r\n  async cancel() {\r\n    const panelComponent = this.componentRef.instance as PanelComponent;\r\n    if (panelComponent) {\r\n      await panelComponent.__Cancel();\r\n    }\r\n  }\r\n  getHostId(): string {\r\n    return this.parentOutlet ? this.parentOutlet + \"-\" + this.id : this.id;\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    if (this.componentRef) {\r\n      this.componentRef.destroy();\r\n    }\r\n    this.subscription.unsubscribe();\r\n  }\r\n}\r\n","<div>\r\n    <ng-template gx-component-outlet></ng-template>\r\n    <div class=\"ph-item\" [style.border]=\"0\" *ngIf=\"this.componentUri != null && this.lastComponentUri === null\">\r\n        <div class=\"ph-col-12\">\r\n            <div class=\"ph-picture\"></div>\r\n            <div class=\"ph-row\">\r\n                <div class=\"ph-col-6 big\"></div>\r\n                <div class=\"ph-col-4 empty big\"></div>\r\n                <div class=\"ph-col-2 big\"></div>\r\n                <div class=\"ph-col-4\"></div>\r\n                <div class=\"ph-col-8 empty\"></div>\r\n                <div class=\"ph-col-6\"></div>\r\n                <div class=\"ph-col-6 empty\"></div>\r\n                <div class=\"ph-col-12\"></div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>","import { Directive, ViewContainerRef } from '@angular/core';\r\n\r\n@Directive({\r\n  selector: '[gx-component-outlet]',\r\n})\r\nexport class ComponentOutletDirective {\r\n  constructor(public viewContainerRef: ViewContainerRef) { }\r\n}","import { Component, EventEmitter, Input, OnChanges, Output, ViewChild } from \"@angular/core\";\r\nimport { Title } from '@angular/platform-browser';\r\nimport { AppContainer } from 'app/gx/base/app-container';\r\nimport { UriCacheService } from \"app/gx/utils/uri-cache/uri-cache.service\";\r\n\r\n\r\n@Component({\r\n  selector: 'gx-file-upload',\r\n  templateUrl: './file-upload.component.html',\r\n  styleUrls: ['./file-upload.component.scss'],\r\n})\r\n\r\nexport class FileUploadComponent implements OnChanges {\r\n\r\n  @Input() fileSource = '';\r\n  @Input() disabled = false;\r\n  @Input() readonly = false;\r\n  @Input() uploadService = null;\r\n\r\n  @Output() onFileChanged: EventEmitter<string> = new EventEmitter<string>();\r\n\r\n  @ViewChild('fileInput', { static: false }) file;\r\n\r\n  showDialog = false;\r\n  modalTitle: string;\r\n  uploading = false;\r\n  fileShowName = '';\r\n\r\n  constructor(\r\n    protected uriCacheService: UriCacheService,\r\n    protected app: AppContainer,\r\n    protected titleService: Title) {\r\n  }\r\n\r\n  ngOnChanges() {\r\n    this.modalTitle = this.titleService.getTitle();\r\n    this.fileShowName = this.fileSource.slice(this.fileSource.lastIndexOf(\"/\") + 1);\r\n  }\r\n\r\n  triggerAction() {\r\n    if (this.fileSource === '') {\r\n      this.file.nativeElement.click();\r\n    } else {\r\n      this.showDialog = !this.showDialog;\r\n    }\r\n  }\r\n\r\n  viewFile() {\r\n    if (!this.showDialog) {\r\n      this.app.open(this.fileSource);\r\n    }\r\n  }\r\n\r\n  clearFileAction() {\r\n    this.fileSource = '';\r\n    this.uploading = false;\r\n    this.onFileChanged.emit('');\r\n  }\r\n\r\n  async onFileSelected() {\r\n    const files: { [key: string]: File } = this.file.nativeElement.files;\r\n    for (let key in files) {\r\n      if (!isNaN(parseInt(key))) {\r\n        this.uploading = true;\r\n        const objectId = await this.uploadFile(files[key]);\r\n        this.onFileChanged.emit(objectId);\r\n        this.uploading = false;\r\n        this.showDialog = false;\r\n        this.fileShowName = files[key].name;\r\n        return;\r\n      }\r\n    }\r\n  }\r\n\r\n  async uploadFile(file: File): Promise<string> {\r\n    if (this.uploadService) {\r\n      const result = await this.uploadService(file);\r\n      this.uriCacheService.store(result.object_id, file);\r\n      return result.object_id;\r\n    } else {\r\n      const objectId = \"gxupload:\" + Math.floor(Math.random() * 100000000 + 1);\r\n      this.uriCacheService.store(objectId, file);\r\n      return objectId;\r\n    }\r\n  }\r\n\r\n  closeAction() {\r\n    this.showDialog = false;\r\n  }\r\n\r\n  translate(key: string) {\r\n    return this.app.translate(key);\r\n  }\r\n}","<div class=\"click-capture\">\r\n    <div class=\"file-viewer\">\r\n        <div [href]=\"fileSource\"\r\n            class=\"file-viewer-file\"\r\n            *ngIf=\"fileSource && fileSource.length > 0\"\r\n            (click)=\"viewFile();$event.stopPropagation()\">\r\n            {{ fileShowName }}\r\n        </div>\r\n\r\n        <div class=\"file-viewer-button\">\r\n            <button ngClass=\"file-edit\"\r\n                    *ngIf=\"!readonly\"\r\n                    [disabled]=\"disabled || uploading\"\r\n                    (click)=\"triggerAction(); $event.stopPropagation()\">\r\n                <img />\r\n            </button>\r\n        </div>\r\n    </div>\r\n    <gx-modal [opened]=\"showDialog\" (onClose)=\"closeAction()\" class=\"action-dialog\">\r\n        <div slot=\"header\">{{ modalTitle }}</div>\r\n        <div slot=\"body\" style=\"display:flex; justify-content: space-around;\">\r\n            <label class=\"select-file\">\r\n                <span>{{'Change file' | translate }}</span>\r\n                <input #fileInput\r\n                       type=\"file\"\r\n                       (change)=\"onFileSelected(); closeAction();$event.stopPropagation()\" />\r\n            </label>\r\n            <gx-button (click)=\"clearFileAction(); closeAction(); $event.stopPropagation()\" class=\"Button\">\r\n                {{'Remove file' | translate }}\r\n            </gx-button>\r\n        </div>\r\n        <div slot=\"secondary-action\">\r\n            <gx-button (click)=\"closeAction(); $event.stopPropagation()\" class=\"Button\">\r\n                {{'GXM_cancel' | translate }}\r\n            </gx-button>\r\n        </div>\r\n    </gx-modal>\r\n</div>\r\n","import { Directive, ViewContainerRef, Input, OnChanges } from '@angular/core';\r\nimport { Meta, Title } from \"@angular/platform-browser\";\r\n\r\n\r\n@Directive({\r\n  selector: '[gx-form-properties]',\r\n})\r\nexport class FormPropertiesDirective implements OnChanges {\r\n  constructor(\r\n    public viewContainerRef: ViewContainerRef,\r\n    protected _metaService: Meta,\r\n    protected _titleService: Title,\r\n  ) { }\r\n\r\n  @Input('formCaption') caption: string;\r\n\r\n  ngOnChanges() {\r\n    if (this.caption) {\r\n      this._titleService.setTitle(this.caption);\r\n      this._metaService.updateTag({ name: \"description\", content: this.caption });\r\n\r\n    }\r\n  }\r\n}","import { Component, EventEmitter, Input, Output } from \"@angular/core\";\r\n\r\n@Component({\r\n  selector: \"gx-geolocation\",\r\n  templateUrl: \"./geolocation.component.html\",\r\n  styleUrls: [\"./geolocation.component.scss\"],\r\n})\r\nexport class GeolocationComponent {\r\n  @Input() coords = \"\";\r\n  @Input() disabled = false;\r\n  @Input() readonly = false;\r\n\r\n  @Output() onGeolocationChanged: EventEmitter<string> = new EventEmitter<string>();\r\n  zoom = \"1\";\r\n\r\n  ngOnInit() {\r\n    if (this.coords !== \"\") {\r\n      this.zoom = \"15\";\r\n    }\r\n  }\r\n\r\n  convertCoords(x: string): string {\r\n    let pt = x.trim().toUpperCase();\r\n    if (pt.startsWith(\"POINT\")) {\r\n      let sCoords = pt.replace(\")\", \"\").replace(\"(\", \"\");\r\n      let coords = sCoords.split(\" \");\r\n      return \"\" + coords[2] + \",\" + coords[1];\r\n    } else {\r\n      return pt;\r\n    }\r\n  }\r\n\r\n  coordsChanged(x: string) {\r\n    if (!this.readonly && !this.disabled) {\r\n      this.onGeolocationChanged.emit(x);\r\n    }\r\n  }\r\n}\r\n","<gx-map\r\n\t[selectionLayer]=\"!(readonly || disabled)\"\r\n\t[center]=\"convertCoords(coords)\"\r\n\t[zoom]=\"zoom\"\r\n\t(selectionChange)=\"coordsChanged($event.detail)\"\r\n>\r\n\t<gx-map-marker\r\n\t\t*ngIf=\"readonly || disabled\"\r\n\t\t[coords]=\"convertCoords(coords)\"\r\n\t></gx-map-marker>\r\n</gx-map>\r\n","import { Component, EventEmitter, Input, Output, ViewChild } from \"@angular/core\";\r\nimport { Title } from \"@angular/platform-browser\";\r\nimport { AppContainer } from \"app/gx/base/app-container\";\r\nimport { UriCacheService } from \"app/gx/utils/uri-cache/uri-cache.service\";\r\n\r\n@Component({\r\n  selector: \"gx-image-upload\",\r\n  templateUrl: \"./image-upload.component.html\",\r\n  styleUrls: [\"./image-upload.component.scss\"],\r\n})\r\n\r\nexport class ImageUploadComponent {\r\n  @Input() alt = \"\";\r\n  @Input() autoGrow = true;\r\n  @Input() disabled = false;\r\n  @Input() height: string;\r\n  @Input() invisibleMode: \"collapse\" | \"keep-space\" = \"collapse\";\r\n  @Input() lazyLoad = true;\r\n  @Input() lowResolutionSrc = \"\";\r\n  @Input() scaleType:\r\n    | \"contain\"\r\n    | \"cover\"\r\n    | \"fill\"\r\n    | \"none\"\r\n    | \"tile\";\r\n  @Input() src = \"\";\r\n  @Input() width: string;\r\n  @Input() highlightable = false;\r\n  @Input() readonly = false;\r\n  @Input() modalTitle = null;\r\n  @Input() changeButtonText = \"Change image...\";\r\n  @Input() removeButtonText = \"Remove image\";\r\n  @Input() cancelButtonText = \"GXM_cancel\";\r\n  @Input() uploadService = null;\r\n\r\n  @Output() click: EventEmitter<MouseEvent> = new EventEmitter();\r\n  @Output() onImageChanged: EventEmitter<string> = new EventEmitter<string>();\r\n\r\n  @ViewChild(\"imageUpload\", { static: false }) imageUpload;\r\n\r\n  state: \"readyToUse\" | \"fileReadyToUpload\" | \"uploadingFile\" = \"readyToUse\";\r\n\r\n  constructor(\r\n    protected uriCacheService: UriCacheService,\r\n    protected app: AppContainer,\r\n    protected titleService: Title\r\n  ) { }\r\n\r\n\r\n  handleImageChange(event: CustomEvent) {\r\n    // This stopPropagation() allows to not call the external event, defined\r\n    // when using the Angular's control\r\n    event.stopPropagation();\r\n\r\n    // The image was removed\r\n    if (event.detail == null) {\r\n      this.src = null;\r\n      this.alt = \"\";\r\n      this.onImageChanged.emit(\"\");\r\n    }\r\n    // The image was updated\r\n    else {\r\n      const imageFile: File = event.detail as File;\r\n      this.fileSelectedAction(imageFile);\r\n    }\r\n  }\r\n\r\n  clickImageAction(event) {\r\n    // This stopPropagation() allows to not call the external event, defined\r\n    // when using the Angular's control\r\n    event.stopPropagation();\r\n\r\n    this.click.emit(event);\r\n  }\r\n\r\n  async fileSelectedAction(file: File) {\r\n    this.state = \"uploadingFile\";\r\n    const objectId = await this.onFileSelected(file);\r\n    if (objectId) {\r\n      await this.updateImage(file, objectId);\r\n    }\r\n    this.state = \"readyToUse\";\r\n    return;\r\n  }\r\n\r\n  async onFileSelected(file: File): Promise<string> {\r\n    let result = await this.uploadService(file);\r\n    return result.object_id;\r\n  }\r\n\r\n  translate(key: string) {\r\n    return this.app.translate(key);\r\n  }\r\n\r\n  updateImage(file: File, objectId: string): Promise<void> {\r\n    return new Promise((complete) => {\r\n      if (file) {\r\n        const gxImageUpload = this.imageUpload.nativeElement as HTMLGxImagePickerElement;\r\n        const fileURL = this.uriCacheService.store(objectId, file);\r\n        this.src = fileURL;\r\n        this.alt = gxImageUpload.alt;\r\n        this.onImageChanged.emit(objectId);\r\n        complete();\r\n      }\r\n    });\r\n  }\r\n}","<gx-image-picker #imageUpload\r\n                 [alt]=\"alt\"\r\n                 [autoGrow]=\"autoGrow\"\r\n                 [disabled]=\"disabled\"\r\n                 [height]=\"height\"\r\n                 [invisibleMode]=\"invisibleMode\"\r\n                 [lazyLoad]=\"lazyLoad\"\r\n                 [lowResolutionSrc]=\"lowResolutionSrc\"\r\n                 [scaleType]=\"scaleType\"\r\n                 [src]=\"src\"\r\n                 [width]=\"width\"\r\n                 [highlightable]=\"highlightable\"\r\n                 [attr.readonly]=\"readonly\"\r\n                 [modalTitle]=\"modalTitle | translate\"\r\n                 [changeButtonText]=\"changeButtonText | translate\"\r\n                 [removeButtonText]=\"removeButtonText | translate\"\r\n                 [cancelButtonText]=\"cancelButtonText | translate\"\r\n                 [state]=\"state\"\r\n                 (click)=\"clickImageAction($event)\"\r\n                 (onImageChanged)=\"handleImageChange($event)\">\r\n</gx-image-picker>","import { Component, Input, Output, OnChanges, EventEmitter } from '@angular/core';\r\nimport { AppContainer } from 'app/gx/base/app-container';\r\nimport { UIMessage } from './ui-message.dt';\r\nimport { Title } from '@angular/platform-browser';\r\n\r\n@Component({\r\n  selector: 'gx-messages',\r\n  templateUrl: './messages.component.html',\r\n  styleUrls: ['./messages.component.scss']\r\n})\r\nexport class MessagesComponent implements OnChanges {\r\n  @Input() message: UIMessage;\r\n\r\n  statusMessage: string;\r\n  statusMessageType: string;\r\n  statusOpened = false;\r\n  statusCount = 0;\r\n  statusDuration = 3;   // 3 seconds\r\n  statusBarClass = \"\";\r\n\r\n  modalTitle: string;\r\n  modalMessage: string;\r\n  modalOpened = false;\r\n\r\n  confirmCaption: string;\r\n  allowCancelAction = false;\r\n\r\n  onConfirm: () => void;\r\n  onCancel: () => void;\r\n\r\n  constructor(protected app: AppContainer, protected titleService: Title) {\r\n  }\r\n\r\n  async ngOnChanges() {\r\n    this.modalTitle = this.titleService.getTitle();\r\n    if (this.message) {\r\n      if (this.message.type === \"message\") {\r\n        this.showStatusMessage();\r\n      }\r\n      else if (this.message.type === \"messageWarning\") {\r\n        this.showStatusMessage('warning');\r\n      }\r\n      else if (this.message.type === \"messageError\") {\r\n        this.showStatusMessage('error');\r\n      }\r\n      else if (this.message.type === \"error\") {\r\n        this.showErrorMessage();\r\n      }\r\n      else if (this.message.type === \"confirm\") {\r\n        this.showConfirmMessage();\r\n      }\r\n    }\r\n  }\r\n\r\n  showStatusMessage(type = 'info') {\r\n    this.onConfirm = this.message.onConfirm ;\r\n    this.statusBarClass = \"show\"\r\n    this.statusCount = this.statusDuration;\r\n    this.statusMessage = this.message.text;\r\n    this.statusMessageType = type;\r\n    if (!this.statusOpened) {\r\n      this.statusOpened = true;\r\n      const interval = setInterval(() => {\r\n        if (this.statusCount > 0) {\r\n          this.statusCount--;\r\n        } else {\r\n          this.statusBarClass = \"\"\r\n          this.statusMessage = null;\r\n          this.statusOpened = false;\r\n          clearInterval(interval);\r\n        }\r\n      }, 1000);\r\n    }\r\n    if (this.onConfirm)\r\n      this.onConfirm();\r\n  }\r\n\r\n  showErrorMessage() {\r\n    this.onConfirm = this.message.onConfirm ;\r\n    this.confirmCaption = this.translate(\"GXM_Ok\");\r\n    this.allowCancelAction = false;\r\n    this.modalOpened = true;\r\n    this.modalMessage = this.message.text;\r\n  }\r\n\r\n  showConfirmMessage() {\r\n    this.onConfirm = this.message.onConfirm;\r\n    this.onCancel = this.message.onCancel;\r\n    this.confirmCaption = this.translate(\"GXM_Confirm\");\r\n    this.allowCancelAction = true;\r\n    this.modalOpened = true;\r\n    this.modalMessage = this.message.text;\r\n  }\r\n\r\n  closeAction() {\r\n    this.modalOpened = false;\r\n    if (this.onCancel)\r\n      this.onCancel();\r\n  }\r\n\r\n  confirmAction() {\r\n    this.modalOpened = false;\r\n    if (this.onConfirm)\r\n      this.onConfirm();\r\n  }\r\n\r\n  cancelAction() {\r\n    this.modalOpened = false;\r\n    if (this.onCancel)\r\n      this.onCancel();\r\n  }\r\n\r\n  translate(key: string) {\r\n    return this.app.translate(key);\r\n  }\r\n}\r\n","<div id=\"messageBar\" [class]=\"statusBarClass\">\r\n    <gx-message type=\"{{statusMessageType}}\">{{statusMessage}}</gx-message>\r\n</div>\r\n\r\n<gx-modal [opened]=\"modalOpened\" (close)=\"closeAction()\">\r\n    <div slot=\"header\">{{modalTitle}}</div>\r\n    <div slot=\"body\">\r\n        {{modalMessage}}\r\n    </div>\r\n    <div slot=\"primary-action\">\r\n        <gx-button (click)=\"confirmAction()\" class=\"Button\">\r\n            {{confirmCaption}}\r\n        </gx-button>\r\n    </div>\r\n    <div slot=\"secondary-action\" [hidden]=\"!allowCancelAction\">\r\n        <gx-button (click)=\"cancelAction()\" class=\"Button\">\r\n            {{'GXM_cancel' | translate}}\r\n        </gx-button>\r\n    </div>\r\n</gx-modal>","import { Component, Input, Output, OnChanges, EventEmitter } from '@angular/core';\r\nimport { UIProgress } from './progress.service';\r\n@Component({\r\n  selector: 'gx-progress',\r\n  templateUrl: './progress.component.html',\r\n  styleUrls: [\"./progress.component.scss\"]\r\n})\r\nexport class ProgressComponent implements OnChanges {\r\n\r\n  @Input() updateSettings: UIProgress;\r\n\r\n  settings = new UIProgress();\r\n\r\n  show = false;\r\n  sValue: string;\r\n\r\n  constructor() {\r\n  }\r\n\r\n  ngOnChanges() {\r\n\r\n    if (this.updateSettings) {\r\n      for (const st in this.updateSettings) {\r\n        this.settings[st] = this.updateSettings[st];\r\n      }\r\n      this.sValue = this.settings.value / this.settings.maxValue * 100 + '';\r\n      if (!this.settings.type) {\r\n        this.sValue = \"100\";\r\n      }\r\n    }\r\n    this.show = this.updateSettings ? true : false;\r\n\r\n    if (this.updateSettings && this.updateSettings.callback) {\r\n      setTimeout(() => {\r\n        this.updateSettings.callback(true);\r\n      }, 500);\r\n    }\r\n\r\n  }\r\n\r\n  openAction() {\r\n  }\r\n\r\n  closeAction() {\r\n    this.show = false;\r\n    this.sValue = \"0\";\r\n    this.settings = {};\r\n  }\r\n}","<div [hidden]=\"!show\" class=\"progress-fade\">\r\n    <div class=\"progress-box\">\r\n        <div class=\"progress-header\">{{settings.title}}</div>\r\n        <div class=\"progress-body\">\r\n            <gx-progress-bar [value]=\"sValue\"></gx-progress-bar>\r\n            <div class=\"progress-body-text\">\r\n                {{settings.description}}\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>","import { Injectable } from '@angular/core';\r\nimport { Observable, Subject } from 'rxjs';\r\n\r\n@Injectable({\r\n  providedIn: 'root',\r\n})\r\nexport class ProgressService {\r\n\r\n  private progressSource = new Subject<UIProgress>();\r\n\r\n  private currentSettings: UIProgress = {};\r\n\r\n  constructor() {\r\n  }\r\n\r\n  getObservable(): Observable<UIProgress> {\r\n    this.currentSettings = {};\r\n    return this.progressSource.asObservable();\r\n  }\r\n\r\n  getClass(): string {\r\n    return this.currentSettings.cssClass || \"\";\r\n  }\r\n\r\n  setClass(c: string) {\r\n    this.updateProgress({ cssClass: c });\r\n  }\r\n\r\n  getType(): number {\r\n    // Indeterminate=0, Determinate=1\r\n    return this.currentSettings.type || 0;\r\n  }\r\n\r\n  setType(type: number) {\r\n    // Indeterminate=0, Determinate=1\r\n    this.updateProgress({ type: type });\r\n  }\r\n\r\n  getTitle(): string {\r\n    return this.currentSettings.title || \"\";\r\n  }\r\n\r\n  setTitle(title: string) {\r\n    this.updateProgress({ title: title });\r\n  }\r\n\r\n  getDescription(): string {\r\n    return this.currentSettings.description || \"\";\r\n  }\r\n\r\n  setDescription(description: string) {\r\n    this.updateProgress({ description: description });\r\n  }\r\n\r\n  getMaxValue(): number {\r\n    return this.currentSettings.maxValue || 0;\r\n  }\r\n\r\n  setMaxValue(value: number) {\r\n    this.updateProgress({ maxValue: value });\r\n  }\r\n\r\n  getValue(): number {\r\n    return this.currentSettings.value || 0;\r\n  }\r\n\r\n  setValue(value: number) {\r\n    this.updateProgress({ value: value });\r\n  }\r\n\r\n  show() {\r\n    this.updateProgress({});\r\n  }\r\n\r\n  showWithTitle(title: string): Promise<any> {\r\n    return new Promise<any>(complete => {\r\n      this.updateProgress(\r\n        {\r\n          title: title,\r\n          description: null,\r\n          callback: complete\r\n        });\r\n    });\r\n  }\r\n\r\n  showWithTitleAndDescription(title: string, description: string) {\r\n    this.updateProgress({ title: title, description: description });\r\n  }\r\n\r\n  hide() {\r\n    this.currentSettings = {};\r\n    this.updateProgress(null);\r\n  }\r\n\r\n  private updateProgress(settings?: UIProgress) {\r\n    if (settings) {\r\n      for (const st in settings) {\r\n        this.currentSettings[st] = settings[st];\r\n      }\r\n      this.progressSource.next(Object.assign({}, this.currentSettings));\r\n    }\r\n    else {\r\n      this.progressSource.next(null);\r\n    }\r\n\r\n  }\r\n}\r\n\r\nexport class UIProgress {\r\n  type?: number = 0;     // 0=indeterminate, 1=determinate\r\n  title?: string = null;\r\n  description?: string = null;\r\n  value?: number = 100;\r\n  maxValue?: number = 100;\r\n  cssClass?: string = null;\r\n  callback?: (ret: boolean) => void;\r\n}","import { Component, Input, Output, OnChanges, OnDestroy, EventEmitter } from '@angular/core';\r\nimport { Observable, Subscription, interval } from 'rxjs';\r\n\r\n@Component({\r\n    selector: 'gx-timer',\r\n    templateUrl: './timer.component.html'\r\n})\r\nexport class TimerComponent implements OnChanges, OnDestroy {\r\n\r\n    @Input() state: string;   // 'running', 'stopped', 'reset'\r\n    @Input() interval = 1;   // interval in seconds\r\n    @Input() maxValue = 0;   // maxVlaue in seconds\r\n\r\n    @Output() onTick: EventEmitter<any> = new EventEmitter<any>();\r\n    @Output() onEnd: EventEmitter<any> = new EventEmitter<any>();\r\n\r\n    timer: any;\r\n    counter: number = 0;\r\n\r\n    private timerSubscription: Subscription;\r\n\r\n    constructor() {\r\n    }\r\n\r\n    ngOnChanges() {\r\n        if (this.state === TimerState.Running) {\r\n            this.startTimer();\r\n        } else if (this.state === TimerState.Stopped) {\r\n            this.stopTimer();\r\n        } else if (this.state === TimerState.Reset) {\r\n            this.stopTimer();\r\n            this.counter = 0;\r\n        }\r\n    }\r\n\r\n    ngOnDestroy() {\r\n        this.stopTimer();\r\n    }\r\n\r\n    startTimer() {\r\n        if (!this.timer) {\r\n            this.timer = interval(this.interval * 1000);\r\n            this.timerSubscription = this.timer.subscribe(() => {\r\n                this.counter++;\r\n                if (this.maxValue > 0 && this.counter >= this.maxValue) {\r\n                    this.stopTimer();\r\n                    this.onEnd.emit(this.counter);\r\n                }\r\n                this.onTick.emit(this.counter);\r\n            });\r\n        }\r\n    }\r\n\r\n    stopTimer() {\r\n        if (this.timer) {\r\n            this.timerSubscription.unsubscribe();\r\n            this.timer = null;\r\n            this.state = TimerState.Stopped;\r\n        }\r\n    }\r\n}\r\n\r\nexport enum TimerState {\r\n    Running = 'running',\r\n    Stopped = 'stopped',\r\n    Reset = 'reset'\r\n}\r\n","<ng-content></ng-content>","export interface IListElement {\r\n  class: string;\r\n  visible: boolean;\r\n  enabled: boolean;\r\n\r\n  currentItem: any;\r\n\r\n  onSelect(selectedItem: any, eventInfo: any);\r\n  onPullRelease(eventInfo: any);\r\n  onSelectionChanged(eventInfo: any);\r\n\r\n  setSelectAction(action: any);\r\n  setSelectionChangedAction(action: any);\r\n  setPullReleaseAction(action: any);\r\n  setRefreshAction(action: any);\r\n\r\n}\r\n\r\nexport interface IListPagedElement {\r\n  currentPage: number;\r\n  setPageChangedAction(action: any);\r\n  select(item: UIListElementItem): boolean;\r\n  deselect(item: UIListElementItem): boolean;\r\n}\r\n\r\nexport enum UIListLoadingState {\r\n  loading = \"loading\",\r\n  loaded = \"loaded\",\r\n}\r\n\r\nexport class UIListElement implements IListElement, IListPagedElement {\r\n  class = null;\r\n  visible = null;\r\n  enabled = null;\r\n  defaultLayoutName = null;\r\n  columnsPerPagePortrait = null;\r\n\r\n  loadingState: UIListLoadingState = UIListLoadingState.loading;\r\n\r\n  currentPage = 1;\r\n  recordCount = 0;\r\n  count = 0;\r\n  start = 0;\r\n\r\n  currentItem: any;\r\n\r\n  onSelectAction: any;\r\n  onPullReleaseAction: any;\r\n  onRefreshAction: any;\r\n  onSelectionChangedAction: any;\r\n  onPageChangedAction: any;\r\n\r\n  onSelect(selectedItem: any, eventInfo: CustomEvent) {\r\n    if (this.onSelectAction) {\r\n      eventInfo.stopPropagation();\r\n      this.currentItem = selectedItem;\r\n      this.onSelectAction();\r\n    }\r\n  }\r\n\r\n  onPullRelease(eventInfo: CustomEvent) {\r\n    if (this.onRefreshAction) {\r\n      this.onRefreshAction();\r\n    }\r\n  }\r\n\r\n  onSelectionChanged(eventInfo: CustomEvent) {\r\n    // TODO: Bring implementation from selectAction panel.component and add CurrentItem to model\r\n    if (this.onSelectionChangedAction) {\r\n      this.onSelectionChangedAction();\r\n    }\r\n  }\r\n\r\n  onPageChanged(eventInfo: CustomEvent) {\r\n    this.currentPage = eventInfo.detail;\r\n    if (this.onPageChangedAction) {\r\n      this.onPageChangedAction();\r\n    }\r\n  }\r\n\r\n  setPageChangedAction(action: any) {\r\n    this.onPageChangedAction = action;\r\n  }\r\n\r\n  setSelectAction(action: any) {\r\n    this.onSelectAction = action;\r\n  }\r\n\r\n  setPullReleaseAction(action: any) {\r\n    this.onPullReleaseAction = action;\r\n  }\r\n\r\n  setRefreshAction(action: any) {\r\n    this.onRefreshAction = action;\r\n  }\r\n\r\n  setSelectionChangedAction(action: any) {\r\n    this.onSelectionChangedAction = action;\r\n  }\r\n\r\n  refresh() {\r\n    if (this.onRefreshAction) {\r\n      this.onRefreshAction();\r\n    }\r\n  }\r\n  load() { }\r\n\r\n  select(item: UIListElementItem): boolean {\r\n    item.Selected = true;\r\n    return true;\r\n  }\r\n\r\n  deselect(item: UIListElementItem): boolean {\r\n    item.Selected = false;\r\n    return false;\r\n  }\r\n\r\n}\r\n\r\nexport class UIListElementItem {\r\n  public Itemlayout = \"\";\r\n  public Selected = false;\r\n  public Break = false;\r\n}\r\n","import { Pipe, PipeTransform } from \"@angular/core\";\r\nimport { GxBinary } from \"app/gx/base/gxbinary.dt\";\r\nimport { AppContainer } from 'app/gx/base/app-container';\r\n\r\n@Pipe({\r\n    name: 'binaryToURL'\r\n})\r\nexport class BinaryToURLPipe implements PipeTransform {\r\n\r\n  constructor(private app: AppContainer) { }\r\n  \r\n  transform(image: GxBinary): any {\r\n    return this.app.binaryToURL(image);\r\n  }\r\n}\r\n","import { Pipe, PipeTransform } from \"@angular/core\";\r\n\r\n@Pipe({\r\n    name: 'classSplit'\r\n})\r\nexport class ClassSplitPipe implements PipeTransform {\r\n\r\n  constructor() { }\r\n  \r\n  transform(value: any, args?: any): any {\r\n    return value.replace(/,/g, ' ');\r\n  }\r\n}\r\n","import { Pipe, PipeTransform } from \"@angular/core\";\r\nimport { TypeConversions } from \"app/gx/base/type-conversion\";\r\n\r\n@Pipe({\r\n    name: 'dateToISOString'\r\n})\r\nexport class DateToISOStringPipe implements PipeTransform {\r\n\r\n  constructor() { }\r\n  \r\n  transform(value) {\r\n    return TypeConversions.UIDateToISOString(value);\r\n  }\r\n}\r\n","import { Pipe, PipeTransform } from \"@angular/core\";\r\nimport { TypeConversions } from \"app/gx/base/type-conversion\";\r\n\r\n@Pipe({\r\n    name: 'datetimeToISOString'\r\n})\r\nexport class DatetimeToISOStringPipe implements PipeTransform {\r\n\r\n  constructor() { }\r\n  \r\n  transform(value) {\r\n    return TypeConversions.UIDatetimeToISOString(value);\r\n  }\r\n}\r\n","import { Pipe, PipeTransform } from \"@angular/core\";\r\n\r\n@Pipe({\r\n    name: 'default'\r\n})\r\nexport class DefaultPipe implements PipeTransform {\r\n\r\n  constructor() { }\r\n  \r\n  transform(value: any, defaultValue: any): any {\r\n    if (value !== null && value !== undefined) {\r\n      return value;\r\n    } else {\r\n      return defaultValue;\r\n    }\r\n  }\r\n}\r\n","import { Pipe, PipeTransform } from \"@angular/core\";\r\n\r\nimport { AppContainer } from \"../base/app-container\";\r\nimport { Geography } from \"@genexus/web-standard-functions/dist/lib-esm/types/geography\";\r\n\r\n@Pipe({\r\n    name: 'geographyToCoords'\r\n})\r\nexport class GeographyToCoordsPipe implements PipeTransform {\r\n\r\n  constructor( private app: AppContainer ) { }\r\n  \r\n  transform(geography: Geography): any {\r\n    return `${geography.latitude},${geography.longitude}`;\r\n  }\r\n}","import { Pipe, PipeTransform } from \"@angular/core\";\r\nimport { GUID } from \"@genexus/web-standard-functions/dist/lib-esm/types/guid\";\r\nimport { AppContainer } from \"../base/app-container\";\r\n\r\n@Pipe({\r\n    name: 'guidToString'\r\n})\r\nexport class GuidToStringPipe implements PipeTransform {\r\n\r\n  constructor( private app: AppContainer ) { }\r\n  \r\n  transform(guid: GUID): any {\r\n    return guid.toString() ;\r\n  }\r\n}","import { Pipe, PipeTransform } from \"@angular/core\";\r\n\r\nimport { AppContainer } from \"../base/app-container\";\r\n\r\n@Pipe({\r\n    name: 'imageSource'\r\n})\r\nexport class ImageSourcePipe implements PipeTransform {\r\n\r\n  constructor( private app: AppContainer ) { }\r\n  \r\n  transform(name: string, context: any): string {\r\n    return this.app.getImageSource(name);\r\n  }\r\n}","import { Pipe, PipeTransform } from \"@angular/core\";\r\nimport { GxImage } from \"app/gx/base/gximage.dt\";\r\nimport { AppContainer } from 'app/gx/base/app-container';\r\n\r\n@Pipe({\r\n    name: 'imageToURL'\r\n})\r\nexport class ImageToURLPipe implements PipeTransform {\r\n\r\n  constructor(private app: AppContainer) { }\r\n  \r\n  transform(image: GxImage, context:any): any {\r\n    return this.app.imageToURL(image);\r\n  }\r\n}\r\n","import { Pipe, PipeTransform } from \"@angular/core\";\r\n\r\nimport { AppContainer } from \"../base/app-container\";\r\nimport { Gauge } from \"@genexus/web-standard-functions/dist/lib-esm/types/gauge\";\r\n\r\n@Pipe({\r\n    name: 'jsonToGauge'\r\n})\r\nexport class JsonToGaugePipe implements PipeTransform {\r\n\r\n  constructor( private app: AppContainer ) { }\r\n  \r\n  transform(json: string): Gauge {\r\n    if (json && json !== \"\") {\r\n      return new Gauge(json);\r\n    }\r\n  }\r\n}","import { Pipe, PipeTransform } from \"@angular/core\";\r\n\r\n@Pipe({\r\n    name: 'not'\r\n})\r\nexport class NotPipe implements PipeTransform {\r\n\r\n  constructor() { }\r\n  \r\n  transform(value: any, args?: any): any {\r\n    return ! value\r\n  }\r\n}\r\n","import { Pipe, PipeTransform } from \"@angular/core\";\r\nimport { AppContainer } from 'app/gx/base/app-container';\r\n\r\n@Pipe({\r\n  name: 'resolveRelativeUrl'\r\n})\r\nexport class ResolveRelativeUrlPipe implements PipeTransform {\r\n\r\n  constructor(private app: AppContainer) { }\r\n\r\n  transform(url: string, args?: any): any {\r\n    return this.app.resolveRelativeURL(url);\r\n  }\r\n}\r\n","import { Pipe, PipeTransform } from \"@angular/core\";\r\nimport { TypeConversions } from \"app/gx/base/type-conversion\";\r\n\r\n@Pipe({\r\n    name: 'timeToISOString'\r\n})\r\nexport class TimeToISOStringPipe implements PipeTransform {\r\n\r\n  constructor() { }\r\n  \r\n  transform(value: any): any {\r\n    return TypeConversions.timeToISOString( value);\r\n  }\r\n}\r\n","import { Pipe, PipeTransform } from \"@angular/core\";\r\nimport { AppContainer } from \"../base/app-container\";\r\n\r\n@Pipe({\r\n    name: 'translate'\r\n})\r\nexport class TranslatePipe implements PipeTransform {\r\n\r\n  constructor( private app: AppContainer ) { }\r\n  \r\n  transform(s: string, args?: any): any {\r\n    return this.app.translate(s);\r\n  }\r\n}","import { Pipe, PipeTransform } from \"@angular/core\";\r\nimport { UriCacheService } from \"./uri-cache.service\";\r\n\r\n@Pipe({\r\n    name: 'loadCachedUri'\r\n})\r\nexport class LoadCachedUriPipe implements PipeTransform {\r\n\r\n  constructor( private urlCacheService: UriCacheService ) { }\r\n  \r\n  transform(uri: string, args?: any): any {\r\n    return this.urlCacheService.get( uri);\r\n  }\r\n}","import { Injectable } from \"@angular/core\";\r\n\r\n@Injectable({\r\n  providedIn: 'root',\r\n}) export class UriCacheService {\r\n\r\n  srcMap = new Map();\r\n  cacheLimit = 50;\r\n\r\n\r\n  get(uri: string): string {\r\n    if (uri) {\r\n      const uploadKeyPos = uri.indexOf('gxupload:');\r\n      if (uploadKeyPos > -1) {\r\n        const uploadKey = uri.substr(uploadKeyPos);\r\n        if (this.srcMap.has(uploadKey)) {\r\n          return this.srcMap.get(uploadKey);\r\n        }\r\n      }\r\n    }\r\n    return uri;\r\n  }\r\n\r\n  store(key: string, file: File): string {\r\n    if (this.srcMap.size > this.cacheLimit) {\r\n      const elder = this.srcMap.keys().next().value;\r\n      this.srcMap.delete(elder);\r\n    }\r\n    const fileURL = URL.createObjectURL(file);\r\n    this.srcMap.set(key, fileURL);\r\n    return fileURL;\r\n  }\r\n}\r\n","import { CUSTOM_ELEMENTS_SCHEMA, NgModule } from \"@angular/core\";\r\nimport { FormsModule } from \"@angular/forms\";\r\nimport { CommonModule } from \"@angular/common\";\r\nimport { environment } from \"./../environments/environment\";\r\nimport { ServiceWorkerModule } from \"@angular/service-worker\";\r\n\r\nimport { CommonModule as GxCommonModule } from \"./common.module\";\r\nimport { VirtualScrollerModule } from '@genexus/ngx-virtual-scroller';\r\n\r\nimport { MenuComponent } from \"app/Menu/menu.component\" ;\r\n@NgModule({\r\n  imports: [\r\n    CommonModule, \r\n    FormsModule,\r\n    GxCommonModule,\r\n    VirtualScrollerModule,\r\n    ServiceWorkerModule.register(\"ngsw-worker.js\", {\r\n      enabled: environment.production\r\n    })\r\n  ],\r\n  declarations: [\r\n    MenuComponent   \r\n  ],\r\n  exports: [\r\n    MenuComponent   \r\n  ],\r\n  schemas: [CUSTOM_ELEMENTS_SCHEMA]\r\n})\r\nexport class MainModule {\r\n}\r\n","export const environment = {\r\n  production: false,\r\n  serviceUrl: \"\"\r\n};","import { platformBrowserDynamic } from \"@angular/platform-browser-dynamic\";\r\nimport { AppModule } from \"./app/app.module\";\r\nimport { enableProdMode } from \"@angular/core\";\r\nimport { environment } from \"./environments/environment\";\r\nimport { defineCustomElements } from \"@genexus/web-controls-library/loader\";\r\n\r\nif (environment.production) {\r\n  enableProdMode();\r\n}\r\n\r\ndefineCustomElements(window);\r\nplatformBrowserDynamic().bootstrapModule(AppModule);\r\n","var map = {\n\t\"./gx-action-sheet-item.entry.js\": [\n\t\t8809,\n\t\t\"node_modules_genexus_web-controls-library_dist_esm_gx-action-sheet-item_entry_js\"\n\t],\n\t\"./gx-action-sheet.entry.js\": [\n\t\t6340,\n\t\t\"node_modules_genexus_web-controls-library_dist_esm_gx-action-sheet_entry_js\"\n\t],\n\t\"./gx-audio.entry.js\": [\n\t\t6041,\n\t\t\"node_modules_genexus_web-controls-library_dist_esm_gx-audio_entry_js\"\n\t],\n\t\"./gx-bootstrap_14.entry.js\": [\n\t\t9295,\n\t\t\"common\",\n\t\t\"node_modules_genexus_web-controls-library_dist_esm_gx-bootstrap_14_entry_js\"\n\t],\n\t\"./gx-canvas_2.entry.js\": [\n\t\t414,\n\t\t\"common\",\n\t\t\"node_modules_genexus_web-controls-library_dist_esm_gx-canvas_2_entry_js\"\n\t],\n\t\"./gx-checkbox.entry.js\": [\n\t\t5604,\n\t\t\"node_modules_genexus_web-controls-library_dist_esm_gx-checkbox_entry_js\"\n\t],\n\t\"./gx-chronometer.entry.js\": [\n\t\t6126,\n\t\t\"node_modules_genexus_web-controls-library_dist_esm_gx-chronometer_entry_js\"\n\t],\n\t\"./gx-edit_2.entry.js\": [\n\t\t36,\n\t\t\"common\",\n\t\t\"node_modules_genexus_web-controls-library_dist_esm_gx-edit_2_entry_js\"\n\t],\n\t\"./gx-gauge-range.entry.js\": [\n\t\t2084,\n\t\t\"node_modules_genexus_web-controls-library_dist_esm_gx-gauge-range_entry_js\"\n\t],\n\t\"./gx-gauge.entry.js\": [\n\t\t1004,\n\t\t\"node_modules_genexus_web-controls-library_dist_esm_gx-gauge_entry_js\"\n\t],\n\t\"./gx-grid-empty-indicator_7.entry.js\": [\n\t\t6031,\n\t\t\"common\",\n\t\t\"node_modules_genexus_web-controls-library_dist_esm_gx-grid-empty-indicator_7_entry_js\"\n\t],\n\t\"./gx-grid-flex.entry.js\": [\n\t\t9300,\n\t\t\"common\",\n\t\t\"node_modules_genexus_web-controls-library_dist_esm_gx-grid-flex_entry_js\"\n\t],\n\t\"./gx-group.entry.js\": [\n\t\t2129,\n\t\t\"common\",\n\t\t\"node_modules_genexus_web-controls-library_dist_esm_gx-group_entry_js\"\n\t],\n\t\"./gx-image-picker.entry.js\": [\n\t\t151,\n\t\t\"node_modules_genexus_web-controls-library_dist_esm_gx-image-picker_entry_js\"\n\t],\n\t\"./gx-interactive-image.entry.js\": [\n\t\t8074,\n\t\t\"node_modules_genexus_web-controls-library_dist_esm_gx-interactive-image_entry_js\"\n\t],\n\t\"./gx-loading.entry.js\": [\n\t\t5048,\n\t\t\"node_modules_genexus_web-controls-library_dist_esm_gx-loading_entry_js\"\n\t],\n\t\"./gx-lottie.entry.js\": [\n\t\t2380,\n\t\t\"common\",\n\t\t\"node_modules_genexus_web-controls-library_dist_esm_gx-lottie_entry_js\"\n\t],\n\t\"./gx-map-line.entry.js\": [\n\t\t9351,\n\t\t\"default-node_modules_genexus_web-controls-library_dist_esm_coordsValidate-cde38689_js\",\n\t\t\"node_modules_genexus_web-controls-library_dist_esm_gx-map-line_entry_js\"\n\t],\n\t\"./gx-map_2.entry.js\": [\n\t\t8374,\n\t\t\"default-node_modules_genexus_web-controls-library_dist_esm_coordsValidate-cde38689_js\",\n\t\t\"node_modules_genexus_web-controls-library_dist_esm_gx-map_2_entry_js\"\n\t],\n\t\"./gx-password-edit.entry.js\": [\n\t\t129,\n\t\t\"node_modules_genexus_web-controls-library_dist_esm_gx-password-edit_entry_js\"\n\t],\n\t\"./gx-query-viewer-element-format.entry.js\": [\n\t\t3451,\n\t\t\"node_modules_genexus_web-controls-library_dist_esm_gx-query-viewer-element-format_entry_js\"\n\t],\n\t\"./gx-query-viewer-element.entry.js\": [\n\t\t6445,\n\t\t\"node_modules_genexus_web-controls-library_dist_esm_gx-query-viewer-element_entry_js\"\n\t],\n\t\"./gx-query-viewer-format-style.entry.js\": [\n\t\t5585,\n\t\t\"node_modules_genexus_web-controls-library_dist_esm_gx-query-viewer-format-style_entry_js\"\n\t],\n\t\"./gx-query-viewer-parameter.entry.js\": [\n\t\t6546,\n\t\t\"node_modules_genexus_web-controls-library_dist_esm_gx-query-viewer-parameter_entry_js\"\n\t],\n\t\"./gx-query-viewer.entry.js\": [\n\t\t179,\n\t\t\"node_modules_genexus_web-controls-library_dist_esm_gx-query-viewer_entry_js\"\n\t],\n\t\"./gx-radio-group.entry.js\": [\n\t\t9594,\n\t\t\"node_modules_genexus_web-controls-library_dist_esm_gx-radio-group_entry_js\"\n\t],\n\t\"./gx-radio-option.entry.js\": [\n\t\t4129,\n\t\t\"node_modules_genexus_web-controls-library_dist_esm_gx-radio-option_entry_js\"\n\t],\n\t\"./gx-rating.entry.js\": [\n\t\t108,\n\t\t\"node_modules_genexus_web-controls-library_dist_esm_gx-rating_entry_js\"\n\t],\n\t\"./gx-select-option.entry.js\": [\n\t\t4037,\n\t\t\"node_modules_genexus_web-controls-library_dist_esm_gx-select-option_entry_js\"\n\t],\n\t\"./gx-select.entry.js\": [\n\t\t3085,\n\t\t\"node_modules_genexus_web-controls-library_dist_esm_gx-select_entry_js\"\n\t],\n\t\"./gx-switch.entry.js\": [\n\t\t4241,\n\t\t\"node_modules_genexus_web-controls-library_dist_esm_gx-switch_entry_js\"\n\t],\n\t\"./gx-tab_3.entry.js\": [\n\t\t8637,\n\t\t\"common\",\n\t\t\"node_modules_genexus_web-controls-library_dist_esm_gx-tab_3_entry_js\"\n\t],\n\t\"./gx-video.entry.js\": [\n\t\t7685,\n\t\t\"node_modules_genexus_web-controls-library_dist_esm_gx-video_entry_js\"\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\treturn Promise.resolve().then(() => {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\n\tvar ids = map[req], id = ids[0];\n\treturn Promise.all(ids.slice(1).map(__webpack_require__.e)).then(() => {\n\t\treturn __webpack_require__(id);\n\t});\n}\nwebpackAsyncContext.keys = () => (Object.keys(map));\nwebpackAsyncContext.id = 1155;\nmodule.exports = webpackAsyncContext;"],"names":[],"sourceRoot":"webpack:///"}