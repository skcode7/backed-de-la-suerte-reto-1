{"version":3,"file":"default-node_modules_genexus_web-controls-library_dist_esm_coordsValidate-cde38689_js.js","mappings":"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4sB,EAAAA,YAAY,EAAE,YAAY;AACzB,WAAO,IAAP;AACA;AA3CwB,CAAZ,CAAd,EA8CA;AACA;;AACA,SAASsU,OAAT,CAAiB10C,OAAjB,EAA0B;AACzB,SAAO,IAAIs0C,OAAJ,CAAYt0C,OAAZ,CAAP;AACA;;AAED8/B,IAAI,CAAC6U,OAAL,GAAe5T,WAAf;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAGA,IAAI6T,SAAS,GAAG1W,KAAK,CAACvhC,MAAN,CAAa;AAE5B;AACA;AACAqD,EAAAA,OAAO,EAAE;AACR;AACA;AACA60C,IAAAA,QAAQ,EAAE,GAHF;AAKR;AACA;AACA17B,IAAAA,OAAO,EAAE,CAPD;AASR;AACA;AACA;AACA;AACA;AACAge,IAAAA,cAAc,EAAEplB,MAdR;AAgBR;AACA;AACA+iC,IAAAA,iBAAiB,EAAE,IAlBX;AAoBR;AACA;AACAC,IAAAA,cAAc,EAAE,GAtBR;AAwBR;AACA;AACAtV,IAAAA,MAAM,EAAE,CA1BA;AA4BR;AACA;AACAh3B,IAAAA,MAAM,EAAE,IA9BA;AAgCR;AACA;AACAgX,IAAAA,OAAO,EAAE,CAlCD;AAoCR;AACA;AACAC,IAAAA,OAAO,EAAElgB,SAtCD;AAwCR;AACA;AACA;AACA;AACAw1C,IAAAA,aAAa,EAAEx1C,SA5CP;AA8CR;AACA;AACA;AACA;AACAy1C,IAAAA,aAAa,EAAEz1C,SAlDP;AAoDR;AACA;AACA;AACA;AACA;AACA;AACA01C,IAAAA,MAAM,EAAE,KA1DA;AA4DR;AACA;AACAvrB,IAAAA,IAAI,EAAE,UA9DE;AAgER;AACA;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","sources":["./node_modules/@genexus/web-controls-library/dist/esm/coordsValidate-cde38689.js"],"sourcesContent":["/* @preserve\n * Leaflet 1.7.1, a JS library for interactive maps. http://leafletjs.com\n * (c) 2010-2019 Vladimir Agafonkin, (c) 2010-2011 CloudMade\n */\n\n/*\r\n * @namespace Util\r\n *\r\n * Various utility functions, used by Leaflet internally.\r\n */\r\n\r\n// @function extend(dest: Object, src?: Object): Object\r\n// Merges the properties of the `src` object (or multiple objects) into `dest` object and returns the latter. Has an `L.extend` shortcut.\r\nfunction extend(dest) {\r\n\tvar i, j, len, src;\r\n\r\n\tfor (j = 1, len = arguments.length; j < len; j++) {\r\n\t\tsrc = arguments[j];\r\n\t\tfor (i in src) {\r\n\t\t\tdest[i] = src[i];\r\n\t\t}\r\n\t}\r\n\treturn dest;\r\n}\r\n\r\n// @function create(proto: Object, properties?: Object): Object\r\n// Compatibility polyfill for [Object.create](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object/create)\r\nvar create = Object.create || (function () {\r\n\tfunction F() {}\r\n\treturn function (proto) {\r\n\t\tF.prototype = proto;\r\n\t\treturn new F();\r\n\t};\r\n})();\r\n\r\n// @function bind(fn: Function, ): Function\r\n// Returns a new function bound to the arguments passed, like [Function.prototype.bind](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Function/bind).\r\n// Has a `L.bind()` shortcut.\r\nfunction bind(fn, obj) {\r\n\tvar slice = Array.prototype.slice;\r\n\r\n\tif (fn.bind) {\r\n\t\treturn fn.bind.apply(fn, slice.call(arguments, 1));\r\n\t}\r\n\r\n\tvar args = slice.call(arguments, 2);\r\n\r\n\treturn function () {\r\n\t\treturn fn.apply(obj, args.length ? args.concat(slice.call(arguments)) : arguments);\r\n\t};\r\n}\r\n\r\n// @property lastId: Number\r\n// Last unique ID used by [`stamp()`](#util-stamp)\r\nvar lastId = 0;\r\n\r\n// @function stamp(obj: Object): Number\r\n// Returns the unique ID of an object, assigning it one if it doesn't have it.\r\nfunction stamp(obj) {\r\n\t/*eslint-disable */\r\n\tobj._leaflet_id = obj._leaflet_id || ++lastId;\r\n\treturn obj._leaflet_id;\r\n\t/* eslint-enable */\r\n}\r\n\r\n// @function throttle(fn: Function, time: Number, context: Object): Function\r\n// Returns a function which executes function `fn` with the given scope `context`\r\n// (so that the `this` keyword refers to `context` inside `fn`'s code). The function\r\n// `fn` will be called no more than one time per given amount of `time`. The arguments\r\n// received by the bound function will be any arguments passed when binding the\r\n// function, followed by any arguments passed when invoking the bound function.\r\n// Has an `L.throttle` shortcut.\r\nfunction throttle(fn, time, context) {\r\n\tvar lock, args, wrapperFn, later;\r\n\r\n\tlater = function () {\r\n\t\t// reset lock and call if queued\r\n\t\tlock = false;\r\n\t\tif (args) {\r\n\t\t\twrapperFn.apply(context, args);\r\n\t\t\targs = false;\r\n\t\t}\r\n\t};\r\n\r\n\twrapperFn = function () {\r\n\t\tif (lock) {\r\n\t\t\t// called too soon, queue to call later\r\n\t\t\targs = arguments;\r\n\r\n\t\t} else {\r\n\t\t\t// call and lock until later\r\n\t\t\tfn.apply(context, arguments);\r\n\t\t\tsetTimeout(later, time);\r\n\t\t\tlock = true;\r\n\t\t}\r\n\t};\r\n\r\n\treturn wrapperFn;\r\n}\r\n\r\n// @function wrapNum(num: Number, range: Number[], includeMax?: Boolean): Number\r\n// Returns the number `num` modulo `range` in such a way so it lies within\r\n// `range[0]` and `range[1]`. The returned value will be always smaller than\r\n// `range[1]` unless `includeMax` is set to `true`.\r\nfunction wrapNum(x, range, includeMax) {\r\n\tvar max = range[1],\r\n\t    min = range[0],\r\n\t    d = max - min;\r\n\treturn x === max && includeMax ? x : ((x - min) % d + d) % d + min;\r\n}\r\n\r\n// @function falseFn(): Function\r\n// Returns a function which always returns `false`.\r\nfunction falseFn() { return false; }\r\n\r\n// @function formatNum(num: Number, digits?: Number): Number\r\n// Returns the number `num` rounded to `digits` decimals, or to 6 decimals by default.\r\nfunction formatNum(num, digits) {\r\n\tvar pow = Math.pow(10, (digits === undefined ? 6 : digits));\r\n\treturn Math.round(num * pow) / pow;\r\n}\r\n\r\n// @function trim(str: String): String\r\n// Compatibility polyfill for [String.prototype.trim](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String/Trim)\r\nfunction trim(str) {\r\n\treturn str.trim ? str.trim() : str.replace(/^\\s+|\\s+$/g, '');\r\n}\r\n\r\n// @function splitWords(str: String): String[]\r\n// Trims and splits the string on whitespace and returns the array of parts.\r\nfunction splitWords(str) {\r\n\treturn trim(str).split(/\\s+/);\r\n}\r\n\r\n// @function setOptions(obj: Object, options: Object): Object\r\n// Merges the given properties to the `options` of the `obj` object, returning the resulting options. See `Class options`. Has an `L.setOptions` shortcut.\r\nfunction setOptions(obj, options) {\r\n\tif (!Object.prototype.hasOwnProperty.call(obj, 'options')) {\r\n\t\tobj.options = obj.options ? create(obj.options) : {};\r\n\t}\r\n\tfor (var i in options) {\r\n\t\tobj.options[i] = options[i];\r\n\t}\r\n\treturn obj.options;\r\n}\r\n\r\n// @function getParamString(obj: Object, existingUrl?: String, uppercase?: Boolean): String\r\n// Converts an object into a parameter URL string, e.g. `{a: \"foo\", b: \"bar\"}`\r\n// translates to `'?a=foo&b=bar'`. If `existingUrl` is set, the parameters will\r\n// be appended at the end. If `uppercase` is `true`, the parameter names will\r\n// be uppercased (e.g. `'?A=foo&B=bar'`)\r\nfunction getParamString(obj, existingUrl, uppercase) {\r\n\tvar params = [];\r\n\tfor (var i in obj) {\r\n\t\tparams.push(encodeURIComponent(uppercase ? i.toUpperCase() : i) + '=' + encodeURIComponent(obj[i]));\r\n\t}\r\n\treturn ((!existingUrl || existingUrl.indexOf('?') === -1) ? '?' : '&') + params.join('&');\r\n}\r\n\r\nvar templateRe = /\\{ *([\\w_-]+) *\\}/g;\r\n\r\n// @function template(str: String, data: Object): String\r\n// Simple templating facility, accepts a template string of the form `'Hello {a}, {b}'`\r\n// and a data object like `{a: 'foo', b: 'bar'}`, returns evaluated string\r\n// `('Hello foo, bar')`. You can also specify functions instead of strings for\r\n// data values  they will be evaluated passing `data` as an argument.\r\nfunction template(str, data) {\r\n\treturn str.replace(templateRe, function (str, key) {\r\n\t\tvar value = data[key];\r\n\r\n\t\tif (value === undefined) {\r\n\t\t\tthrow new Error('No value provided for variable ' + str);\r\n\r\n\t\t} else if (typeof value === 'function') {\r\n\t\t\tvalue = value(data);\r\n\t\t}\r\n\t\treturn value;\r\n\t});\r\n}\r\n\r\n// @function isArray(obj): Boolean\r\n// Compatibility polyfill for [Array.isArray](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array/isArray)\r\nvar isArray = Array.isArray || function (obj) {\r\n\treturn (Object.prototype.toString.call(obj) === '[object Array]');\r\n};\r\n\r\n// @function indexOf(array: Array, el: Object): Number\r\n// Compatibility polyfill for [Array.prototype.indexOf](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array/indexOf)\r\nfunction indexOf(array, el) {\r\n\tfor (var i = 0; i < array.length; i++) {\r\n\t\tif (array[i] === el) { return i; }\r\n\t}\r\n\treturn -1;\r\n}\r\n\r\n// @property emptyImageUrl: String\r\n// Data URI string containing a base64-encoded empty GIF image.\r\n// Used as a hack to free memory from unused images on WebKit-powered\r\n// mobile devices (by setting image `src` to this string).\r\nvar emptyImageUrl = 'data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=';\r\n\r\n// inspired by http://paulirish.com/2011/requestanimationframe-for-smart-animating/\r\n\r\nfunction getPrefixed(name) {\r\n\treturn window['webkit' + name] || window['moz' + name] || window['ms' + name];\r\n}\r\n\r\nvar lastTime = 0;\r\n\r\n// fallback for IE 7-8\r\nfunction timeoutDefer(fn) {\r\n\tvar time = +new Date(),\r\n\t    timeToCall = Math.max(0, 16 - (time - lastTime));\r\n\r\n\tlastTime = time + timeToCall;\r\n\treturn window.setTimeout(fn, timeToCall);\r\n}\r\n\r\nvar requestFn = window.requestAnimationFrame || getPrefixed('RequestAnimationFrame') || timeoutDefer;\r\nvar cancelFn = window.cancelAnimationFrame || getPrefixed('CancelAnimationFrame') ||\r\n\t\tgetPrefixed('CancelRequestAnimationFrame') || function (id) { window.clearTimeout(id); };\r\n\r\n// @function requestAnimFrame(fn: Function, context?: Object, immediate?: Boolean): Number\r\n// Schedules `fn` to be executed when the browser repaints. `fn` is bound to\r\n// `context` if given. When `immediate` is set, `fn` is called immediately if\r\n// the browser doesn't have native support for\r\n// [`window.requestAnimationFrame`](https://developer.mozilla.org/docs/Web/API/window/requestAnimationFrame),\r\n// otherwise it's delayed. Returns a request ID that can be used to cancel the request.\r\nfunction requestAnimFrame(fn, context, immediate) {\r\n\tif (immediate && requestFn === timeoutDefer) {\r\n\t\tfn.call(context);\r\n\t} else {\r\n\t\treturn requestFn.call(window, bind(fn, context));\r\n\t}\r\n}\r\n\r\n// @function cancelAnimFrame(id: Number): undefined\r\n// Cancels a previous `requestAnimFrame`. See also [window.cancelAnimationFrame](https://developer.mozilla.org/docs/Web/API/window/cancelAnimationFrame).\r\nfunction cancelAnimFrame(id) {\r\n\tif (id) {\r\n\t\tcancelFn.call(window, id);\r\n\t}\r\n}\n\n// @class Class\r\n// @aka L.Class\r\n\r\n// @section\r\n// @uninheritable\r\n\r\n// Thanks to John Resig and Dean Edwards for inspiration!\r\n\r\nfunction Class() {}\r\n\r\nClass.extend = function (props) {\r\n\r\n\t// @function extend(props: Object): Function\r\n\t// [Extends the current class](#class-inheritance) given the properties to be included.\r\n\t// Returns a Javascript function that is a class constructor (to be called with `new`).\r\n\tvar NewClass = function () {\r\n\r\n\t\t// call the constructor\r\n\t\tif (this.initialize) {\r\n\t\t\tthis.initialize.apply(this, arguments);\r\n\t\t}\r\n\r\n\t\t// call all constructor hooks\r\n\t\tthis.callInitHooks();\r\n\t};\r\n\r\n\tvar parentProto = NewClass.__super__ = this.prototype;\r\n\r\n\tvar proto = create(parentProto);\r\n\tproto.constructor = NewClass;\r\n\r\n\tNewClass.prototype = proto;\r\n\r\n\t// inherit parent's statics\r\n\tfor (var i in this) {\r\n\t\tif (Object.prototype.hasOwnProperty.call(this, i) && i !== 'prototype' && i !== '__super__') {\r\n\t\t\tNewClass[i] = this[i];\r\n\t\t}\r\n\t}\r\n\r\n\t// mix static properties into the class\r\n\tif (props.statics) {\r\n\t\textend(NewClass, props.statics);\r\n\t\tdelete props.statics;\r\n\t}\r\n\r\n\t// mix includes into the prototype\r\n\tif (props.includes) {\r\n\t\tcheckDeprecatedMixinEvents(props.includes);\r\n\t\textend.apply(null, [proto].concat(props.includes));\r\n\t\tdelete props.includes;\r\n\t}\r\n\r\n\t// merge options\r\n\tif (proto.options) {\r\n\t\tprops.options = extend(create(proto.options), props.options);\r\n\t}\r\n\r\n\t// mix given properties into the prototype\r\n\textend(proto, props);\r\n\r\n\tproto._initHooks = [];\r\n\r\n\t// add method for calling all hooks\r\n\tproto.callInitHooks = function () {\r\n\r\n\t\tif (this._initHooksCalled) { return; }\r\n\r\n\t\tif (parentProto.callInitHooks) {\r\n\t\t\tparentProto.callInitHooks.call(this);\r\n\t\t}\r\n\r\n\t\tthis._initHooksCalled = true;\r\n\r\n\t\tfor (var i = 0, len = proto._initHooks.length; i < len; i++) {\r\n\t\t\tproto._initHooks[i].call(this);\r\n\t\t}\r\n\t};\r\n\r\n\treturn NewClass;\r\n};\r\n\r\n\r\n// @function include(properties: Object): this\r\n// [Includes a mixin](#class-includes) into the current class.\r\nClass.include = function (props) {\r\n\textend(this.prototype, props);\r\n\treturn this;\r\n};\r\n\r\n// @function mergeOptions(options: Object): this\r\n// [Merges `options`](#class-options) into the defaults of the class.\r\nClass.mergeOptions = function (options) {\r\n\textend(this.prototype.options, options);\r\n\treturn this;\r\n};\r\n\r\n// @function addInitHook(fn: Function): this\r\n// Adds a [constructor hook](#class-constructor-hooks) to the class.\r\nClass.addInitHook = function (fn) { // (Function) || (String, args...)\r\n\tvar args = Array.prototype.slice.call(arguments, 1);\r\n\r\n\tvar init = typeof fn === 'function' ? fn : function () {\r\n\t\tthis[fn].apply(this, args);\r\n\t};\r\n\r\n\tthis.prototype._initHooks = this.prototype._initHooks || [];\r\n\tthis.prototype._initHooks.push(init);\r\n\treturn this;\r\n};\r\n\r\nfunction checkDeprecatedMixinEvents(includes) {\r\n\tif (typeof L === 'undefined' || !L || !L.Mixin) { return; }\r\n\r\n\tincludes = isArray(includes) ? includes : [includes];\r\n\r\n\tfor (var i = 0; i < includes.length; i++) {\r\n\t\tif (includes[i] === L.Mixin.Events) {\r\n\t\t\tconsole.warn('Deprecated include of L.Mixin.Events: ' +\r\n\t\t\t\t'this property will be removed in future releases, ' +\r\n\t\t\t\t'please inherit from L.Evented instead.', new Error().stack);\r\n\t\t}\r\n\t}\r\n}\n\n/*\r\n * @class Evented\r\n * @aka L.Evented\r\n * @inherits Class\r\n *\r\n * A set of methods shared between event-powered classes (like `Map` and `Marker`). Generally, events allow you to execute some function when something happens with an object (e.g. the user clicks on the map, causing the map to fire `'click'` event).\r\n *\r\n * @example\r\n *\r\n * ```js\r\n * map.on('click', function(e) {\r\n * \talert(e.latlng);\r\n * } );\r\n * ```\r\n *\r\n * Leaflet deals with event listeners by reference, so if you want to add a listener and then remove it, define it as a function:\r\n *\r\n * ```js\r\n * function onClick(e) { ... }\r\n *\r\n * map.on('click', onClick);\r\n * map.off('click', onClick);\r\n * ```\r\n */\r\n\r\nvar Events = {\r\n\t/* @method on(type: String, fn: Function, context?: Object): this\r\n\t * Adds a listener function (`fn`) to a particular event type of the object. You can optionally specify the context of the listener (object the this keyword will point to). You can also pass several space-separated types (e.g. `'click dblclick'`).\r\n\t *\r\n\t * @alternative\r\n\t * @method on(eventMap: Object): this\r\n\t * Adds a set of type/listener pairs, e.g. `{click: onClick, mousemove: onMouseMove}`\r\n\t */\r\n\ton: function (types, fn, context) {\r\n\r\n\t\t// types can be a map of types/handlers\r\n\t\tif (typeof types === 'object') {\r\n\t\t\tfor (var type in types) {\r\n\t\t\t\t// we don't process space-separated events here for performance;\r\n\t\t\t\t// it's a hot path since Layer uses the on(obj) syntax\r\n\t\t\t\tthis._on(type, types[type], fn);\r\n\t\t\t}\r\n\r\n\t\t} else {\r\n\t\t\t// types can be a string of space-separated words\r\n\t\t\ttypes = splitWords(types);\r\n\r\n\t\t\tfor (var i = 0, len = types.length; i < len; i++) {\r\n\t\t\t\tthis._on(types[i], fn, context);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\t},\r\n\r\n\t/* @method off(type: String, fn?: Function, context?: Object): this\r\n\t * Removes a previously added listener function. If no function is specified, it will remove all the listeners of that particular event from the object. Note that if you passed a custom context to `on`, you must pass the same context to `off` in order to remove the listener.\r\n\t *\r\n\t * @alternative\r\n\t * @method off(eventMap: Object): this\r\n\t * Removes a set of type/listener pairs.\r\n\t *\r\n\t * @alternative\r\n\t * @method off: this\r\n\t * Removes all listeners to all events on the object. This includes implicitly attached events.\r\n\t */\r\n\toff: function (types, fn, context) {\r\n\r\n\t\tif (!types) {\r\n\t\t\t// clear all listeners if called without arguments\r\n\t\t\tdelete this._events;\r\n\r\n\t\t} else if (typeof types === 'object') {\r\n\t\t\tfor (var type in types) {\r\n\t\t\t\tthis._off(type, types[type], fn);\r\n\t\t\t}\r\n\r\n\t\t} else {\r\n\t\t\ttypes = splitWords(types);\r\n\r\n\t\t\tfor (var i = 0, len = types.length; i < len; i++) {\r\n\t\t\t\tthis._off(types[i], fn, context);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\t},\r\n\r\n\t// attach listener (without syntactic sugar now)\r\n\t_on: function (type, fn, context) {\r\n\t\tthis._events = this._events || {};\r\n\r\n\t\t/* get/init listeners for type */\r\n\t\tvar typeListeners = this._events[type];\r\n\t\tif (!typeListeners) {\r\n\t\t\ttypeListeners = [];\r\n\t\t\tthis._events[type] = typeListeners;\r\n\t\t}\r\n\r\n\t\tif (context === this) {\r\n\t\t\t// Less memory footprint.\r\n\t\t\tcontext = undefined;\r\n\t\t}\r\n\t\tvar newListener = {fn: fn, ctx: context},\r\n\t\t    listeners = typeListeners;\r\n\r\n\t\t// check if fn already there\r\n\t\tfor (var i = 0, len = listeners.length; i < len; i++) {\r\n\t\t\tif (listeners[i].fn === fn && listeners[i].ctx === context) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tlisteners.push(newListener);\r\n\t},\r\n\r\n\t_off: function (type, fn, context) {\r\n\t\tvar listeners,\r\n\t\t    i,\r\n\t\t    len;\r\n\r\n\t\tif (!this._events) { return; }\r\n\r\n\t\tlisteners = this._events[type];\r\n\r\n\t\tif (!listeners) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif (!fn) {\r\n\t\t\t// Set all removed listeners to noop so they are not called if remove happens in fire\r\n\t\t\tfor (i = 0, len = listeners.length; i < len; i++) {\r\n\t\t\t\tlisteners[i].fn = falseFn;\r\n\t\t\t}\r\n\t\t\t// clear all listeners for a type if function isn't specified\r\n\t\t\tdelete this._events[type];\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif (context === this) {\r\n\t\t\tcontext = undefined;\r\n\t\t}\r\n\r\n\t\tif (listeners) {\r\n\r\n\t\t\t// find fn and remove it\r\n\t\t\tfor (i = 0, len = listeners.length; i < len; i++) {\r\n\t\t\t\tvar l = listeners[i];\r\n\t\t\t\tif (l.ctx !== context) { continue; }\r\n\t\t\t\tif (l.fn === fn) {\r\n\r\n\t\t\t\t\t// set the removed listener to noop so that's not called if remove happens in fire\r\n\t\t\t\t\tl.fn = falseFn;\r\n\r\n\t\t\t\t\tif (this._firingCount) {\r\n\t\t\t\t\t\t/* copy array in case events are being fired */\r\n\t\t\t\t\t\tthis._events[type] = listeners = listeners.slice();\r\n\t\t\t\t\t}\r\n\t\t\t\t\tlisteners.splice(i, 1);\r\n\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\r\n\t// @method fire(type: String, data?: Object, propagate?: Boolean): this\r\n\t// Fires an event of the specified type. You can optionally provide an data\r\n\t// object  the first argument of the listener function will contain its\r\n\t// properties. The event can optionally be propagated to event parents.\r\n\tfire: function (type, data, propagate) {\r\n\t\tif (!this.listens(type, propagate)) { return this; }\r\n\r\n\t\tvar event = extend({}, data, {\r\n\t\t\ttype: type,\r\n\t\t\ttarget: this,\r\n\t\t\tsourceTarget: data && data.sourceTarget || this\r\n\t\t});\r\n\r\n\t\tif (this._events) {\r\n\t\t\tvar listeners = this._events[type];\r\n\r\n\t\t\tif (listeners) {\r\n\t\t\t\tthis._firingCount = (this._firingCount + 1) || 1;\r\n\t\t\t\tfor (var i = 0, len = listeners.length; i < len; i++) {\r\n\t\t\t\t\tvar l = listeners[i];\r\n\t\t\t\t\tl.fn.call(l.ctx || this, event);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis._firingCount--;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (propagate) {\r\n\t\t\t// propagate the event to parents (set with addEventParent)\r\n\t\t\tthis._propagateEvent(event);\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\t},\r\n\r\n\t// @method listens(type: String): Boolean\r\n\t// Returns `true` if a particular event type has any listeners attached to it.\r\n\tlistens: function (type, propagate) {\r\n\t\tvar listeners = this._events && this._events[type];\r\n\t\tif (listeners && listeners.length) { return true; }\r\n\r\n\t\tif (propagate) {\r\n\t\t\t// also check parents for listeners if event propagates\r\n\t\t\tfor (var id in this._eventParents) {\r\n\t\t\t\tif (this._eventParents[id].listens(type, propagate)) { return true; }\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn false;\r\n\t},\r\n\r\n\t// @method once(): this\r\n\t// Behaves as [`on()`](#evented-on), except the listener will only get fired once and then removed.\r\n\tonce: function (types, fn, context) {\r\n\r\n\t\tif (typeof types === 'object') {\r\n\t\t\tfor (var type in types) {\r\n\t\t\t\tthis.once(type, types[type], fn);\r\n\t\t\t}\r\n\t\t\treturn this;\r\n\t\t}\r\n\r\n\t\tvar handler = bind(function () {\r\n\t\t\tthis\r\n\t\t\t    .off(types, fn, context)\r\n\t\t\t    .off(types, handler, context);\r\n\t\t}, this);\r\n\r\n\t\t// add a listener that's executed once and removed after that\r\n\t\treturn this\r\n\t\t    .on(types, fn, context)\r\n\t\t    .on(types, handler, context);\r\n\t},\r\n\r\n\t// @method addEventParent(obj: Evented): this\r\n\t// Adds an event parent - an `Evented` that will receive propagated events\r\n\taddEventParent: function (obj) {\r\n\t\tthis._eventParents = this._eventParents || {};\r\n\t\tthis._eventParents[stamp(obj)] = obj;\r\n\t\treturn this;\r\n\t},\r\n\r\n\t// @method removeEventParent(obj: Evented): this\r\n\t// Removes an event parent, so it will stop receiving propagated events\r\n\tremoveEventParent: function (obj) {\r\n\t\tif (this._eventParents) {\r\n\t\t\tdelete this._eventParents[stamp(obj)];\r\n\t\t}\r\n\t\treturn this;\r\n\t},\r\n\r\n\t_propagateEvent: function (e) {\r\n\t\tfor (var id in this._eventParents) {\r\n\t\t\tthis._eventParents[id].fire(e.type, extend({\r\n\t\t\t\tlayer: e.target,\r\n\t\t\t\tpropagatedFrom: e.target\r\n\t\t\t}, e), true);\r\n\t\t}\r\n\t}\r\n};\r\n\r\n// aliases; we should ditch those eventually\r\n\r\n// @method addEventListener(): this\r\n// Alias to [`on()`](#evented-on)\r\nEvents.addEventListener = Events.on;\r\n\r\n// @method removeEventListener(): this\r\n// Alias to [`off()`](#evented-off)\r\n\r\n// @method clearAllEventListeners(): this\r\n// Alias to [`off()`](#evented-off)\r\nEvents.removeEventListener = Events.clearAllEventListeners = Events.off;\r\n\r\n// @method addOneTimeEventListener(): this\r\n// Alias to [`once()`](#evented-once)\r\nEvents.addOneTimeEventListener = Events.once;\r\n\r\n// @method fireEvent(): this\r\n// Alias to [`fire()`](#evented-fire)\r\nEvents.fireEvent = Events.fire;\r\n\r\n// @method hasEventListeners(): Boolean\r\n// Alias to [`listens()`](#evented-listens)\r\nEvents.hasEventListeners = Events.listens;\r\n\r\nvar Evented = Class.extend(Events);\n\n/*\r\n * @class Point\r\n * @aka L.Point\r\n *\r\n * Represents a point with `x` and `y` coordinates in pixels.\r\n *\r\n * @example\r\n *\r\n * ```js\r\n * var point = L.point(200, 300);\r\n * ```\r\n *\r\n * All Leaflet methods and options that accept `Point` objects also accept them in a simple Array form (unless noted otherwise), so these lines are equivalent:\r\n *\r\n * ```js\r\n * map.panBy([200, 300]);\r\n * map.panBy(L.point(200, 300));\r\n * ```\r\n *\r\n * Note that `Point` does not inherit from Leaflet's `Class` object,\r\n * which means new classes can't inherit from it, and new methods\r\n * can't be added to it with the `include` function.\r\n */\r\n\r\nfunction Point(x, y, round) {\r\n\t// @property x: Number; The `x` coordinate of the point\r\n\tthis.x = (round ? Math.round(x) : x);\r\n\t// @property y: Number; The `y` coordinate of the point\r\n\tthis.y = (round ? Math.round(y) : y);\r\n}\r\n\r\nvar trunc = Math.trunc || function (v) {\r\n\treturn v > 0 ? Math.floor(v) : Math.ceil(v);\r\n};\r\n\r\nPoint.prototype = {\r\n\r\n\t// @method clone(): Point\r\n\t// Returns a copy of the current point.\r\n\tclone: function () {\r\n\t\treturn new Point(this.x, this.y);\r\n\t},\r\n\r\n\t// @method add(otherPoint: Point): Point\r\n\t// Returns the result of addition of the current and the given points.\r\n\tadd: function (point) {\r\n\t\t// non-destructive, returns a new point\r\n\t\treturn this.clone()._add(toPoint(point));\r\n\t},\r\n\r\n\t_add: function (point) {\r\n\t\t// destructive, used directly for performance in situations where it's safe to modify existing point\r\n\t\tthis.x += point.x;\r\n\t\tthis.y += point.y;\r\n\t\treturn this;\r\n\t},\r\n\r\n\t// @method subtract(otherPoint: Point): Point\r\n\t// Returns the result of subtraction of the given point from the current.\r\n\tsubtract: function (point) {\r\n\t\treturn this.clone()._subtract(toPoint(point));\r\n\t},\r\n\r\n\t_subtract: function (point) {\r\n\t\tthis.x -= point.x;\r\n\t\tthis.y -= point.y;\r\n\t\treturn this;\r\n\t},\r\n\r\n\t// @method divideBy(num: Number): Point\r\n\t// Returns the result of division of the current point by the given number.\r\n\tdivideBy: function (num) {\r\n\t\treturn this.clone()._divideBy(num);\r\n\t},\r\n\r\n\t_divideBy: function (num) {\r\n\t\tthis.x /= num;\r\n\t\tthis.y /= num;\r\n\t\treturn this;\r\n\t},\r\n\r\n\t// @method multiplyBy(num: Number): Point\r\n\t// Returns the result of multiplication of the current point by the given number.\r\n\tmultiplyBy: function (num) {\r\n\t\treturn this.clone()._multiplyBy(num);\r\n\t},\r\n\r\n\t_multiplyBy: function (num) {\r\n\t\tthis.x *= num;\r\n\t\tthis.y *= num;\r\n\t\treturn this;\r\n\t},\r\n\r\n\t// @method scaleBy(scale: Point): Point\r\n\t// Multiply each coordinate of the current point by each coordinate of\r\n\t// `scale`. In linear algebra terms, multiply the point by the\r\n\t// [scaling matrix](https://en.wikipedia.org/wiki/Scaling_%28geometry%29#Matrix_representation)\r\n\t// defined by `scale`.\r\n\tscaleBy: function (point) {\r\n\t\treturn new Point(this.x * point.x, this.y * point.y);\r\n\t},\r\n\r\n\t// @method unscaleBy(scale: Point): Point\r\n\t// Inverse of `scaleBy`. Divide each coordinate of the current point by\r\n\t// each coordinate of `scale`.\r\n\tunscaleBy: function (point) {\r\n\t\treturn new Point(this.x / point.x, this.y / point.y);\r\n\t},\r\n\r\n\t// @method round(): Point\r\n\t// Returns a copy of the current point with rounded coordinates.\r\n\tround: function () {\r\n\t\treturn this.clone()._round();\r\n\t},\r\n\r\n\t_round: function () {\r\n\t\tthis.x = Math.round(this.x);\r\n\t\tthis.y = Math.round(this.y);\r\n\t\treturn this;\r\n\t},\r\n\r\n\t// @method floor(): Point\r\n\t// Returns a copy of the current point with floored coordinates (rounded down).\r\n\tfloor: function () {\r\n\t\treturn this.clone()._floor();\r\n\t},\r\n\r\n\t_floor: function () {\r\n\t\tthis.x = Math.floor(this.x);\r\n\t\tthis.y = Math.floor(this.y);\r\n\t\treturn this;\r\n\t},\r\n\r\n\t// @method ceil(): Point\r\n\t// Returns a copy of the current point with ceiled coordinates (rounded up).\r\n\tceil: function () {\r\n\t\treturn this.clone()._ceil();\r\n\t},\r\n\r\n\t_ceil: function () {\r\n\t\tthis.x = Math.ceil(this.x);\r\n\t\tthis.y = Math.ceil(this.y);\r\n\t\treturn this;\r\n\t},\r\n\r\n\t// @method trunc(): Point\r\n\t// Returns a copy of the current point with truncated coordinates (rounded towards zero).\r\n\ttrunc: function () {\r\n\t\treturn this.clone()._trunc();\r\n\t},\r\n\r\n\t_trunc: function () {\r\n\t\tthis.x = trunc(this.x);\r\n\t\tthis.y = trunc(this.y);\r\n\t\treturn this;\r\n\t},\r\n\r\n\t// @method distanceTo(otherPoint: Point): Number\r\n\t// Returns the cartesian distance between the current and the given points.\r\n\tdistanceTo: function (point) {\r\n\t\tpoint = toPoint(point);\r\n\r\n\t\tvar x = point.x - this.x,\r\n\t\t    y = point.y - this.y;\r\n\r\n\t\treturn Math.sqrt(x * x + y * y);\r\n\t},\r\n\r\n\t// @method equals(otherPoint: Point): Boolean\r\n\t// Returns `true` if the given point has the same coordinates.\r\n\tequals: function (point) {\r\n\t\tpoint = toPoint(point);\r\n\r\n\t\treturn point.x === this.x &&\r\n\t\t       point.y === this.y;\r\n\t},\r\n\r\n\t// @method contains(otherPoint: Point): Boolean\r\n\t// Returns `true` if both coordinates of the given point are less than the corresponding current point coordinates (in absolute values).\r\n\tcontains: function (point) {\r\n\t\tpoint = toPoint(point);\r\n\r\n\t\treturn Math.abs(point.x) <= Math.abs(this.x) &&\r\n\t\t       Math.abs(point.y) <= Math.abs(this.y);\r\n\t},\r\n\r\n\t// @method toString(): String\r\n\t// Returns a string representation of the point for debugging purposes.\r\n\ttoString: function () {\r\n\t\treturn 'Point(' +\r\n\t\t        formatNum(this.x) + ', ' +\r\n\t\t        formatNum(this.y) + ')';\r\n\t}\r\n};\r\n\r\n// @factory L.point(x: Number, y: Number, round?: Boolean)\r\n// Creates a Point object with the given `x` and `y` coordinates. If optional `round` is set to true, rounds the `x` and `y` values.\r\n\r\n// @alternative\r\n// @factory L.point(coords: Number[])\r\n// Expects an array of the form `[x, y]` instead.\r\n\r\n// @alternative\r\n// @factory L.point(coords: Object)\r\n// Expects a plain object of the form `{x: Number, y: Number}` instead.\r\nfunction toPoint(x, y, round) {\r\n\tif (x instanceof Point) {\r\n\t\treturn x;\r\n\t}\r\n\tif (isArray(x)) {\r\n\t\treturn new Point(x[0], x[1]);\r\n\t}\r\n\tif (x === undefined || x === null) {\r\n\t\treturn x;\r\n\t}\r\n\tif (typeof x === 'object' && 'x' in x && 'y' in x) {\r\n\t\treturn new Point(x.x, x.y);\r\n\t}\r\n\treturn new Point(x, y, round);\r\n}\n\n/*\r\n * @class Bounds\r\n * @aka L.Bounds\r\n *\r\n * Represents a rectangular area in pixel coordinates.\r\n *\r\n * @example\r\n *\r\n * ```js\r\n * var p1 = L.point(10, 10),\r\n * p2 = L.point(40, 60),\r\n * bounds = L.bounds(p1, p2);\r\n * ```\r\n *\r\n * All Leaflet methods that accept `Bounds` objects also accept them in a simple Array form (unless noted otherwise), so the bounds example above can be passed like this:\r\n *\r\n * ```js\r\n * otherBounds.intersects([[10, 10], [40, 60]]);\r\n * ```\r\n *\r\n * Note that `Bounds` does not inherit from Leaflet's `Class` object,\r\n * which means new classes can't inherit from it, and new methods\r\n * can't be added to it with the `include` function.\r\n */\r\n\r\nfunction Bounds(a, b) {\r\n\tif (!a) { return; }\r\n\r\n\tvar points = b ? [a, b] : a;\r\n\r\n\tfor (var i = 0, len = points.length; i < len; i++) {\r\n\t\tthis.extend(points[i]);\r\n\t}\r\n}\r\n\r\nBounds.prototype = {\r\n\t// @method extend(point: Point): this\r\n\t// Extends the bounds to contain the given point.\r\n\textend: function (point) { // (Point)\r\n\t\tpoint = toPoint(point);\r\n\r\n\t\t// @property min: Point\r\n\t\t// The top left corner of the rectangle.\r\n\t\t// @property max: Point\r\n\t\t// The bottom right corner of the rectangle.\r\n\t\tif (!this.min && !this.max) {\r\n\t\t\tthis.min = point.clone();\r\n\t\t\tthis.max = point.clone();\r\n\t\t} else {\r\n\t\t\tthis.min.x = Math.min(point.x, this.min.x);\r\n\t\t\tthis.max.x = Math.max(point.x, this.max.x);\r\n\t\t\tthis.min.y = Math.min(point.y, this.min.y);\r\n\t\t\tthis.max.y = Math.max(point.y, this.max.y);\r\n\t\t}\r\n\t\treturn this;\r\n\t},\r\n\r\n\t// @method getCenter(round?: Boolean): Point\r\n\t// Returns the center point of the bounds.\r\n\tgetCenter: function (round) {\r\n\t\treturn new Point(\r\n\t\t        (this.min.x + this.max.x) / 2,\r\n\t\t        (this.min.y + this.max.y) / 2, round);\r\n\t},\r\n\r\n\t// @method getBottomLeft(): Point\r\n\t// Returns the bottom-left point of the bounds.\r\n\tgetBottomLeft: function () {\r\n\t\treturn new Point(this.min.x, this.max.y);\r\n\t},\r\n\r\n\t// @method getTopRight(): Point\r\n\t// Returns the top-right point of the bounds.\r\n\tgetTopRight: function () { // -> Point\r\n\t\treturn new Point(this.max.x, this.min.y);\r\n\t},\r\n\r\n\t// @method getTopLeft(): Point\r\n\t// Returns the top-left point of the bounds (i.e. [`this.min`](#bounds-min)).\r\n\tgetTopLeft: function () {\r\n\t\treturn this.min; // left, top\r\n\t},\r\n\r\n\t// @method getBottomRight(): Point\r\n\t// Returns the bottom-right point of the bounds (i.e. [`this.max`](#bounds-max)).\r\n\tgetBottomRight: function () {\r\n\t\treturn this.max; // right, bottom\r\n\t},\r\n\r\n\t// @method getSize(): Point\r\n\t// Returns the size of the given bounds\r\n\tgetSize: function () {\r\n\t\treturn this.max.subtract(this.min);\r\n\t},\r\n\r\n\t// @method contains(otherBounds: Bounds): Boolean\r\n\t// Returns `true` if the rectangle contains the given one.\r\n\t// @alternative\r\n\t// @method contains(point: Point): Boolean\r\n\t// Returns `true` if the rectangle contains the given point.\r\n\tcontains: function (obj) {\r\n\t\tvar min, max;\r\n\r\n\t\tif (typeof obj[0] === 'number' || obj instanceof Point) {\r\n\t\t\tobj = toPoint(obj);\r\n\t\t} else {\r\n\t\t\tobj = toBounds(obj);\r\n\t\t}\r\n\r\n\t\tif (obj instanceof Bounds) {\r\n\t\t\tmin = obj.min;\r\n\t\t\tmax = obj.max;\r\n\t\t} else {\r\n\t\t\tmin = max = obj;\r\n\t\t}\r\n\r\n\t\treturn (min.x >= this.min.x) &&\r\n\t\t       (max.x <= this.max.x) &&\r\n\t\t       (min.y >= this.min.y) &&\r\n\t\t       (max.y <= this.max.y);\r\n\t},\r\n\r\n\t// @method intersects(otherBounds: Bounds): Boolean\r\n\t// Returns `true` if the rectangle intersects the given bounds. Two bounds\r\n\t// intersect if they have at least one point in common.\r\n\tintersects: function (bounds) { // (Bounds) -> Boolean\r\n\t\tbounds = toBounds(bounds);\r\n\r\n\t\tvar min = this.min,\r\n\t\t    max = this.max,\r\n\t\t    min2 = bounds.min,\r\n\t\t    max2 = bounds.max,\r\n\t\t    xIntersects = (max2.x >= min.x) && (min2.x <= max.x),\r\n\t\t    yIntersects = (max2.y >= min.y) && (min2.y <= max.y);\r\n\r\n\t\treturn xIntersects && yIntersects;\r\n\t},\r\n\r\n\t// @method overlaps(otherBounds: Bounds): Boolean\r\n\t// Returns `true` if the rectangle overlaps the given bounds. Two bounds\r\n\t// overlap if their intersection is an area.\r\n\toverlaps: function (bounds) { // (Bounds) -> Boolean\r\n\t\tbounds = toBounds(bounds);\r\n\r\n\t\tvar min = this.min,\r\n\t\t    max = this.max,\r\n\t\t    min2 = bounds.min,\r\n\t\t    max2 = bounds.max,\r\n\t\t    xOverlaps = (max2.x > min.x) && (min2.x < max.x),\r\n\t\t    yOverlaps = (max2.y > min.y) && (min2.y < max.y);\r\n\r\n\t\treturn xOverlaps && yOverlaps;\r\n\t},\r\n\r\n\tisValid: function () {\r\n\t\treturn !!(this.min && this.max);\r\n\t}\r\n};\r\n\r\n\r\n// @factory L.bounds(corner1: Point, corner2: Point)\r\n// Creates a Bounds object from two corners coordinate pairs.\r\n// @alternative\r\n// @factory L.bounds(points: Point[])\r\n// Creates a Bounds object from the given array of points.\r\nfunction toBounds(a, b) {\r\n\tif (!a || a instanceof Bounds) {\r\n\t\treturn a;\r\n\t}\r\n\treturn new Bounds(a, b);\r\n}\n\n/*\r\n * @class LatLngBounds\r\n * @aka L.LatLngBounds\r\n *\r\n * Represents a rectangular geographical area on a map.\r\n *\r\n * @example\r\n *\r\n * ```js\r\n * var corner1 = L.latLng(40.712, -74.227),\r\n * corner2 = L.latLng(40.774, -74.125),\r\n * bounds = L.latLngBounds(corner1, corner2);\r\n * ```\r\n *\r\n * All Leaflet methods that accept LatLngBounds objects also accept them in a simple Array form (unless noted otherwise), so the bounds example above can be passed like this:\r\n *\r\n * ```js\r\n * map.fitBounds([\r\n * \t[40.712, -74.227],\r\n * \t[40.774, -74.125]\r\n * ]);\r\n * ```\r\n *\r\n * Caution: if the area crosses the antimeridian (often confused with the International Date Line), you must specify corners _outside_ the [-180, 180] degrees longitude range.\r\n *\r\n * Note that `LatLngBounds` does not inherit from Leaflet's `Class` object,\r\n * which means new classes can't inherit from it, and new methods\r\n * can't be added to it with the `include` function.\r\n */\r\n\r\nfunction LatLngBounds(corner1, corner2) { // (LatLng, LatLng) or (LatLng[])\r\n\tif (!corner1) { return; }\r\n\r\n\tvar latlngs = corner2 ? [corner1, corner2] : corner1;\r\n\r\n\tfor (var i = 0, len = latlngs.length; i < len; i++) {\r\n\t\tthis.extend(latlngs[i]);\r\n\t}\r\n}\r\n\r\nLatLngBounds.prototype = {\r\n\r\n\t// @method extend(latlng: LatLng): this\r\n\t// Extend the bounds to contain the given point\r\n\r\n\t// @alternative\r\n\t// @method extend(otherBounds: LatLngBounds): this\r\n\t// Extend the bounds to contain the given bounds\r\n\textend: function (obj) {\r\n\t\tvar sw = this._southWest,\r\n\t\t    ne = this._northEast,\r\n\t\t    sw2, ne2;\r\n\r\n\t\tif (obj instanceof LatLng) {\r\n\t\t\tsw2 = obj;\r\n\t\t\tne2 = obj;\r\n\r\n\t\t} else if (obj instanceof LatLngBounds) {\r\n\t\t\tsw2 = obj._southWest;\r\n\t\t\tne2 = obj._northEast;\r\n\r\n\t\t\tif (!sw2 || !ne2) { return this; }\r\n\r\n\t\t} else {\r\n\t\t\treturn obj ? this.extend(toLatLng(obj) || toLatLngBounds(obj)) : this;\r\n\t\t}\r\n\r\n\t\tif (!sw && !ne) {\r\n\t\t\tthis._southWest = new LatLng(sw2.lat, sw2.lng);\r\n\t\t\tthis._northEast = new LatLng(ne2.lat, ne2.lng);\r\n\t\t} else {\r\n\t\t\tsw.lat = Math.min(sw2.lat, sw.lat);\r\n\t\t\tsw.lng = Math.min(sw2.lng, sw.lng);\r\n\t\t\tne.lat = Math.max(ne2.lat, ne.lat);\r\n\t\t\tne.lng = Math.max(ne2.lng, ne.lng);\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\t},\r\n\r\n\t// @method pad(bufferRatio: Number): LatLngBounds\r\n\t// Returns bounds created by extending or retracting the current bounds by a given ratio in each direction.\r\n\t// For example, a ratio of 0.5 extends the bounds by 50% in each direction.\r\n\t// Negative values will retract the bounds.\r\n\tpad: function (bufferRatio) {\r\n\t\tvar sw = this._southWest,\r\n\t\t    ne = this._northEast,\r\n\t\t    heightBuffer = Math.abs(sw.lat - ne.lat) * bufferRatio,\r\n\t\t    widthBuffer = Math.abs(sw.lng - ne.lng) * bufferRatio;\r\n\r\n\t\treturn new LatLngBounds(\r\n\t\t        new LatLng(sw.lat - heightBuffer, sw.lng - widthBuffer),\r\n\t\t        new LatLng(ne.lat + heightBuffer, ne.lng + widthBuffer));\r\n\t},\r\n\r\n\t// @method getCenter(): LatLng\r\n\t// Returns the center point of the bounds.\r\n\tgetCenter: function () {\r\n\t\treturn new LatLng(\r\n\t\t        (this._southWest.lat + this._northEast.lat) / 2,\r\n\t\t        (this._southWest.lng + this._northEast.lng) / 2);\r\n\t},\r\n\r\n\t// @method getSouthWest(): LatLng\r\n\t// Returns the south-west point of the bounds.\r\n\tgetSouthWest: function () {\r\n\t\treturn this._southWest;\r\n\t},\r\n\r\n\t// @method getNorthEast(): LatLng\r\n\t// Returns the north-east point of the bounds.\r\n\tgetNorthEast: function () {\r\n\t\treturn this._northEast;\r\n\t},\r\n\r\n\t// @method getNorthWest(): LatLng\r\n\t// Returns the north-west point of the bounds.\r\n\tgetNorthWest: function () {\r\n\t\treturn new LatLng(this.getNorth(), this.getWest());\r\n\t},\r\n\r\n\t// @method getSouthEast(): LatLng\r\n\t// Returns the south-east point of the bounds.\r\n\tgetSouthEast: function () {\r\n\t\treturn new LatLng(this.getSouth(), this.getEast());\r\n\t},\r\n\r\n\t// @method getWest(): Number\r\n\t// Returns the west longitude of the bounds\r\n\tgetWest: function () {\r\n\t\treturn this._southWest.lng;\r\n\t},\r\n\r\n\t// @method getSouth(): Number\r\n\t// Returns the south latitude of the bounds\r\n\tgetSouth: function () {\r\n\t\treturn this._southWest.lat;\r\n\t},\r\n\r\n\t// @method getEast(): Number\r\n\t// Returns the east longitude of the bounds\r\n\tgetEast: function () {\r\n\t\treturn this._northEast.lng;\r\n\t},\r\n\r\n\t// @method getNorth(): Number\r\n\t// Returns the north latitude of the bounds\r\n\tgetNorth: function () {\r\n\t\treturn this._northEast.lat;\r\n\t},\r\n\r\n\t// @method contains(otherBounds: LatLngBounds): Boolean\r\n\t// Returns `true` if the rectangle contains the given one.\r\n\r\n\t// @alternative\r\n\t// @method contains (latlng: LatLng): Boolean\r\n\t// Returns `true` if the rectangle contains the given point.\r\n\tcontains: function (obj) { // (LatLngBounds) or (LatLng) -> Boolean\r\n\t\tif (typeof obj[0] === 'number' || obj instanceof LatLng || 'lat' in obj) {\r\n\t\t\tobj = toLatLng(obj);\r\n\t\t} else {\r\n\t\t\tobj = toLatLngBounds(obj);\r\n\t\t}\r\n\r\n\t\tvar sw = this._southWest,\r\n\t\t    ne = this._northEast,\r\n\t\t    sw2, ne2;\r\n\r\n\t\tif (obj instanceof LatLngBounds) {\r\n\t\t\tsw2 = obj.getSouthWest();\r\n\t\t\tne2 = obj.getNorthEast();\r\n\t\t} else {\r\n\t\t\tsw2 = ne2 = obj;\r\n\t\t}\r\n\r\n\t\treturn (sw2.lat >= sw.lat) && (ne2.lat <= ne.lat) &&\r\n\t\t       (sw2.lng >= sw.lng) && (ne2.lng <= ne.lng);\r\n\t},\r\n\r\n\t// @method intersects(otherBounds: LatLngBounds): Boolean\r\n\t// Returns `true` if the rectangle intersects the given bounds. Two bounds intersect if they have at least one point in common.\r\n\tintersects: function (bounds) {\r\n\t\tbounds = toLatLngBounds(bounds);\r\n\r\n\t\tvar sw = this._southWest,\r\n\t\t    ne = this._northEast,\r\n\t\t    sw2 = bounds.getSouthWest(),\r\n\t\t    ne2 = bounds.getNorthEast(),\r\n\r\n\t\t    latIntersects = (ne2.lat >= sw.lat) && (sw2.lat <= ne.lat),\r\n\t\t    lngIntersects = (ne2.lng >= sw.lng) && (sw2.lng <= ne.lng);\r\n\r\n\t\treturn latIntersects && lngIntersects;\r\n\t},\r\n\r\n\t// @method overlaps(otherBounds: LatLngBounds): Boolean\r\n\t// Returns `true` if the rectangle overlaps the given bounds. Two bounds overlap if their intersection is an area.\r\n\toverlaps: function (bounds) {\r\n\t\tbounds = toLatLngBounds(bounds);\r\n\r\n\t\tvar sw = this._southWest,\r\n\t\t    ne = this._northEast,\r\n\t\t    sw2 = bounds.getSouthWest(),\r\n\t\t    ne2 = bounds.getNorthEast(),\r\n\r\n\t\t    latOverlaps = (ne2.lat > sw.lat) && (sw2.lat < ne.lat),\r\n\t\t    lngOverlaps = (ne2.lng > sw.lng) && (sw2.lng < ne.lng);\r\n\r\n\t\treturn latOverlaps && lngOverlaps;\r\n\t},\r\n\r\n\t// @method toBBoxString(): String\r\n\t// Returns a string with bounding box coordinates in a 'southwest_lng,southwest_lat,northeast_lng,northeast_lat' format. Useful for sending requests to web services that return geo data.\r\n\ttoBBoxString: function () {\r\n\t\treturn [this.getWest(), this.getSouth(), this.getEast(), this.getNorth()].join(',');\r\n\t},\r\n\r\n\t// @method equals(otherBounds: LatLngBounds, maxMargin?: Number): Boolean\r\n\t// Returns `true` if the rectangle is equivalent (within a small margin of error) to the given bounds. The margin of error can be overridden by setting `maxMargin` to a small number.\r\n\tequals: function (bounds, maxMargin) {\r\n\t\tif (!bounds) { return false; }\r\n\r\n\t\tbounds = toLatLngBounds(bounds);\r\n\r\n\t\treturn this._southWest.equals(bounds.getSouthWest(), maxMargin) &&\r\n\t\t       this._northEast.equals(bounds.getNorthEast(), maxMargin);\r\n\t},\r\n\r\n\t// @method isValid(): Boolean\r\n\t// Returns `true` if the bounds are properly initialized.\r\n\tisValid: function () {\r\n\t\treturn !!(this._southWest && this._northEast);\r\n\t}\r\n};\r\n\r\n// TODO International date line?\r\n\r\n// @factory L.latLngBounds(corner1: LatLng, corner2: LatLng)\r\n// Creates a `LatLngBounds` object by defining two diagonally opposite corners of the rectangle.\r\n\r\n// @alternative\r\n// @factory L.latLngBounds(latlngs: LatLng[])\r\n// Creates a `LatLngBounds` object defined by the geographical points it contains. Very useful for zooming the map to fit a particular set of locations with [`fitBounds`](#map-fitbounds).\r\nfunction toLatLngBounds(a, b) {\r\n\tif (a instanceof LatLngBounds) {\r\n\t\treturn a;\r\n\t}\r\n\treturn new LatLngBounds(a, b);\r\n}\n\n/* @class LatLng\r\n * @aka L.LatLng\r\n *\r\n * Represents a geographical point with a certain latitude and longitude.\r\n *\r\n * @example\r\n *\r\n * ```\r\n * var latlng = L.latLng(50.5, 30.5);\r\n * ```\r\n *\r\n * All Leaflet methods that accept LatLng objects also accept them in a simple Array form and simple object form (unless noted otherwise), so these lines are equivalent:\r\n *\r\n * ```\r\n * map.panTo([50, 30]);\r\n * map.panTo({lon: 30, lat: 50});\r\n * map.panTo({lat: 50, lng: 30});\r\n * map.panTo(L.latLng(50, 30));\r\n * ```\r\n *\r\n * Note that `LatLng` does not inherit from Leaflet's `Class` object,\r\n * which means new classes can't inherit from it, and new methods\r\n * can't be added to it with the `include` function.\r\n */\r\n\r\nfunction LatLng(lat, lng, alt) {\r\n\tif (isNaN(lat) || isNaN(lng)) {\r\n\t\tthrow new Error('Invalid LatLng object: (' + lat + ', ' + lng + ')');\r\n\t}\r\n\r\n\t// @property lat: Number\r\n\t// Latitude in degrees\r\n\tthis.lat = +lat;\r\n\r\n\t// @property lng: Number\r\n\t// Longitude in degrees\r\n\tthis.lng = +lng;\r\n\r\n\t// @property alt: Number\r\n\t// Altitude in meters (optional)\r\n\tif (alt !== undefined) {\r\n\t\tthis.alt = +alt;\r\n\t}\r\n}\r\n\r\nLatLng.prototype = {\r\n\t// @method equals(otherLatLng: LatLng, maxMargin?: Number): Boolean\r\n\t// Returns `true` if the given `LatLng` point is at the same position (within a small margin of error). The margin of error can be overridden by setting `maxMargin` to a small number.\r\n\tequals: function (obj, maxMargin) {\r\n\t\tif (!obj) { return false; }\r\n\r\n\t\tobj = toLatLng(obj);\r\n\r\n\t\tvar margin = Math.max(\r\n\t\t        Math.abs(this.lat - obj.lat),\r\n\t\t        Math.abs(this.lng - obj.lng));\r\n\r\n\t\treturn margin <= (maxMargin === undefined ? 1.0E-9 : maxMargin);\r\n\t},\r\n\r\n\t// @method toString(): String\r\n\t// Returns a string representation of the point (for debugging purposes).\r\n\ttoString: function (precision) {\r\n\t\treturn 'LatLng(' +\r\n\t\t        formatNum(this.lat, precision) + ', ' +\r\n\t\t        formatNum(this.lng, precision) + ')';\r\n\t},\r\n\r\n\t// @method distanceTo(otherLatLng: LatLng): Number\r\n\t// Returns the distance (in meters) to the given `LatLng` calculated using the [Spherical Law of Cosines](https://en.wikipedia.org/wiki/Spherical_law_of_cosines).\r\n\tdistanceTo: function (other) {\r\n\t\treturn Earth.distance(this, toLatLng(other));\r\n\t},\r\n\r\n\t// @method wrap(): LatLng\r\n\t// Returns a new `LatLng` object with the longitude wrapped so it's always between -180 and +180 degrees.\r\n\twrap: function () {\r\n\t\treturn Earth.wrapLatLng(this);\r\n\t},\r\n\r\n\t// @method toBounds(sizeInMeters: Number): LatLngBounds\r\n\t// Returns a new `LatLngBounds` object in which each boundary is `sizeInMeters/2` meters apart from the `LatLng`.\r\n\ttoBounds: function (sizeInMeters) {\r\n\t\tvar latAccuracy = 180 * sizeInMeters / 40075017,\r\n\t\t    lngAccuracy = latAccuracy / Math.cos((Math.PI / 180) * this.lat);\r\n\r\n\t\treturn toLatLngBounds(\r\n\t\t        [this.lat - latAccuracy, this.lng - lngAccuracy],\r\n\t\t        [this.lat + latAccuracy, this.lng + lngAccuracy]);\r\n\t},\r\n\r\n\tclone: function () {\r\n\t\treturn new LatLng(this.lat, this.lng, this.alt);\r\n\t}\r\n};\r\n\r\n\r\n\r\n// @factory L.latLng(latitude: Number, longitude: Number, altitude?: Number): LatLng\r\n// Creates an object representing a geographical point with the given latitude and longitude (and optionally altitude).\r\n\r\n// @alternative\r\n// @factory L.latLng(coords: Array): LatLng\r\n// Expects an array of the form `[Number, Number]` or `[Number, Number, Number]` instead.\r\n\r\n// @alternative\r\n// @factory L.latLng(coords: Object): LatLng\r\n// Expects an plain object of the form `{lat: Number, lng: Number}` or `{lat: Number, lng: Number, alt: Number}` instead.\r\n\r\nfunction toLatLng(a, b, c) {\r\n\tif (a instanceof LatLng) {\r\n\t\treturn a;\r\n\t}\r\n\tif (isArray(a) && typeof a[0] !== 'object') {\r\n\t\tif (a.length === 3) {\r\n\t\t\treturn new LatLng(a[0], a[1], a[2]);\r\n\t\t}\r\n\t\tif (a.length === 2) {\r\n\t\t\treturn new LatLng(a[0], a[1]);\r\n\t\t}\r\n\t\treturn null;\r\n\t}\r\n\tif (a === undefined || a === null) {\r\n\t\treturn a;\r\n\t}\r\n\tif (typeof a === 'object' && 'lat' in a) {\r\n\t\treturn new LatLng(a.lat, 'lng' in a ? a.lng : a.lon, a.alt);\r\n\t}\r\n\tif (b === undefined) {\r\n\t\treturn null;\r\n\t}\r\n\treturn new LatLng(a, b, c);\r\n}\n\n/*\r\n * @namespace CRS\r\n * @crs L.CRS.Base\r\n * Object that defines coordinate reference systems for projecting\r\n * geographical points into pixel (screen) coordinates and back (and to\r\n * coordinates in other units for [WMS](https://en.wikipedia.org/wiki/Web_Map_Service) services). See\r\n * [spatial reference system](http://en.wikipedia.org/wiki/Coordinate_reference_system).\r\n *\r\n * Leaflet defines the most usual CRSs by default. If you want to use a\r\n * CRS not defined by default, take a look at the\r\n * [Proj4Leaflet](https://github.com/kartena/Proj4Leaflet) plugin.\r\n *\r\n * Note that the CRS instances do not inherit from Leaflet's `Class` object,\r\n * and can't be instantiated. Also, new classes can't inherit from them,\r\n * and methods can't be added to them with the `include` function.\r\n */\r\n\r\nvar CRS = {\r\n\t// @method latLngToPoint(latlng: LatLng, zoom: Number): Point\r\n\t// Projects geographical coordinates into pixel coordinates for a given zoom.\r\n\tlatLngToPoint: function (latlng, zoom) {\r\n\t\tvar projectedPoint = this.projection.project(latlng),\r\n\t\t    scale = this.scale(zoom);\r\n\r\n\t\treturn this.transformation._transform(projectedPoint, scale);\r\n\t},\r\n\r\n\t// @method pointToLatLng(point: Point, zoom: Number): LatLng\r\n\t// The inverse of `latLngToPoint`. Projects pixel coordinates on a given\r\n\t// zoom into geographical coordinates.\r\n\tpointToLatLng: function (point, zoom) {\r\n\t\tvar scale = this.scale(zoom),\r\n\t\t    untransformedPoint = this.transformation.untransform(point, scale);\r\n\r\n\t\treturn this.projection.unproject(untransformedPoint);\r\n\t},\r\n\r\n\t// @method project(latlng: LatLng): Point\r\n\t// Projects geographical coordinates into coordinates in units accepted for\r\n\t// this CRS (e.g. meters for EPSG:3857, for passing it to WMS services).\r\n\tproject: function (latlng) {\r\n\t\treturn this.projection.project(latlng);\r\n\t},\r\n\r\n\t// @method unproject(point: Point): LatLng\r\n\t// Given a projected coordinate returns the corresponding LatLng.\r\n\t// The inverse of `project`.\r\n\tunproject: function (point) {\r\n\t\treturn this.projection.unproject(point);\r\n\t},\r\n\r\n\t// @method scale(zoom: Number): Number\r\n\t// Returns the scale used when transforming projected coordinates into\r\n\t// pixel coordinates for a particular zoom. For example, it returns\r\n\t// `256 * 2^zoom` for Mercator-based CRS.\r\n\tscale: function (zoom) {\r\n\t\treturn 256 * Math.pow(2, zoom);\r\n\t},\r\n\r\n\t// @method zoom(scale: Number): Number\r\n\t// Inverse of `scale()`, returns the zoom level corresponding to a scale\r\n\t// factor of `scale`.\r\n\tzoom: function (scale) {\r\n\t\treturn Math.log(scale / 256) / Math.LN2;\r\n\t},\r\n\r\n\t// @method getProjectedBounds(zoom: Number): Bounds\r\n\t// Returns the projection's bounds scaled and transformed for the provided `zoom`.\r\n\tgetProjectedBounds: function (zoom) {\r\n\t\tif (this.infinite) { return null; }\r\n\r\n\t\tvar b = this.projection.bounds,\r\n\t\t    s = this.scale(zoom),\r\n\t\t    min = this.transformation.transform(b.min, s),\r\n\t\t    max = this.transformation.transform(b.max, s);\r\n\r\n\t\treturn new Bounds(min, max);\r\n\t},\r\n\r\n\t// @method distance(latlng1: LatLng, latlng2: LatLng): Number\r\n\t// Returns the distance between two geographical coordinates.\r\n\r\n\t// @property code: String\r\n\t// Standard code name of the CRS passed into WMS services (e.g. `'EPSG:3857'`)\r\n\t//\r\n\t// @property wrapLng: Number[]\r\n\t// An array of two numbers defining whether the longitude (horizontal) coordinate\r\n\t// axis wraps around a given range and how. Defaults to `[-180, 180]` in most\r\n\t// geographical CRSs. If `undefined`, the longitude axis does not wrap around.\r\n\t//\r\n\t// @property wrapLat: Number[]\r\n\t// Like `wrapLng`, but for the latitude (vertical) axis.\r\n\r\n\t// wrapLng: [min, max],\r\n\t// wrapLat: [min, max],\r\n\r\n\t// @property infinite: Boolean\r\n\t// If true, the coordinate space will be unbounded (infinite in both axes)\r\n\tinfinite: false,\r\n\r\n\t// @method wrapLatLng(latlng: LatLng): LatLng\r\n\t// Returns a `LatLng` where lat and lng has been wrapped according to the\r\n\t// CRS's `wrapLat` and `wrapLng` properties, if they are outside the CRS's bounds.\r\n\twrapLatLng: function (latlng) {\r\n\t\tvar lng = this.wrapLng ? wrapNum(latlng.lng, this.wrapLng, true) : latlng.lng,\r\n\t\t    lat = this.wrapLat ? wrapNum(latlng.lat, this.wrapLat, true) : latlng.lat,\r\n\t\t    alt = latlng.alt;\r\n\r\n\t\treturn new LatLng(lat, lng, alt);\r\n\t},\r\n\r\n\t// @method wrapLatLngBounds(bounds: LatLngBounds): LatLngBounds\r\n\t// Returns a `LatLngBounds` with the same size as the given one, ensuring\r\n\t// that its center is within the CRS's bounds.\r\n\t// Only accepts actual `L.LatLngBounds` instances, not arrays.\r\n\twrapLatLngBounds: function (bounds) {\r\n\t\tvar center = bounds.getCenter(),\r\n\t\t    newCenter = this.wrapLatLng(center),\r\n\t\t    latShift = center.lat - newCenter.lat,\r\n\t\t    lngShift = center.lng - newCenter.lng;\r\n\r\n\t\tif (latShift === 0 && lngShift === 0) {\r\n\t\t\treturn bounds;\r\n\t\t}\r\n\r\n\t\tvar sw = bounds.getSouthWest(),\r\n\t\t    ne = bounds.getNorthEast(),\r\n\t\t    newSw = new LatLng(sw.lat - latShift, sw.lng - lngShift),\r\n\t\t    newNe = new LatLng(ne.lat - latShift, ne.lng - lngShift);\r\n\r\n\t\treturn new LatLngBounds(newSw, newNe);\r\n\t}\r\n};\n\n/*\n * @namespace CRS\n * @crs L.CRS.Earth\n *\n * Serves as the base for CRS that are global such that they cover the earth.\n * Can only be used as the base for other CRS and cannot be used directly,\n * since it does not have a `code`, `projection` or `transformation`. `distance()` returns\n * meters.\n */\n\nvar Earth = extend({}, CRS, {\n\twrapLng: [-180, 180],\n\n\t// Mean Earth Radius, as recommended for use by\n\t// the International Union of Geodesy and Geophysics,\n\t// see http://rosettacode.org/wiki/Haversine_formula\n\tR: 6371000,\n\n\t// distance between two geographical points using spherical law of cosines approximation\n\tdistance: function (latlng1, latlng2) {\n\t\tvar rad = Math.PI / 180,\n\t\t    lat1 = latlng1.lat * rad,\n\t\t    lat2 = latlng2.lat * rad,\n\t\t    sinDLat = Math.sin((latlng2.lat - latlng1.lat) * rad / 2),\n\t\t    sinDLon = Math.sin((latlng2.lng - latlng1.lng) * rad / 2),\n\t\t    a = sinDLat * sinDLat + Math.cos(lat1) * Math.cos(lat2) * sinDLon * sinDLon,\n\t\t    c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));\n\t\treturn this.R * c;\n\t}\n});\n\n/*\r\n * @namespace Projection\r\n * @projection L.Projection.SphericalMercator\r\n *\r\n * Spherical Mercator projection  the most common projection for online maps,\r\n * used by almost all free and commercial tile providers. Assumes that Earth is\r\n * a sphere. Used by the `EPSG:3857` CRS.\r\n */\r\n\r\nvar earthRadius = 6378137;\r\n\r\nvar SphericalMercator = {\r\n\r\n\tR: earthRadius,\r\n\tMAX_LATITUDE: 85.0511287798,\r\n\r\n\tproject: function (latlng) {\r\n\t\tvar d = Math.PI / 180,\r\n\t\t    max = this.MAX_LATITUDE,\r\n\t\t    lat = Math.max(Math.min(max, latlng.lat), -max),\r\n\t\t    sin = Math.sin(lat * d);\r\n\r\n\t\treturn new Point(\r\n\t\t\tthis.R * latlng.lng * d,\r\n\t\t\tthis.R * Math.log((1 + sin) / (1 - sin)) / 2);\r\n\t},\r\n\r\n\tunproject: function (point) {\r\n\t\tvar d = 180 / Math.PI;\r\n\r\n\t\treturn new LatLng(\r\n\t\t\t(2 * Math.atan(Math.exp(point.y / this.R)) - (Math.PI / 2)) * d,\r\n\t\t\tpoint.x * d / this.R);\r\n\t},\r\n\r\n\tbounds: (function () {\r\n\t\tvar d = earthRadius * Math.PI;\r\n\t\treturn new Bounds([-d, -d], [d, d]);\r\n\t})()\r\n};\n\n/*\r\n * @class Transformation\r\n * @aka L.Transformation\r\n *\r\n * Represents an affine transformation: a set of coefficients `a`, `b`, `c`, `d`\r\n * for transforming a point of a form `(x, y)` into `(a*x + b, c*y + d)` and doing\r\n * the reverse. Used by Leaflet in its projections code.\r\n *\r\n * @example\r\n *\r\n * ```js\r\n * var transformation = L.transformation(2, 5, -1, 10),\r\n * \tp = L.point(1, 2),\r\n * \tp2 = transformation.transform(p), //  L.point(7, 8)\r\n * \tp3 = transformation.untransform(p2); //  L.point(1, 2)\r\n * ```\r\n */\r\n\r\n\r\n// factory new L.Transformation(a: Number, b: Number, c: Number, d: Number)\r\n// Creates a `Transformation` object with the given coefficients.\r\nfunction Transformation(a, b, c, d) {\r\n\tif (isArray(a)) {\r\n\t\t// use array properties\r\n\t\tthis._a = a[0];\r\n\t\tthis._b = a[1];\r\n\t\tthis._c = a[2];\r\n\t\tthis._d = a[3];\r\n\t\treturn;\r\n\t}\r\n\tthis._a = a;\r\n\tthis._b = b;\r\n\tthis._c = c;\r\n\tthis._d = d;\r\n}\r\n\r\nTransformation.prototype = {\r\n\t// @method transform(point: Point, scale?: Number): Point\r\n\t// Returns a transformed point, optionally multiplied by the given scale.\r\n\t// Only accepts actual `L.Point` instances, not arrays.\r\n\ttransform: function (point, scale) { // (Point, Number) -> Point\r\n\t\treturn this._transform(point.clone(), scale);\r\n\t},\r\n\r\n\t// destructive transform (faster)\r\n\t_transform: function (point, scale) {\r\n\t\tscale = scale || 1;\r\n\t\tpoint.x = scale * (this._a * point.x + this._b);\r\n\t\tpoint.y = scale * (this._c * point.y + this._d);\r\n\t\treturn point;\r\n\t},\r\n\r\n\t// @method untransform(point: Point, scale?: Number): Point\r\n\t// Returns the reverse transformation of the given point, optionally divided\r\n\t// by the given scale. Only accepts actual `L.Point` instances, not arrays.\r\n\tuntransform: function (point, scale) {\r\n\t\tscale = scale || 1;\r\n\t\treturn new Point(\r\n\t\t        (point.x / scale - this._b) / this._a,\r\n\t\t        (point.y / scale - this._d) / this._c);\r\n\t}\r\n};\r\n\r\n// factory L.transformation(a: Number, b: Number, c: Number, d: Number)\r\n\r\n// @factory L.transformation(a: Number, b: Number, c: Number, d: Number)\r\n// Instantiates a Transformation object with the given coefficients.\r\n\r\n// @alternative\r\n// @factory L.transformation(coefficients: Array): Transformation\r\n// Expects an coefficients array of the form\r\n// `[a: Number, b: Number, c: Number, d: Number]`.\r\n\r\nfunction toTransformation(a, b, c, d) {\r\n\treturn new Transformation(a, b, c, d);\r\n}\n\n/*\r\n * @namespace CRS\r\n * @crs L.CRS.EPSG3857\r\n *\r\n * The most common CRS for online maps, used by almost all free and commercial\r\n * tile providers. Uses Spherical Mercator projection. Set in by default in\r\n * Map's `crs` option.\r\n */\r\n\r\nvar EPSG3857 = extend({}, Earth, {\r\n\tcode: 'EPSG:3857',\r\n\tprojection: SphericalMercator,\r\n\r\n\ttransformation: (function () {\r\n\t\tvar scale = 0.5 / (Math.PI * SphericalMercator.R);\r\n\t\treturn toTransformation(scale, 0.5, -scale, 0.5);\r\n\t}())\r\n});\r\n\r\nvar EPSG900913 = extend({}, EPSG3857, {\r\n\tcode: 'EPSG:900913'\r\n});\n\n// @namespace SVG; @section\n// There are several static functions which can be called without instantiating L.SVG:\n\n// @function create(name: String): SVGElement\n// Returns a instance of [SVGElement](https://developer.mozilla.org/docs/Web/API/SVGElement),\n// corresponding to the class name passed. For example, using 'line' will return\n// an instance of [SVGLineElement](https://developer.mozilla.org/docs/Web/API/SVGLineElement).\nfunction svgCreate(name) {\n\treturn document.createElementNS('http://www.w3.org/2000/svg', name);\n}\n\n// @function pointsToPath(rings: Point[], closed: Boolean): String\n// Generates a SVG path string for multiple rings, with each ring turning\n// into \"M..L..L..\" instructions\nfunction pointsToPath(rings, closed) {\n\tvar str = '',\n\ti, j, len, len2, points, p;\n\n\tfor (i = 0, len = rings.length; i < len; i++) {\n\t\tpoints = rings[i];\n\n\t\tfor (j = 0, len2 = points.length; j < len2; j++) {\n\t\t\tp = points[j];\n\t\t\tstr += (j ? 'L' : 'M') + p.x + ' ' + p.y;\n\t\t}\n\n\t\t// closes the ring for polygons; \"x\" is VML syntax\n\t\tstr += closed ? (svg ? 'z' : 'x') : '';\n\t}\n\n\t// SVG complains about empty path strings\n\treturn str || 'M0 0';\n}\n\n/*\r\n * @namespace Browser\r\n * @aka L.Browser\r\n *\r\n * A namespace with static properties for browser/feature detection used by Leaflet internally.\r\n *\r\n * @example\r\n *\r\n * ```js\r\n * if (L.Browser.ielt9) {\r\n *   alert('Upgrade your browser, dude!');\r\n * }\r\n * ```\r\n */\r\n\r\nvar style$1 = document.documentElement.style;\r\n\r\n// @property ie: Boolean; `true` for all Internet Explorer versions (not Edge).\r\nvar ie = 'ActiveXObject' in window;\r\n\r\n// @property ielt9: Boolean; `true` for Internet Explorer versions less than 9.\r\nvar ielt9 = ie && !document.addEventListener;\r\n\r\n// @property edge: Boolean; `true` for the Edge web browser.\r\nvar edge = 'msLaunchUri' in navigator && !('documentMode' in document);\r\n\r\n// @property webkit: Boolean;\r\n// `true` for webkit-based browsers like Chrome and Safari (including mobile versions).\r\nvar webkit = userAgentContains('webkit');\r\n\r\n// @property android: Boolean\r\n// `true` for any browser running on an Android platform.\r\nvar android = userAgentContains('android');\r\n\r\n// @property android23: Boolean; `true` for browsers running on Android 2 or Android 3.\r\nvar android23 = userAgentContains('android 2') || userAgentContains('android 3');\r\n\r\n/* See https://stackoverflow.com/a/17961266 for details on detecting stock Android */\r\nvar webkitVer = parseInt(/WebKit\\/([0-9]+)|$/.exec(navigator.userAgent)[1], 10); // also matches AppleWebKit\r\n// @property androidStock: Boolean; `true` for the Android stock browser (i.e. not Chrome)\r\nvar androidStock = android && userAgentContains('Google') && webkitVer < 537 && !('AudioNode' in window);\r\n\r\n// @property opera: Boolean; `true` for the Opera browser\r\nvar opera = !!window.opera;\r\n\r\n// @property chrome: Boolean; `true` for the Chrome browser.\r\nvar chrome = !edge && userAgentContains('chrome');\r\n\r\n// @property gecko: Boolean; `true` for gecko-based browsers like Firefox.\r\nvar gecko = userAgentContains('gecko') && !webkit && !opera && !ie;\r\n\r\n// @property safari: Boolean; `true` for the Safari browser.\r\nvar safari = !chrome && userAgentContains('safari');\r\n\r\nvar phantom = userAgentContains('phantom');\r\n\r\n// @property opera12: Boolean\r\n// `true` for the Opera browser supporting CSS transforms (version 12 or later).\r\nvar opera12 = 'OTransition' in style$1;\r\n\r\n// @property win: Boolean; `true` when the browser is running in a Windows platform\r\nvar win = navigator.platform.indexOf('Win') === 0;\r\n\r\n// @property ie3d: Boolean; `true` for all Internet Explorer versions supporting CSS transforms.\r\nvar ie3d = ie && ('transition' in style$1);\r\n\r\n// @property webkit3d: Boolean; `true` for webkit-based browsers supporting CSS transforms.\r\nvar webkit3d = ('WebKitCSSMatrix' in window) && ('m11' in new window.WebKitCSSMatrix()) && !android23;\r\n\r\n// @property gecko3d: Boolean; `true` for gecko-based browsers supporting CSS transforms.\r\nvar gecko3d = 'MozPerspective' in style$1;\r\n\r\n// @property any3d: Boolean\r\n// `true` for all browsers supporting CSS transforms.\r\nvar any3d = !window.L_DISABLE_3D && (ie3d || webkit3d || gecko3d) && !opera12 && !phantom;\r\n\r\n// @property mobile: Boolean; `true` for all browsers running in a mobile device.\r\nvar mobile = typeof orientation !== 'undefined' || userAgentContains('mobile');\r\n\r\n// @property msPointer: Boolean\r\n// `true` for browsers implementing the Microsoft touch events model (notably IE10).\r\nvar msPointer = !window.PointerEvent && window.MSPointerEvent;\r\n\r\n// @property pointer: Boolean\r\n// `true` for all browsers supporting [pointer events](https://msdn.microsoft.com/en-us/library/dn433244%28v=vs.85%29.aspx).\r\nvar pointer = !!(window.PointerEvent || msPointer);\r\n\r\n// @property touch: Boolean\r\n// `true` for all browsers supporting [touch events](https://developer.mozilla.org/docs/Web/API/Touch_events).\r\n// This does not necessarily mean that the browser is running in a computer with\r\n// a touchscreen, it only means that the browser is capable of understanding\r\n// touch events.\r\nvar touch = !window.L_NO_TOUCH && (pointer || 'ontouchstart' in window ||\r\n\t\t(window.DocumentTouch && document instanceof window.DocumentTouch));\r\n\r\n// @property mobileOpera: Boolean; `true` for the Opera browser in a mobile device.\r\nvar mobileOpera = mobile && opera;\r\n\r\n// @property retina: Boolean\r\n// `true` for browsers on a high-resolution \"retina\" screen or on any screen when browser's display zoom is more than 100%.\r\nvar retina = (window.devicePixelRatio || (window.screen.deviceXDPI / window.screen.logicalXDPI)) > 1;\r\n\r\n// @property passiveEvents: Boolean\r\n// `true` for browsers that support passive events.\r\nvar passiveEvents = (function () {\r\n\tvar supportsPassiveOption = false;\r\n\ttry {\r\n\t\tvar opts = Object.defineProperty({}, 'passive', {\r\n\t\t\tget: function () { // eslint-disable-line getter-return\r\n\t\t\t\tsupportsPassiveOption = true;\r\n\t\t\t}\r\n\t\t});\r\n\t\twindow.addEventListener('testPassiveEventSupport', falseFn, opts);\r\n\t\twindow.removeEventListener('testPassiveEventSupport', falseFn, opts);\r\n\t} catch (e) {\r\n\t\t// Errors can safely be ignored since this is only a browser support test.\r\n\t}\r\n\treturn supportsPassiveOption;\r\n}());\r\n\r\n// @property canvas: Boolean\r\n// `true` when the browser supports [`<canvas>`](https://developer.mozilla.org/docs/Web/API/Canvas_API).\r\nvar canvas = (function () {\r\n\treturn !!document.createElement('canvas').getContext;\r\n}());\r\n\r\n// @property svg: Boolean\r\n// `true` when the browser supports [SVG](https://developer.mozilla.org/docs/Web/SVG).\r\nvar svg = !!(document.createElementNS && svgCreate('svg').createSVGRect);\r\n\r\n// @property vml: Boolean\r\n// `true` if the browser supports [VML](https://en.wikipedia.org/wiki/Vector_Markup_Language).\r\nvar vml = !svg && (function () {\r\n\ttry {\r\n\t\tvar div = document.createElement('div');\r\n\t\tdiv.innerHTML = '<v:shape adj=\"1\"/>';\r\n\r\n\t\tvar shape = div.firstChild;\r\n\t\tshape.style.behavior = 'url(#default#VML)';\r\n\r\n\t\treturn shape && (typeof shape.adj === 'object');\r\n\r\n\t} catch (e) {\r\n\t\treturn false;\r\n\t}\r\n}());\r\n\r\n\r\nfunction userAgentContains(str) {\r\n\treturn navigator.userAgent.toLowerCase().indexOf(str) >= 0;\r\n}\n\n/*\n * Extends L.DomEvent to provide touch support for Internet Explorer and Windows-based devices.\n */\n\n\nvar POINTER_DOWN =   msPointer ? 'MSPointerDown'   : 'pointerdown';\nvar POINTER_MOVE =   msPointer ? 'MSPointerMove'   : 'pointermove';\nvar POINTER_UP =     msPointer ? 'MSPointerUp'     : 'pointerup';\nvar POINTER_CANCEL = msPointer ? 'MSPointerCancel' : 'pointercancel';\n\nvar _pointers = {};\nvar _pointerDocListener = false;\n\n// Provides a touch events wrapper for (ms)pointer events.\n// ref http://www.w3.org/TR/pointerevents/ https://www.w3.org/Bugs/Public/show_bug.cgi?id=22890\n\nfunction addPointerListener(obj, type, handler, id) {\n\tif (type === 'touchstart') {\n\t\t_addPointerStart(obj, handler, id);\n\n\t} else if (type === 'touchmove') {\n\t\t_addPointerMove(obj, handler, id);\n\n\t} else if (type === 'touchend') {\n\t\t_addPointerEnd(obj, handler, id);\n\t}\n\n\treturn this;\n}\n\nfunction removePointerListener(obj, type, id) {\n\tvar handler = obj['_leaflet_' + type + id];\n\n\tif (type === 'touchstart') {\n\t\tobj.removeEventListener(POINTER_DOWN, handler, false);\n\n\t} else if (type === 'touchmove') {\n\t\tobj.removeEventListener(POINTER_MOVE, handler, false);\n\n\t} else if (type === 'touchend') {\n\t\tobj.removeEventListener(POINTER_UP, handler, false);\n\t\tobj.removeEventListener(POINTER_CANCEL, handler, false);\n\t}\n\n\treturn this;\n}\n\nfunction _addPointerStart(obj, handler, id) {\n\tvar onDown = bind(function (e) {\n\t\t// IE10 specific: MsTouch needs preventDefault. See #2000\n\t\tif (e.MSPOINTER_TYPE_TOUCH && e.pointerType === e.MSPOINTER_TYPE_TOUCH) {\n\t\t\tpreventDefault(e);\n\t\t}\n\n\t\t_handlePointer(e, handler);\n\t});\n\n\tobj['_leaflet_touchstart' + id] = onDown;\n\tobj.addEventListener(POINTER_DOWN, onDown, false);\n\n\t// need to keep track of what pointers and how many are active to provide e.touches emulation\n\tif (!_pointerDocListener) {\n\t\t// we listen document as any drags that end by moving the touch off the screen get fired there\n\t\tdocument.addEventListener(POINTER_DOWN, _globalPointerDown, true);\n\t\tdocument.addEventListener(POINTER_MOVE, _globalPointerMove, true);\n\t\tdocument.addEventListener(POINTER_UP, _globalPointerUp, true);\n\t\tdocument.addEventListener(POINTER_CANCEL, _globalPointerUp, true);\n\n\t\t_pointerDocListener = true;\n\t}\n}\n\nfunction _globalPointerDown(e) {\n\t_pointers[e.pointerId] = e;\n}\n\nfunction _globalPointerMove(e) {\n\tif (_pointers[e.pointerId]) {\n\t\t_pointers[e.pointerId] = e;\n\t}\n}\n\nfunction _globalPointerUp(e) {\n\tdelete _pointers[e.pointerId];\n}\n\nfunction _handlePointer(e, handler) {\n\te.touches = [];\n\tfor (var i in _pointers) {\n\t\te.touches.push(_pointers[i]);\n\t}\n\te.changedTouches = [e];\n\n\thandler(e);\n}\n\nfunction _addPointerMove(obj, handler, id) {\n\tvar onMove = function (e) {\n\t\t// don't fire touch moves when mouse isn't down\n\t\tif ((e.pointerType === (e.MSPOINTER_TYPE_MOUSE || 'mouse')) && e.buttons === 0) {\n\t\t\treturn;\n\t\t}\n\n\t\t_handlePointer(e, handler);\n\t};\n\n\tobj['_leaflet_touchmove' + id] = onMove;\n\tobj.addEventListener(POINTER_MOVE, onMove, false);\n}\n\nfunction _addPointerEnd(obj, handler, id) {\n\tvar onUp = function (e) {\n\t\t_handlePointer(e, handler);\n\t};\n\n\tobj['_leaflet_touchend' + id] = onUp;\n\tobj.addEventListener(POINTER_UP, onUp, false);\n\tobj.addEventListener(POINTER_CANCEL, onUp, false);\n}\n\n/*\r\n * Extends the event handling code with double tap support for mobile browsers.\r\n */\r\n\r\nvar _touchstart = msPointer ? 'MSPointerDown' : pointer ? 'pointerdown' : 'touchstart';\r\nvar _touchend = msPointer ? 'MSPointerUp' : pointer ? 'pointerup' : 'touchend';\r\nvar _pre = '_leaflet_';\r\n\r\n// inspired by Zepto touch code by Thomas Fuchs\r\nfunction addDoubleTapListener(obj, handler, id) {\r\n\tvar last, touch$$1,\r\n\t    doubleTap = false,\r\n\t    delay = 250;\r\n\r\n\tfunction onTouchStart(e) {\r\n\r\n\t\tif (pointer) {\r\n\t\t\tif (!e.isPrimary) { return; }\r\n\t\t\tif (e.pointerType === 'mouse') { return; } // mouse fires native dblclick\r\n\t\t} else if (e.touches.length > 1) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tvar now = Date.now(),\r\n\t\t    delta = now - (last || now);\r\n\r\n\t\ttouch$$1 = e.touches ? e.touches[0] : e;\r\n\t\tdoubleTap = (delta > 0 && delta <= delay);\r\n\t\tlast = now;\r\n\t}\r\n\r\n\tfunction onTouchEnd(e) {\r\n\t\tif (doubleTap && !touch$$1.cancelBubble) {\r\n\t\t\tif (pointer) {\r\n\t\t\t\tif (e.pointerType === 'mouse') { return; }\r\n\t\t\t\t// work around .type being readonly with MSPointer* events\r\n\t\t\t\tvar newTouch = {},\r\n\t\t\t\t    prop, i;\r\n\r\n\t\t\t\tfor (i in touch$$1) {\r\n\t\t\t\t\tprop = touch$$1[i];\r\n\t\t\t\t\tnewTouch[i] = prop && prop.bind ? prop.bind(touch$$1) : prop;\r\n\t\t\t\t}\r\n\t\t\t\ttouch$$1 = newTouch;\r\n\t\t\t}\r\n\t\t\ttouch$$1.type = 'dblclick';\r\n\t\t\ttouch$$1.button = 0;\r\n\t\t\thandler(touch$$1);\r\n\t\t\tlast = null;\r\n\t\t}\r\n\t}\r\n\r\n\tobj[_pre + _touchstart + id] = onTouchStart;\r\n\tobj[_pre + _touchend + id] = onTouchEnd;\r\n\tobj[_pre + 'dblclick' + id] = handler;\r\n\r\n\tobj.addEventListener(_touchstart, onTouchStart, passiveEvents ? {passive: false} : false);\r\n\tobj.addEventListener(_touchend, onTouchEnd, passiveEvents ? {passive: false} : false);\r\n\r\n\t// On some platforms (notably, chrome<55 on win10 + touchscreen + mouse),\r\n\t// the browser doesn't fire touchend/pointerup events but does fire\r\n\t// native dblclicks. See #4127.\r\n\t// Edge 14 also fires native dblclicks, but only for pointerType mouse, see #5180.\r\n\tobj.addEventListener('dblclick', handler, false);\r\n\r\n\treturn this;\r\n}\r\n\r\nfunction removeDoubleTapListener(obj, id) {\r\n\tvar touchstart = obj[_pre + _touchstart + id],\r\n\t    touchend = obj[_pre + _touchend + id],\r\n\t    dblclick = obj[_pre + 'dblclick' + id];\r\n\r\n\tobj.removeEventListener(_touchstart, touchstart, passiveEvents ? {passive: false} : false);\r\n\tobj.removeEventListener(_touchend, touchend, passiveEvents ? {passive: false} : false);\r\n\tobj.removeEventListener('dblclick', dblclick, false);\r\n\r\n\treturn this;\r\n}\n\n/*\r\n * @namespace DomUtil\r\n *\r\n * Utility functions to work with the [DOM](https://developer.mozilla.org/docs/Web/API/Document_Object_Model)\r\n * tree, used by Leaflet internally.\r\n *\r\n * Most functions expecting or returning a `HTMLElement` also work for\r\n * SVG elements. The only difference is that classes refer to CSS classes\r\n * in HTML and SVG classes in SVG.\r\n */\r\n\r\n\r\n// @property TRANSFORM: String\r\n// Vendor-prefixed transform style name (e.g. `'webkitTransform'` for WebKit).\r\nvar TRANSFORM = testProp(\r\n\t['transform', 'webkitTransform', 'OTransform', 'MozTransform', 'msTransform']);\r\n\r\n// webkitTransition comes first because some browser versions that drop vendor prefix don't do\r\n// the same for the transitionend event, in particular the Android 4.1 stock browser\r\n\r\n// @property TRANSITION: String\r\n// Vendor-prefixed transition style name.\r\nvar TRANSITION = testProp(\r\n\t['webkitTransition', 'transition', 'OTransition', 'MozTransition', 'msTransition']);\r\n\r\n// @property TRANSITION_END: String\r\n// Vendor-prefixed transitionend event name.\r\nvar TRANSITION_END =\r\n\tTRANSITION === 'webkitTransition' || TRANSITION === 'OTransition' ? TRANSITION + 'End' : 'transitionend';\r\n\r\n\r\n// @function get(id: String|HTMLElement): HTMLElement\r\n// Returns an element given its DOM id, or returns the element itself\r\n// if it was passed directly.\r\nfunction get(id) {\r\n\treturn typeof id === 'string' ? document.getElementById(id) : id;\r\n}\r\n\r\n// @function getStyle(el: HTMLElement, styleAttrib: String): String\r\n// Returns the value for a certain style attribute on an element,\r\n// including computed values or values set through CSS.\r\nfunction getStyle(el, style) {\r\n\tvar value = el.style[style] || (el.currentStyle && el.currentStyle[style]);\r\n\r\n\tif ((!value || value === 'auto') && document.defaultView) {\r\n\t\tvar css = document.defaultView.getComputedStyle(el, null);\r\n\t\tvalue = css ? css[style] : null;\r\n\t}\r\n\treturn value === 'auto' ? null : value;\r\n}\r\n\r\n// @function create(tagName: String, className?: String, container?: HTMLElement): HTMLElement\r\n// Creates an HTML element with `tagName`, sets its class to `className`, and optionally appends it to `container` element.\r\nfunction create$1(tagName, className, container) {\r\n\tvar el = document.createElement(tagName);\r\n\tel.className = className || '';\r\n\r\n\tif (container) {\r\n\t\tcontainer.appendChild(el);\r\n\t}\r\n\treturn el;\r\n}\r\n\r\n// @function remove(el: HTMLElement)\r\n// Removes `el` from its parent element\r\nfunction remove(el) {\r\n\tvar parent = el.parentNode;\r\n\tif (parent) {\r\n\t\tparent.removeChild(el);\r\n\t}\r\n}\r\n\r\n// @function empty(el: HTMLElement)\r\n// Removes all of `el`'s children elements from `el`\r\nfunction empty(el) {\r\n\twhile (el.firstChild) {\r\n\t\tel.removeChild(el.firstChild);\r\n\t}\r\n}\r\n\r\n// @function toFront(el: HTMLElement)\r\n// Makes `el` the last child of its parent, so it renders in front of the other children.\r\nfunction toFront(el) {\r\n\tvar parent = el.parentNode;\r\n\tif (parent && parent.lastChild !== el) {\r\n\t\tparent.appendChild(el);\r\n\t}\r\n}\r\n\r\n// @function toBack(el: HTMLElement)\r\n// Makes `el` the first child of its parent, so it renders behind the other children.\r\nfunction toBack(el) {\r\n\tvar parent = el.parentNode;\r\n\tif (parent && parent.firstChild !== el) {\r\n\t\tparent.insertBefore(el, parent.firstChild);\r\n\t}\r\n}\r\n\r\n// @function hasClass(el: HTMLElement, name: String): Boolean\r\n// Returns `true` if the element's class attribute contains `name`.\r\nfunction hasClass(el, name) {\r\n\tif (el.classList !== undefined) {\r\n\t\treturn el.classList.contains(name);\r\n\t}\r\n\tvar className = getClass(el);\r\n\treturn className.length > 0 && new RegExp('(^|\\\\s)' + name + '(\\\\s|$)').test(className);\r\n}\r\n\r\n// @function addClass(el: HTMLElement, name: String)\r\n// Adds `name` to the element's class attribute.\r\nfunction addClass(el, name) {\r\n\tif (el.classList !== undefined) {\r\n\t\tvar classes = splitWords(name);\r\n\t\tfor (var i = 0, len = classes.length; i < len; i++) {\r\n\t\t\tel.classList.add(classes[i]);\r\n\t\t}\r\n\t} else if (!hasClass(el, name)) {\r\n\t\tvar className = getClass(el);\r\n\t\tsetClass(el, (className ? className + ' ' : '') + name);\r\n\t}\r\n}\r\n\r\n// @function removeClass(el: HTMLElement, name: String)\r\n// Removes `name` from the element's class attribute.\r\nfunction removeClass(el, name) {\r\n\tif (el.classList !== undefined) {\r\n\t\tel.classList.remove(name);\r\n\t} else {\r\n\t\tsetClass(el, trim((' ' + getClass(el) + ' ').replace(' ' + name + ' ', ' ')));\r\n\t}\r\n}\r\n\r\n// @function setClass(el: HTMLElement, name: String)\r\n// Sets the element's class.\r\nfunction setClass(el, name) {\r\n\tif (el.className.baseVal === undefined) {\r\n\t\tel.className = name;\r\n\t} else {\r\n\t\t// in case of SVG element\r\n\t\tel.className.baseVal = name;\r\n\t}\r\n}\r\n\r\n// @function getClass(el: HTMLElement): String\r\n// Returns the element's class.\r\nfunction getClass(el) {\r\n\t// Check if the element is an SVGElementInstance and use the correspondingElement instead\r\n\t// (Required for linked SVG elements in IE11.)\r\n\tif (el.correspondingElement) {\r\n\t\tel = el.correspondingElement;\r\n\t}\r\n\treturn el.className.baseVal === undefined ? el.className : el.className.baseVal;\r\n}\r\n\r\n// @function setOpacity(el: HTMLElement, opacity: Number)\r\n// Set the opacity of an element (including old IE support).\r\n// `opacity` must be a number from `0` to `1`.\r\nfunction setOpacity(el, value) {\r\n\tif ('opacity' in el.style) {\r\n\t\tel.style.opacity = value;\r\n\t} else if ('filter' in el.style) {\r\n\t\t_setOpacityIE(el, value);\r\n\t}\r\n}\r\n\r\nfunction _setOpacityIE(el, value) {\r\n\tvar filter = false,\r\n\t    filterName = 'DXImageTransform.Microsoft.Alpha';\r\n\r\n\t// filters collection throws an error if we try to retrieve a filter that doesn't exist\r\n\ttry {\r\n\t\tfilter = el.filters.item(filterName);\r\n\t} catch (e) {\r\n\t\t// don't set opacity to 1 if we haven't already set an opacity,\r\n\t\t// it isn't needed and breaks transparent pngs.\r\n\t\tif (value === 1) { return; }\r\n\t}\r\n\r\n\tvalue = Math.round(value * 100);\r\n\r\n\tif (filter) {\r\n\t\tfilter.Enabled = (value !== 100);\r\n\t\tfilter.Opacity = value;\r\n\t} else {\r\n\t\tel.style.filter += ' progid:' + filterName + '(opacity=' + value + ')';\r\n\t}\r\n}\r\n\r\n// @function testProp(props: String[]): String|false\r\n// Goes through the array of style names and returns the first name\r\n// that is a valid style name for an element. If no such name is found,\r\n// it returns false. Useful for vendor-prefixed styles like `transform`.\r\nfunction testProp(props) {\r\n\tvar style = document.documentElement.style;\r\n\r\n\tfor (var i = 0; i < props.length; i++) {\r\n\t\tif (props[i] in style) {\r\n\t\t\treturn props[i];\r\n\t\t}\r\n\t}\r\n\treturn false;\r\n}\r\n\r\n// @function setTransform(el: HTMLElement, offset: Point, scale?: Number)\r\n// Resets the 3D CSS transform of `el` so it is translated by `offset` pixels\r\n// and optionally scaled by `scale`. Does not have an effect if the\r\n// browser doesn't support 3D CSS transforms.\r\nfunction setTransform(el, offset, scale) {\r\n\tvar pos = offset || new Point(0, 0);\r\n\r\n\tel.style[TRANSFORM] =\r\n\t\t(ie3d ?\r\n\t\t\t'translate(' + pos.x + 'px,' + pos.y + 'px)' :\r\n\t\t\t'translate3d(' + pos.x + 'px,' + pos.y + 'px,0)') +\r\n\t\t(scale ? ' scale(' + scale + ')' : '');\r\n}\r\n\r\n// @function setPosition(el: HTMLElement, position: Point)\r\n// Sets the position of `el` to coordinates specified by `position`,\r\n// using CSS translate or top/left positioning depending on the browser\r\n// (used by Leaflet internally to position its layers).\r\nfunction setPosition(el, point) {\r\n\r\n\t/*eslint-disable */\r\n\tel._leaflet_pos = point;\r\n\t/* eslint-enable */\r\n\r\n\tif (any3d) {\r\n\t\tsetTransform(el, point);\r\n\t} else {\r\n\t\tel.style.left = point.x + 'px';\r\n\t\tel.style.top = point.y + 'px';\r\n\t}\r\n}\r\n\r\n// @function getPosition(el: HTMLElement): Point\r\n// Returns the coordinates of an element previously positioned with setPosition.\r\nfunction getPosition(el) {\r\n\t// this method is only used for elements previously positioned using setPosition,\r\n\t// so it's safe to cache the position for performance\r\n\r\n\treturn el._leaflet_pos || new Point(0, 0);\r\n}\r\n\r\n// @function disableTextSelection()\r\n// Prevents the user from generating `selectstart` DOM events, usually generated\r\n// when the user drags the mouse through a page with text. Used internally\r\n// by Leaflet to override the behaviour of any click-and-drag interaction on\r\n// the map. Affects drag interactions on the whole document.\r\n\r\n// @function enableTextSelection()\r\n// Cancels the effects of a previous [`L.DomUtil.disableTextSelection`](#domutil-disabletextselection).\r\nvar disableTextSelection;\r\nvar enableTextSelection;\r\nvar _userSelect;\r\nif ('onselectstart' in document) {\r\n\tdisableTextSelection = function () {\r\n\t\ton(window, 'selectstart', preventDefault);\r\n\t};\r\n\tenableTextSelection = function () {\r\n\t\toff(window, 'selectstart', preventDefault);\r\n\t};\r\n} else {\r\n\tvar userSelectProperty = testProp(\r\n\t\t['userSelect', 'WebkitUserSelect', 'OUserSelect', 'MozUserSelect', 'msUserSelect']);\r\n\r\n\tdisableTextSelection = function () {\r\n\t\tif (userSelectProperty) {\r\n\t\t\tvar style = document.documentElement.style;\r\n\t\t\t_userSelect = style[userSelectProperty];\r\n\t\t\tstyle[userSelectProperty] = 'none';\r\n\t\t}\r\n\t};\r\n\tenableTextSelection = function () {\r\n\t\tif (userSelectProperty) {\r\n\t\t\tdocument.documentElement.style[userSelectProperty] = _userSelect;\r\n\t\t\t_userSelect = undefined;\r\n\t\t}\r\n\t};\r\n}\r\n\r\n// @function disableImageDrag()\r\n// As [`L.DomUtil.disableTextSelection`](#domutil-disabletextselection), but\r\n// for `dragstart` DOM events, usually generated when the user drags an image.\r\nfunction disableImageDrag() {\r\n\ton(window, 'dragstart', preventDefault);\r\n}\r\n\r\n// @function enableImageDrag()\r\n// Cancels the effects of a previous [`L.DomUtil.disableImageDrag`](#domutil-disabletextselection).\r\nfunction enableImageDrag() {\r\n\toff(window, 'dragstart', preventDefault);\r\n}\r\n\r\nvar _outlineElement, _outlineStyle;\r\n// @function preventOutline(el: HTMLElement)\r\n// Makes the [outline](https://developer.mozilla.org/docs/Web/CSS/outline)\r\n// of the element `el` invisible. Used internally by Leaflet to prevent\r\n// focusable elements from displaying an outline when the user performs a\r\n// drag interaction on them.\r\nfunction preventOutline(element) {\r\n\twhile (element.tabIndex === -1) {\r\n\t\telement = element.parentNode;\r\n\t}\r\n\tif (!element.style) { return; }\r\n\trestoreOutline();\r\n\t_outlineElement = element;\r\n\t_outlineStyle = element.style.outline;\r\n\telement.style.outline = 'none';\r\n\ton(window, 'keydown', restoreOutline);\r\n}\r\n\r\n// @function restoreOutline()\r\n// Cancels the effects of a previous [`L.DomUtil.preventOutline`]().\r\nfunction restoreOutline() {\r\n\tif (!_outlineElement) { return; }\r\n\t_outlineElement.style.outline = _outlineStyle;\r\n\t_outlineElement = undefined;\r\n\t_outlineStyle = undefined;\r\n\toff(window, 'keydown', restoreOutline);\r\n}\r\n\r\n// @function getSizedParentNode(el: HTMLElement): HTMLElement\r\n// Finds the closest parent node which size (width and height) is not null.\r\nfunction getSizedParentNode(element) {\r\n\tdo {\r\n\t\telement = element.parentNode;\r\n\t} while ((!element.offsetWidth || !element.offsetHeight) && element !== document.body);\r\n\treturn element;\r\n}\r\n\r\n// @function getScale(el: HTMLElement): Object\r\n// Computes the CSS scale currently applied on the element.\r\n// Returns an object with `x` and `y` members as horizontal and vertical scales respectively,\r\n// and `boundingClientRect` as the result of [`getBoundingClientRect()`](https://developer.mozilla.org/en-US/docs/Web/API/Element/getBoundingClientRect).\r\nfunction getScale(element) {\r\n\tvar rect = element.getBoundingClientRect(); // Read-only in old browsers.\r\n\r\n\treturn {\r\n\t\tx: rect.width / element.offsetWidth || 1,\r\n\t\ty: rect.height / element.offsetHeight || 1,\r\n\t\tboundingClientRect: rect\r\n\t};\r\n}\n\n/*\r\n * @namespace DomEvent\r\n * Utility functions to work with the [DOM events](https://developer.mozilla.org/docs/Web/API/Event), used by Leaflet internally.\r\n */\r\n\r\n// Inspired by John Resig, Dean Edwards and YUI addEvent implementations.\r\n\r\n// @function on(el: HTMLElement, types: String, fn: Function, context?: Object): this\r\n// Adds a listener function (`fn`) to a particular DOM event type of the\r\n// element `el`. You can optionally specify the context of the listener\r\n// (object the `this` keyword will point to). You can also pass several\r\n// space-separated types (e.g. `'click dblclick'`).\r\n\r\n// @alternative\r\n// @function on(el: HTMLElement, eventMap: Object, context?: Object): this\r\n// Adds a set of type/listener pairs, e.g. `{click: onClick, mousemove: onMouseMove}`\r\nfunction on(obj, types, fn, context) {\r\n\r\n\tif (typeof types === 'object') {\r\n\t\tfor (var type in types) {\r\n\t\t\taddOne(obj, type, types[type], fn);\r\n\t\t}\r\n\t} else {\r\n\t\ttypes = splitWords(types);\r\n\r\n\t\tfor (var i = 0, len = types.length; i < len; i++) {\r\n\t\t\taddOne(obj, types[i], fn, context);\r\n\t\t}\r\n\t}\r\n\r\n\treturn this;\r\n}\r\n\r\nvar eventsKey = '_leaflet_events';\r\n\r\n// @function off(el: HTMLElement, types: String, fn: Function, context?: Object): this\r\n// Removes a previously added listener function.\r\n// Note that if you passed a custom context to on, you must pass the same\r\n// context to `off` in order to remove the listener.\r\n\r\n// @alternative\r\n// @function off(el: HTMLElement, eventMap: Object, context?: Object): this\r\n// Removes a set of type/listener pairs, e.g. `{click: onClick, mousemove: onMouseMove}`\r\nfunction off(obj, types, fn, context) {\r\n\r\n\tif (typeof types === 'object') {\r\n\t\tfor (var type in types) {\r\n\t\t\tremoveOne(obj, type, types[type], fn);\r\n\t\t}\r\n\t} else if (types) {\r\n\t\ttypes = splitWords(types);\r\n\r\n\t\tfor (var i = 0, len = types.length; i < len; i++) {\r\n\t\t\tremoveOne(obj, types[i], fn, context);\r\n\t\t}\r\n\t} else {\r\n\t\tfor (var j in obj[eventsKey]) {\r\n\t\t\tremoveOne(obj, j, obj[eventsKey][j]);\r\n\t\t}\r\n\t\tdelete obj[eventsKey];\r\n\t}\r\n\r\n\treturn this;\r\n}\r\n\r\nfunction browserFiresNativeDblClick() {\r\n\t// See https://github.com/w3c/pointerevents/issues/171\r\n\tif (pointer) {\r\n\t\treturn !(edge || safari);\r\n\t}\r\n}\r\n\r\nvar mouseSubst = {\r\n\tmouseenter: 'mouseover',\r\n\tmouseleave: 'mouseout',\r\n\twheel: !('onwheel' in window) && 'mousewheel'\r\n};\r\n\r\nfunction addOne(obj, type, fn, context) {\r\n\tvar id = type + stamp(fn) + (context ? '_' + stamp(context) : '');\r\n\r\n\tif (obj[eventsKey] && obj[eventsKey][id]) { return this; }\r\n\r\n\tvar handler = function (e) {\r\n\t\treturn fn.call(context || obj, e || window.event);\r\n\t};\r\n\r\n\tvar originalHandler = handler;\r\n\r\n\tif (pointer && type.indexOf('touch') === 0) {\r\n\t\t// Needs DomEvent.Pointer.js\r\n\t\taddPointerListener(obj, type, handler, id);\r\n\r\n\t} else if (touch && (type === 'dblclick') && !browserFiresNativeDblClick()) {\r\n\t\taddDoubleTapListener(obj, handler, id);\r\n\r\n\t} else if ('addEventListener' in obj) {\r\n\r\n\t\tif (type === 'touchstart' || type === 'touchmove' || type === 'wheel' ||  type === 'mousewheel') {\r\n\t\t\tobj.addEventListener(mouseSubst[type] || type, handler, passiveEvents ? {passive: false} : false);\r\n\r\n\t\t} else if (type === 'mouseenter' || type === 'mouseleave') {\r\n\t\t\thandler = function (e) {\r\n\t\t\t\te = e || window.event;\r\n\t\t\t\tif (isExternalTarget(obj, e)) {\r\n\t\t\t\t\toriginalHandler(e);\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t\tobj.addEventListener(mouseSubst[type], handler, false);\r\n\r\n\t\t} else {\r\n\t\t\tobj.addEventListener(type, originalHandler, false);\r\n\t\t}\r\n\r\n\t} else if ('attachEvent' in obj) {\r\n\t\tobj.attachEvent('on' + type, handler);\r\n\t}\r\n\r\n\tobj[eventsKey] = obj[eventsKey] || {};\r\n\tobj[eventsKey][id] = handler;\r\n}\r\n\r\nfunction removeOne(obj, type, fn, context) {\r\n\r\n\tvar id = type + stamp(fn) + (context ? '_' + stamp(context) : ''),\r\n\t    handler = obj[eventsKey] && obj[eventsKey][id];\r\n\r\n\tif (!handler) { return this; }\r\n\r\n\tif (pointer && type.indexOf('touch') === 0) {\r\n\t\tremovePointerListener(obj, type, id);\r\n\r\n\t} else if (touch && (type === 'dblclick') && !browserFiresNativeDblClick()) {\r\n\t\tremoveDoubleTapListener(obj, id);\r\n\r\n\t} else if ('removeEventListener' in obj) {\r\n\r\n\t\tobj.removeEventListener(mouseSubst[type] || type, handler, false);\r\n\r\n\t} else if ('detachEvent' in obj) {\r\n\t\tobj.detachEvent('on' + type, handler);\r\n\t}\r\n\r\n\tobj[eventsKey][id] = null;\r\n}\r\n\r\n// @function stopPropagation(ev: DOMEvent): this\r\n// Stop the given event from propagation to parent elements. Used inside the listener functions:\r\n// ```js\r\n// L.DomEvent.on(div, 'click', function (ev) {\r\n// \tL.DomEvent.stopPropagation(ev);\r\n// });\r\n// ```\r\nfunction stopPropagation(e) {\r\n\r\n\tif (e.stopPropagation) {\r\n\t\te.stopPropagation();\r\n\t} else if (e.originalEvent) {  // In case of Leaflet event.\r\n\t\te.originalEvent._stopped = true;\r\n\t} else {\r\n\t\te.cancelBubble = true;\r\n\t}\r\n\tskipped(e);\r\n\r\n\treturn this;\r\n}\r\n\r\n// @function disableScrollPropagation(el: HTMLElement): this\r\n// Adds `stopPropagation` to the element's `'wheel'` events (plus browser variants).\r\nfunction disableScrollPropagation(el) {\r\n\taddOne(el, 'wheel', stopPropagation);\r\n\treturn this;\r\n}\r\n\r\n// @function disableClickPropagation(el: HTMLElement): this\r\n// Adds `stopPropagation` to the element's `'click'`, `'doubleclick'`,\r\n// `'mousedown'` and `'touchstart'` events (plus browser variants).\r\nfunction disableClickPropagation(el) {\r\n\ton(el, 'mousedown touchstart dblclick', stopPropagation);\r\n\taddOne(el, 'click', fakeStop);\r\n\treturn this;\r\n}\r\n\r\n// @function preventDefault(ev: DOMEvent): this\r\n// Prevents the default action of the DOM Event `ev` from happening (such as\r\n// following a link in the href of the a element, or doing a POST request\r\n// with page reload when a `<form>` is submitted).\r\n// Use it inside listener functions.\r\nfunction preventDefault(e) {\r\n\tif (e.preventDefault) {\r\n\t\te.preventDefault();\r\n\t} else {\r\n\t\te.returnValue = false;\r\n\t}\r\n\treturn this;\r\n}\r\n\r\n// @function stop(ev: DOMEvent): this\r\n// Does `stopPropagation` and `preventDefault` at the same time.\r\nfunction stop(e) {\r\n\tpreventDefault(e);\r\n\tstopPropagation(e);\r\n\treturn this;\r\n}\r\n\r\n// @function getMousePosition(ev: DOMEvent, container?: HTMLElement): Point\r\n// Gets normalized mouse position from a DOM event relative to the\r\n// `container` (border excluded) or to the whole page if not specified.\r\nfunction getMousePosition(e, container) {\r\n\tif (!container) {\r\n\t\treturn new Point(e.clientX, e.clientY);\r\n\t}\r\n\r\n\tvar scale = getScale(container),\r\n\t    offset = scale.boundingClientRect; // left and top  values are in page scale (like the event clientX/Y)\r\n\r\n\treturn new Point(\r\n\t\t// offset.left/top values are in page scale (like clientX/Y),\r\n\t\t// whereas clientLeft/Top (border width) values are the original values (before CSS scale applies).\r\n\t\t(e.clientX - offset.left) / scale.x - container.clientLeft,\r\n\t\t(e.clientY - offset.top) / scale.y - container.clientTop\r\n\t);\r\n}\r\n\r\n// Chrome on Win scrolls double the pixels as in other platforms (see #4538),\r\n// and Firefox scrolls device pixels, not CSS pixels\r\nvar wheelPxFactor =\r\n\t(win && chrome) ? 2 * window.devicePixelRatio :\r\n\tgecko ? window.devicePixelRatio : 1;\r\n\r\n// @function getWheelDelta(ev: DOMEvent): Number\r\n// Gets normalized wheel delta from a wheel DOM event, in vertical\r\n// pixels scrolled (negative if scrolling down).\r\n// Events from pointing devices without precise scrolling are mapped to\r\n// a best guess of 60 pixels.\r\nfunction getWheelDelta(e) {\r\n\treturn (edge) ? e.wheelDeltaY / 2 : // Don't trust window-geometry-based delta\r\n\t       (e.deltaY && e.deltaMode === 0) ? -e.deltaY / wheelPxFactor : // Pixels\r\n\t       (e.deltaY && e.deltaMode === 1) ? -e.deltaY * 20 : // Lines\r\n\t       (e.deltaY && e.deltaMode === 2) ? -e.deltaY * 60 : // Pages\r\n\t       (e.deltaX || e.deltaZ) ? 0 :\t// Skip horizontal/depth wheel events\r\n\t       e.wheelDelta ? (e.wheelDeltaY || e.wheelDelta) / 2 : // Legacy IE pixels\r\n\t       (e.detail && Math.abs(e.detail) < 32765) ? -e.detail * 20 : // Legacy Moz lines\r\n\t       e.detail ? e.detail / -32765 * 60 : // Legacy Moz pages\r\n\t       0;\r\n}\r\n\r\nvar skipEvents = {};\r\n\r\nfunction fakeStop(e) {\r\n\t// fakes stopPropagation by setting a special event flag, checked/reset with skipped(e)\r\n\tskipEvents[e.type] = true;\r\n}\r\n\r\nfunction skipped(e) {\r\n\tvar events = skipEvents[e.type];\r\n\t// reset when checking, as it's only used in map container and propagates outside of the map\r\n\tskipEvents[e.type] = false;\r\n\treturn events;\r\n}\r\n\r\n// check if element really left/entered the event target (for mouseenter/mouseleave)\r\nfunction isExternalTarget(el, e) {\r\n\r\n\tvar related = e.relatedTarget;\r\n\r\n\tif (!related) { return true; }\r\n\r\n\ttry {\r\n\t\twhile (related && (related !== el)) {\r\n\t\t\trelated = related.parentNode;\r\n\t\t}\r\n\t} catch (err) {\r\n\t\treturn false;\r\n\t}\r\n\treturn (related !== el);\r\n}\n\n/*\n * @class PosAnimation\n * @aka L.PosAnimation\n * @inherits Evented\n * Used internally for panning animations, utilizing CSS3 Transitions for modern browsers and a timer fallback for IE6-9.\n *\n * @example\n * ```js\n * var fx = new L.PosAnimation();\n * fx.run(el, [300, 500], 0.5);\n * ```\n *\n * @constructor L.PosAnimation()\n * Creates a `PosAnimation` object.\n *\n */\n\nvar PosAnimation = Evented.extend({\n\n\t// @method run(el: HTMLElement, newPos: Point, duration?: Number, easeLinearity?: Number)\n\t// Run an animation of a given element to a new position, optionally setting\n\t// duration in seconds (`0.25` by default) and easing linearity factor (3rd\n\t// argument of the [cubic bezier curve](http://cubic-bezier.com/#0,0,.5,1),\n\t// `0.5` by default).\n\trun: function (el, newPos, duration, easeLinearity) {\n\t\tthis.stop();\n\n\t\tthis._el = el;\n\t\tthis._inProgress = true;\n\t\tthis._duration = duration || 0.25;\n\t\tthis._easeOutPower = 1 / Math.max(easeLinearity || 0.5, 0.2);\n\n\t\tthis._startPos = getPosition(el);\n\t\tthis._offset = newPos.subtract(this._startPos);\n\t\tthis._startTime = +new Date();\n\n\t\t// @event start: Event\n\t\t// Fired when the animation starts\n\t\tthis.fire('start');\n\n\t\tthis._animate();\n\t},\n\n\t// @method stop()\n\t// Stops the animation (if currently running).\n\tstop: function () {\n\t\tif (!this._inProgress) { return; }\n\n\t\tthis._step(true);\n\t\tthis._complete();\n\t},\n\n\t_animate: function () {\n\t\t// animation loop\n\t\tthis._animId = requestAnimFrame(this._animate, this);\n\t\tthis._step();\n\t},\n\n\t_step: function (round) {\n\t\tvar elapsed = (+new Date()) - this._startTime,\n\t\t    duration = this._duration * 1000;\n\n\t\tif (elapsed < duration) {\n\t\t\tthis._runFrame(this._easeOut(elapsed / duration), round);\n\t\t} else {\n\t\t\tthis._runFrame(1);\n\t\t\tthis._complete();\n\t\t}\n\t},\n\n\t_runFrame: function (progress, round) {\n\t\tvar pos = this._startPos.add(this._offset.multiplyBy(progress));\n\t\tif (round) {\n\t\t\tpos._round();\n\t\t}\n\t\tsetPosition(this._el, pos);\n\n\t\t// @event step: Event\n\t\t// Fired continuously during the animation.\n\t\tthis.fire('step');\n\t},\n\n\t_complete: function () {\n\t\tcancelAnimFrame(this._animId);\n\n\t\tthis._inProgress = false;\n\t\t// @event end: Event\n\t\t// Fired when the animation ends.\n\t\tthis.fire('end');\n\t},\n\n\t_easeOut: function (t) {\n\t\treturn 1 - Math.pow(1 - t, this._easeOutPower);\n\t}\n});\n\n/*\r\n * @class Map\r\n * @aka L.Map\r\n * @inherits Evented\r\n *\r\n * The central class of the API  it is used to create a map on a page and manipulate it.\r\n *\r\n * @example\r\n *\r\n * ```js\r\n * // initialize the map on the \"map\" div with a given center and zoom\r\n * var map = L.map('map', {\r\n * \tcenter: [51.505, -0.09],\r\n * \tzoom: 13\r\n * });\r\n * ```\r\n *\r\n */\r\n\r\nvar Map = Evented.extend({\r\n\r\n\toptions: {\r\n\t\t// @section Map State Options\r\n\t\t// @option crs: CRS = L.CRS.EPSG3857\r\n\t\t// The [Coordinate Reference System](#crs) to use. Don't change this if you're not\r\n\t\t// sure what it means.\r\n\t\tcrs: EPSG3857,\r\n\r\n\t\t// @option center: LatLng = undefined\r\n\t\t// Initial geographic center of the map\r\n\t\tcenter: undefined,\r\n\r\n\t\t// @option zoom: Number = undefined\r\n\t\t// Initial map zoom level\r\n\t\tzoom: undefined,\r\n\r\n\t\t// @option minZoom: Number = *\r\n\t\t// Minimum zoom level of the map.\r\n\t\t// If not specified and at least one `GridLayer` or `TileLayer` is in the map,\r\n\t\t// the lowest of their `minZoom` options will be used instead.\r\n\t\tminZoom: undefined,\r\n\r\n\t\t// @option maxZoom: Number = *\r\n\t\t// Maximum zoom level of the map.\r\n\t\t// If not specified and at least one `GridLayer` or `TileLayer` is in the map,\r\n\t\t// the highest of their `maxZoom` options will be used instead.\r\n\t\tmaxZoom: undefined,\r\n\r\n\t\t// @option layers: Layer[] = []\r\n\t\t// Array of layers that will be added to the map initially\r\n\t\tlayers: [],\r\n\r\n\t\t// @option maxBounds: LatLngBounds = null\r\n\t\t// When this option is set, the map restricts the view to the given\r\n\t\t// geographical bounds, bouncing the user back if the user tries to pan\r\n\t\t// outside the view. To set the restriction dynamically, use\r\n\t\t// [`setMaxBounds`](#map-setmaxbounds) method.\r\n\t\tmaxBounds: undefined,\r\n\r\n\t\t// @option renderer: Renderer = *\r\n\t\t// The default method for drawing vector layers on the map. `L.SVG`\r\n\t\t// or `L.Canvas` by default depending on browser support.\r\n\t\trenderer: undefined,\r\n\r\n\r\n\t\t// @section Animation Options\r\n\t\t// @option zoomAnimation: Boolean = true\r\n\t\t// Whether the map zoom animation is enabled. By default it's enabled\r\n\t\t// in all browsers that support CSS3 Transitions except Android.\r\n\t\tzoomAnimation: true,\r\n\r\n\t\t// @option zoomAnimationThreshold: Number = 4\r\n\t\t// Won't animate zoom if the zoom difference exceeds this value.\r\n\t\tzoomAnimationThreshold: 4,\r\n\r\n\t\t// @option fadeAnimation: Boolean = true\r\n\t\t// Whether the tile fade animation is enabled. By default it's enabled\r\n\t\t// in all browsers that support CSS3 Transitions except Android.\r\n\t\tfadeAnimation: true,\r\n\r\n\t\t// @option markerZoomAnimation: Boolean = true\r\n\t\t// Whether markers animate their zoom with the zoom animation, if disabled\r\n\t\t// they will disappear for the length of the animation. By default it's\r\n\t\t// enabled in all browsers that support CSS3 Transitions except Android.\r\n\t\tmarkerZoomAnimation: true,\r\n\r\n\t\t// @option transform3DLimit: Number = 2^23\r\n\t\t// Defines the maximum size of a CSS translation transform. The default\r\n\t\t// value should not be changed unless a web browser positions layers in\r\n\t\t// the wrong place after doing a large `panBy`.\r\n\t\ttransform3DLimit: 8388608, // Precision limit of a 32-bit float\r\n\r\n\t\t// @section Interaction Options\r\n\t\t// @option zoomSnap: Number = 1\r\n\t\t// Forces the map's zoom level to always be a multiple of this, particularly\r\n\t\t// right after a [`fitBounds()`](#map-fitbounds) or a pinch-zoom.\r\n\t\t// By default, the zoom level snaps to the nearest integer; lower values\r\n\t\t// (e.g. `0.5` or `0.1`) allow for greater granularity. A value of `0`\r\n\t\t// means the zoom level will not be snapped after `fitBounds` or a pinch-zoom.\r\n\t\tzoomSnap: 1,\r\n\r\n\t\t// @option zoomDelta: Number = 1\r\n\t\t// Controls how much the map's zoom level will change after a\r\n\t\t// [`zoomIn()`](#map-zoomin), [`zoomOut()`](#map-zoomout), pressing `+`\r\n\t\t// or `-` on the keyboard, or using the [zoom controls](#control-zoom).\r\n\t\t// Values smaller than `1` (e.g. `0.5`) allow for greater granularity.\r\n\t\tzoomDelta: 1,\r\n\r\n\t\t// @option trackResize: Boolean = true\r\n\t\t// Whether the map automatically handles browser window resize to update itself.\r\n\t\ttrackResize: true\r\n\t},\r\n\r\n\tinitialize: function (id, options) { // (HTMLElement or String, Object)\r\n\t\toptions = setOptions(this, options);\r\n\r\n\t\t// Make sure to assign internal flags at the beginning,\r\n\t\t// to avoid inconsistent state in some edge cases.\r\n\t\tthis._handlers = [];\r\n\t\tthis._layers = {};\r\n\t\tthis._zoomBoundLayers = {};\r\n\t\tthis._sizeChanged = true;\r\n\r\n\t\tthis._initContainer(id);\r\n\t\tthis._initLayout();\r\n\r\n\t\t// hack for https://github.com/Leaflet/Leaflet/issues/1980\r\n\t\tthis._onResize = bind(this._onResize, this);\r\n\r\n\t\tthis._initEvents();\r\n\r\n\t\tif (options.maxBounds) {\r\n\t\t\tthis.setMaxBounds(options.maxBounds);\r\n\t\t}\r\n\r\n\t\tif (options.zoom !== undefined) {\r\n\t\t\tthis._zoom = this._limitZoom(options.zoom);\r\n\t\t}\r\n\r\n\t\tif (options.center && options.zoom !== undefined) {\r\n\t\t\tthis.setView(toLatLng(options.center), options.zoom, {reset: true});\r\n\t\t}\r\n\r\n\t\tthis.callInitHooks();\r\n\r\n\t\t// don't animate on browsers without hardware-accelerated transitions or old Android/Opera\r\n\t\tthis._zoomAnimated = TRANSITION && any3d && !mobileOpera &&\r\n\t\t\t\tthis.options.zoomAnimation;\r\n\r\n\t\t// zoom transitions run with the same duration for all layers, so if one of transitionend events\r\n\t\t// happens after starting zoom animation (propagating to the map pane), we know that it ended globally\r\n\t\tif (this._zoomAnimated) {\r\n\t\t\tthis._createAnimProxy();\r\n\t\t\ton(this._proxy, TRANSITION_END, this._catchTransitionEnd, this);\r\n\t\t}\r\n\r\n\t\tthis._addLayers(this.options.layers);\r\n\t},\r\n\r\n\r\n\t// @section Methods for modifying map state\r\n\r\n\t// @method setView(center: LatLng, zoom: Number, options?: Zoom/pan options): this\r\n\t// Sets the view of the map (geographical center and zoom) with the given\r\n\t// animation options.\r\n\tsetView: function (center, zoom, options) {\r\n\r\n\t\tzoom = zoom === undefined ? this._zoom : this._limitZoom(zoom);\r\n\t\tcenter = this._limitCenter(toLatLng(center), zoom, this.options.maxBounds);\r\n\t\toptions = options || {};\r\n\r\n\t\tthis._stop();\r\n\r\n\t\tif (this._loaded && !options.reset && options !== true) {\r\n\r\n\t\t\tif (options.animate !== undefined) {\r\n\t\t\t\toptions.zoom = extend({animate: options.animate}, options.zoom);\r\n\t\t\t\toptions.pan = extend({animate: options.animate, duration: options.duration}, options.pan);\r\n\t\t\t}\r\n\r\n\t\t\t// try animating pan or zoom\r\n\t\t\tvar moved = (this._zoom !== zoom) ?\r\n\t\t\t\tthis._tryAnimatedZoom && this._tryAnimatedZoom(center, zoom, options.zoom) :\r\n\t\t\t\tthis._tryAnimatedPan(center, options.pan);\r\n\r\n\t\t\tif (moved) {\r\n\t\t\t\t// prevent resize handler call, the view will refresh after animation anyway\r\n\t\t\t\tclearTimeout(this._sizeTimer);\r\n\t\t\t\treturn this;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// animation didn't start, just reset the map view\r\n\t\tthis._resetView(center, zoom);\r\n\r\n\t\treturn this;\r\n\t},\r\n\r\n\t// @method setZoom(zoom: Number, options?: Zoom/pan options): this\r\n\t// Sets the zoom of the map.\r\n\tsetZoom: function (zoom, options) {\r\n\t\tif (!this._loaded) {\r\n\t\t\tthis._zoom = zoom;\r\n\t\t\treturn this;\r\n\t\t}\r\n\t\treturn this.setView(this.getCenter(), zoom, {zoom: options});\r\n\t},\r\n\r\n\t// @method zoomIn(delta?: Number, options?: Zoom options): this\r\n\t// Increases the zoom of the map by `delta` ([`zoomDelta`](#map-zoomdelta) by default).\r\n\tzoomIn: function (delta, options) {\r\n\t\tdelta = delta || (any3d ? this.options.zoomDelta : 1);\r\n\t\treturn this.setZoom(this._zoom + delta, options);\r\n\t},\r\n\r\n\t// @method zoomOut(delta?: Number, options?: Zoom options): this\r\n\t// Decreases the zoom of the map by `delta` ([`zoomDelta`](#map-zoomdelta) by default).\r\n\tzoomOut: function (delta, options) {\r\n\t\tdelta = delta || (any3d ? this.options.zoomDelta : 1);\r\n\t\treturn this.setZoom(this._zoom - delta, options);\r\n\t},\r\n\r\n\t// @method setZoomAround(latlng: LatLng, zoom: Number, options: Zoom options): this\r\n\t// Zooms the map while keeping a specified geographical point on the map\r\n\t// stationary (e.g. used internally for scroll zoom and double-click zoom).\r\n\t// @alternative\r\n\t// @method setZoomAround(offset: Point, zoom: Number, options: Zoom options): this\r\n\t// Zooms the map while keeping a specified pixel on the map (relative to the top-left corner) stationary.\r\n\tsetZoomAround: function (latlng, zoom, options) {\r\n\t\tvar scale = this.getZoomScale(zoom),\r\n\t\t    viewHalf = this.getSize().divideBy(2),\r\n\t\t    containerPoint = latlng instanceof Point ? latlng : this.latLngToContainerPoint(latlng),\r\n\r\n\t\t    centerOffset = containerPoint.subtract(viewHalf).multiplyBy(1 - 1 / scale),\r\n\t\t    newCenter = this.containerPointToLatLng(viewHalf.add(centerOffset));\r\n\r\n\t\treturn this.setView(newCenter, zoom, {zoom: options});\r\n\t},\r\n\r\n\t_getBoundsCenterZoom: function (bounds, options) {\r\n\r\n\t\toptions = options || {};\r\n\t\tbounds = bounds.getBounds ? bounds.getBounds() : toLatLngBounds(bounds);\r\n\r\n\t\tvar paddingTL = toPoint(options.paddingTopLeft || options.padding || [0, 0]),\r\n\t\t    paddingBR = toPoint(options.paddingBottomRight || options.padding || [0, 0]),\r\n\r\n\t\t    zoom = this.getBoundsZoom(bounds, false, paddingTL.add(paddingBR));\r\n\r\n\t\tzoom = (typeof options.maxZoom === 'number') ? Math.min(options.maxZoom, zoom) : zoom;\r\n\r\n\t\tif (zoom === Infinity) {\r\n\t\t\treturn {\r\n\t\t\t\tcenter: bounds.getCenter(),\r\n\t\t\t\tzoom: zoom\r\n\t\t\t};\r\n\t\t}\r\n\r\n\t\tvar paddingOffset = paddingBR.subtract(paddingTL).divideBy(2),\r\n\r\n\t\t    swPoint = this.project(bounds.getSouthWest(), zoom),\r\n\t\t    nePoint = this.project(bounds.getNorthEast(), zoom),\r\n\t\t    center = this.unproject(swPoint.add(nePoint).divideBy(2).add(paddingOffset), zoom);\r\n\r\n\t\treturn {\r\n\t\t\tcenter: center,\r\n\t\t\tzoom: zoom\r\n\t\t};\r\n\t},\r\n\r\n\t// @method fitBounds(bounds: LatLngBounds, options?: fitBounds options): this\r\n\t// Sets a map view that contains the given geographical bounds with the\r\n\t// maximum zoom level possible.\r\n\tfitBounds: function (bounds, options) {\r\n\r\n\t\tbounds = toLatLngBounds(bounds);\r\n\r\n\t\tif (!bounds.isValid()) {\r\n\t\t\tthrow new Error('Bounds are not valid.');\r\n\t\t}\r\n\r\n\t\tvar target = this._getBoundsCenterZoom(bounds, options);\r\n\t\treturn this.setView(target.center, target.zoom, options);\r\n\t},\r\n\r\n\t// @method fitWorld(options?: fitBounds options): this\r\n\t// Sets a map view that mostly contains the whole world with the maximum\r\n\t// zoom level possible.\r\n\tfitWorld: function (options) {\r\n\t\treturn this.fitBounds([[-90, -180], [90, 180]], options);\r\n\t},\r\n\r\n\t// @method panTo(latlng: LatLng, options?: Pan options): this\r\n\t// Pans the map to a given center.\r\n\tpanTo: function (center, options) { // (LatLng)\r\n\t\treturn this.setView(center, this._zoom, {pan: options});\r\n\t},\r\n\r\n\t// @method panBy(offset: Point, options?: Pan options): this\r\n\t// Pans the map by a given number of pixels (animated).\r\n\tpanBy: function (offset, options) {\r\n\t\toffset = toPoint(offset).round();\r\n\t\toptions = options || {};\r\n\r\n\t\tif (!offset.x && !offset.y) {\r\n\t\t\treturn this.fire('moveend');\r\n\t\t}\r\n\t\t// If we pan too far, Chrome gets issues with tiles\r\n\t\t// and makes them disappear or appear in the wrong place (slightly offset) #2602\r\n\t\tif (options.animate !== true && !this.getSize().contains(offset)) {\r\n\t\t\tthis._resetView(this.unproject(this.project(this.getCenter()).add(offset)), this.getZoom());\r\n\t\t\treturn this;\r\n\t\t}\r\n\r\n\t\tif (!this._panAnim) {\r\n\t\t\tthis._panAnim = new PosAnimation();\r\n\r\n\t\t\tthis._panAnim.on({\r\n\t\t\t\t'step': this._onPanTransitionStep,\r\n\t\t\t\t'end': this._onPanTransitionEnd\r\n\t\t\t}, this);\r\n\t\t}\r\n\r\n\t\t// don't fire movestart if animating inertia\r\n\t\tif (!options.noMoveStart) {\r\n\t\t\tthis.fire('movestart');\r\n\t\t}\r\n\r\n\t\t// animate pan unless animate: false specified\r\n\t\tif (options.animate !== false) {\r\n\t\t\taddClass(this._mapPane, 'leaflet-pan-anim');\r\n\r\n\t\t\tvar newPos = this._getMapPanePos().subtract(offset).round();\r\n\t\t\tthis._panAnim.run(this._mapPane, newPos, options.duration || 0.25, options.easeLinearity);\r\n\t\t} else {\r\n\t\t\tthis._rawPanBy(offset);\r\n\t\t\tthis.fire('move').fire('moveend');\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\t},\r\n\r\n\t// @method flyTo(latlng: LatLng, zoom?: Number, options?: Zoom/pan options): this\r\n\t// Sets the view of the map (geographical center and zoom) performing a smooth\r\n\t// pan-zoom animation.\r\n\tflyTo: function (targetCenter, targetZoom, options) {\r\n\r\n\t\toptions = options || {};\r\n\t\tif (options.animate === false || !any3d) {\r\n\t\t\treturn this.setView(targetCenter, targetZoom, options);\r\n\t\t}\r\n\r\n\t\tthis._stop();\r\n\r\n\t\tvar from = this.project(this.getCenter()),\r\n\t\t    to = this.project(targetCenter),\r\n\t\t    size = this.getSize(),\r\n\t\t    startZoom = this._zoom;\r\n\r\n\t\ttargetCenter = toLatLng(targetCenter);\r\n\t\ttargetZoom = targetZoom === undefined ? startZoom : targetZoom;\r\n\r\n\t\tvar w0 = Math.max(size.x, size.y),\r\n\t\t    w1 = w0 * this.getZoomScale(startZoom, targetZoom),\r\n\t\t    u1 = (to.distanceTo(from)) || 1,\r\n\t\t    rho = 1.42,\r\n\t\t    rho2 = rho * rho;\r\n\r\n\t\tfunction r(i) {\r\n\t\t\tvar s1 = i ? -1 : 1,\r\n\t\t\t    s2 = i ? w1 : w0,\r\n\t\t\t    t1 = w1 * w1 - w0 * w0 + s1 * rho2 * rho2 * u1 * u1,\r\n\t\t\t    b1 = 2 * s2 * rho2 * u1,\r\n\t\t\t    b = t1 / b1,\r\n\t\t\t    sq = Math.sqrt(b * b + 1) - b;\r\n\r\n\t\t\t    // workaround for floating point precision bug when sq = 0, log = -Infinite,\r\n\t\t\t    // thus triggering an infinite loop in flyTo\r\n\t\t\t    var log = sq < 0.000000001 ? -18 : Math.log(sq);\r\n\r\n\t\t\treturn log;\r\n\t\t}\r\n\r\n\t\tfunction sinh(n) { return (Math.exp(n) - Math.exp(-n)) / 2; }\r\n\t\tfunction cosh(n) { return (Math.exp(n) + Math.exp(-n)) / 2; }\r\n\t\tfunction tanh(n) { return sinh(n) / cosh(n); }\r\n\r\n\t\tvar r0 = r(0);\r\n\r\n\t\tfunction w(s) { return w0 * (cosh(r0) / cosh(r0 + rho * s)); }\r\n\t\tfunction u(s) { return w0 * (cosh(r0) * tanh(r0 + rho * s) - sinh(r0)) / rho2; }\r\n\r\n\t\tfunction easeOut(t) { return 1 - Math.pow(1 - t, 1.5); }\r\n\r\n\t\tvar start = Date.now(),\r\n\t\t    S = (r(1) - r0) / rho,\r\n\t\t    duration = options.duration ? 1000 * options.duration : 1000 * S * 0.8;\r\n\r\n\t\tfunction frame() {\r\n\t\t\tvar t = (Date.now() - start) / duration,\r\n\t\t\t    s = easeOut(t) * S;\r\n\r\n\t\t\tif (t <= 1) {\r\n\t\t\t\tthis._flyToFrame = requestAnimFrame(frame, this);\r\n\r\n\t\t\t\tthis._move(\r\n\t\t\t\t\tthis.unproject(from.add(to.subtract(from).multiplyBy(u(s) / u1)), startZoom),\r\n\t\t\t\t\tthis.getScaleZoom(w0 / w(s), startZoom),\r\n\t\t\t\t\t{flyTo: true});\r\n\r\n\t\t\t} else {\r\n\t\t\t\tthis\r\n\t\t\t\t\t._move(targetCenter, targetZoom)\r\n\t\t\t\t\t._moveEnd(true);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tthis._moveStart(true, options.noMoveStart);\r\n\r\n\t\tframe.call(this);\r\n\t\treturn this;\r\n\t},\r\n\r\n\t// @method flyToBounds(bounds: LatLngBounds, options?: fitBounds options): this\r\n\t// Sets the view of the map with a smooth animation like [`flyTo`](#map-flyto),\r\n\t// but takes a bounds parameter like [`fitBounds`](#map-fitbounds).\r\n\tflyToBounds: function (bounds, options) {\r\n\t\tvar target = this._getBoundsCenterZoom(bounds, options);\r\n\t\treturn this.flyTo(target.center, target.zoom, options);\r\n\t},\r\n\r\n\t// @method setMaxBounds(bounds: LatLngBounds): this\r\n\t// Restricts the map view to the given bounds (see the [maxBounds](#map-maxbounds) option).\r\n\tsetMaxBounds: function (bounds) {\r\n\t\tbounds = toLatLngBounds(bounds);\r\n\r\n\t\tif (!bounds.isValid()) {\r\n\t\t\tthis.options.maxBounds = null;\r\n\t\t\treturn this.off('moveend', this._panInsideMaxBounds);\r\n\t\t} else if (this.options.maxBounds) {\r\n\t\t\tthis.off('moveend', this._panInsideMaxBounds);\r\n\t\t}\r\n\r\n\t\tthis.options.maxBounds = bounds;\r\n\r\n\t\tif (this._loaded) {\r\n\t\t\tthis._panInsideMaxBounds();\r\n\t\t}\r\n\r\n\t\treturn this.on('moveend', this._panInsideMaxBounds);\r\n\t},\r\n\r\n\t// @method setMinZoom(zoom: Number): this\r\n\t// Sets the lower limit for the available zoom levels (see the [minZoom](#map-minzoom) option).\r\n\tsetMinZoom: function (zoom) {\r\n\t\tvar oldZoom = this.options.minZoom;\r\n\t\tthis.options.minZoom = zoom;\r\n\r\n\t\tif (this._loaded && oldZoom !== zoom) {\r\n\t\t\tthis.fire('zoomlevelschange');\r\n\r\n\t\t\tif (this.getZoom() < this.options.minZoom) {\r\n\t\t\t\treturn this.setZoom(zoom);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\t},\r\n\r\n\t// @method setMaxZoom(zoom: Number): this\r\n\t// Sets the upper limit for the available zoom levels (see the [maxZoom](#map-maxzoom) option).\r\n\tsetMaxZoom: function (zoom) {\r\n\t\tvar oldZoom = this.options.maxZoom;\r\n\t\tthis.options.maxZoom = zoom;\r\n\r\n\t\tif (this._loaded && oldZoom !== zoom) {\r\n\t\t\tthis.fire('zoomlevelschange');\r\n\r\n\t\t\tif (this.getZoom() > this.options.maxZoom) {\r\n\t\t\t\treturn this.setZoom(zoom);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\t},\r\n\r\n\t// @method panInsideBounds(bounds: LatLngBounds, options?: Pan options): this\r\n\t// Pans the map to the closest view that would lie inside the given bounds (if it's not already), controlling the animation using the options specific, if any.\r\n\tpanInsideBounds: function (bounds, options) {\r\n\t\tthis._enforcingBounds = true;\r\n\t\tvar center = this.getCenter(),\r\n\t\t    newCenter = this._limitCenter(center, this._zoom, toLatLngBounds(bounds));\r\n\r\n\t\tif (!center.equals(newCenter)) {\r\n\t\t\tthis.panTo(newCenter, options);\r\n\t\t}\r\n\r\n\t\tthis._enforcingBounds = false;\r\n\t\treturn this;\r\n\t},\r\n\r\n\t// @method panInside(latlng: LatLng, options?: options): this\r\n\t// Pans the map the minimum amount to make the `latlng` visible. Use\r\n\t// `padding`, `paddingTopLeft` and `paddingTopRight` options to fit\r\n\t// the display to more restricted bounds, like [`fitBounds`](#map-fitbounds).\r\n\t// If `latlng` is already within the (optionally padded) display bounds,\r\n\t// the map will not be panned.\r\n\tpanInside: function (latlng, options) {\r\n\t\toptions = options || {};\r\n\r\n\t\tvar paddingTL = toPoint(options.paddingTopLeft || options.padding || [0, 0]),\r\n\t\t    paddingBR = toPoint(options.paddingBottomRight || options.padding || [0, 0]),\r\n\t\t    center = this.getCenter(),\r\n\t\t    pixelCenter = this.project(center),\r\n\t\t    pixelPoint = this.project(latlng),\r\n\t\t    pixelBounds = this.getPixelBounds(),\r\n\t\t    halfPixelBounds = pixelBounds.getSize().divideBy(2),\r\n\t\t    paddedBounds = toBounds([pixelBounds.min.add(paddingTL), pixelBounds.max.subtract(paddingBR)]);\r\n\r\n\t\tif (!paddedBounds.contains(pixelPoint)) {\r\n\t\t\tthis._enforcingBounds = true;\r\n\t\t\tvar diff = pixelCenter.subtract(pixelPoint),\r\n\t\t\t    newCenter = toPoint(pixelPoint.x + diff.x, pixelPoint.y + diff.y);\r\n\r\n\t\t\tif (pixelPoint.x < paddedBounds.min.x || pixelPoint.x > paddedBounds.max.x) {\r\n\t\t\t\tnewCenter.x = pixelCenter.x - diff.x;\r\n\t\t\t\tif (diff.x > 0) {\r\n\t\t\t\t\tnewCenter.x += halfPixelBounds.x - paddingTL.x;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnewCenter.x -= halfPixelBounds.x - paddingBR.x;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (pixelPoint.y < paddedBounds.min.y || pixelPoint.y > paddedBounds.max.y) {\r\n\t\t\t\tnewCenter.y = pixelCenter.y - diff.y;\r\n\t\t\t\tif (diff.y > 0) {\r\n\t\t\t\t\tnewCenter.y += halfPixelBounds.y - paddingTL.y;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnewCenter.y -= halfPixelBounds.y - paddingBR.y;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tthis.panTo(this.unproject(newCenter), options);\r\n\t\t\tthis._enforcingBounds = false;\r\n\t\t}\r\n\t\treturn this;\r\n\t},\r\n\r\n\t// @method invalidateSize(options: Zoom/pan options): this\r\n\t// Checks if the map container size changed and updates the map if so \r\n\t// call it after you've changed the map size dynamically, also animating\r\n\t// pan by default. If `options.pan` is `false`, panning will not occur.\r\n\t// If `options.debounceMoveend` is `true`, it will delay `moveend` event so\r\n\t// that it doesn't happen often even if the method is called many\r\n\t// times in a row.\r\n\r\n\t// @alternative\r\n\t// @method invalidateSize(animate: Boolean): this\r\n\t// Checks if the map container size changed and updates the map if so \r\n\t// call it after you've changed the map size dynamically, also animating\r\n\t// pan by default.\r\n\tinvalidateSize: function (options) {\r\n\t\tif (!this._loaded) { return this; }\r\n\r\n\t\toptions = extend({\r\n\t\t\tanimate: false,\r\n\t\t\tpan: true\r\n\t\t}, options === true ? {animate: true} : options);\r\n\r\n\t\tvar oldSize = this.getSize();\r\n\t\tthis._sizeChanged = true;\r\n\t\tthis._lastCenter = null;\r\n\r\n\t\tvar newSize = this.getSize(),\r\n\t\t    oldCenter = oldSize.divideBy(2).round(),\r\n\t\t    newCenter = newSize.divideBy(2).round(),\r\n\t\t    offset = oldCenter.subtract(newCenter);\r\n\r\n\t\tif (!offset.x && !offset.y) { return this; }\r\n\r\n\t\tif (options.animate && options.pan) {\r\n\t\t\tthis.panBy(offset);\r\n\r\n\t\t} else {\r\n\t\t\tif (options.pan) {\r\n\t\t\t\tthis._rawPanBy(offset);\r\n\t\t\t}\r\n\r\n\t\t\tthis.fire('move');\r\n\r\n\t\t\tif (options.debounceMoveend) {\r\n\t\t\t\tclearTimeout(this._sizeTimer);\r\n\t\t\t\tthis._sizeTimer = setTimeout(bind(this.fire, this, 'moveend'), 200);\r\n\t\t\t} else {\r\n\t\t\t\tthis.fire('moveend');\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// @section Map state change events\r\n\t\t// @event resize: ResizeEvent\r\n\t\t// Fired when the map is resized.\r\n\t\treturn this.fire('resize', {\r\n\t\t\toldSize: oldSize,\r\n\t\t\tnewSize: newSize\r\n\t\t});\r\n\t},\r\n\r\n\t// @section Methods for modifying map state\r\n\t// @method stop(): this\r\n\t// Stops the currently running `panTo` or `flyTo` animation, if any.\r\n\tstop: function () {\r\n\t\tthis.setZoom(this._limitZoom(this._zoom));\r\n\t\tif (!this.options.zoomSnap) {\r\n\t\t\tthis.fire('viewreset');\r\n\t\t}\r\n\t\treturn this._stop();\r\n\t},\r\n\r\n\t// @section Geolocation methods\r\n\t// @method locate(options?: Locate options): this\r\n\t// Tries to locate the user using the Geolocation API, firing a [`locationfound`](#map-locationfound)\r\n\t// event with location data on success or a [`locationerror`](#map-locationerror) event on failure,\r\n\t// and optionally sets the map view to the user's location with respect to\r\n\t// detection accuracy (or to the world view if geolocation failed).\r\n\t// Note that, if your page doesn't use HTTPS, this method will fail in\r\n\t// modern browsers ([Chrome 50 and newer](https://sites.google.com/a/chromium.org/dev/Home/chromium-security/deprecating-powerful-features-on-insecure-origins))\r\n\t// See `Locate options` for more details.\r\n\tlocate: function (options) {\r\n\r\n\t\toptions = this._locateOptions = extend({\r\n\t\t\ttimeout: 10000,\r\n\t\t\twatch: false\r\n\t\t\t// setView: false\r\n\t\t\t// maxZoom: <Number>\r\n\t\t\t// maximumAge: 0\r\n\t\t\t// enableHighAccuracy: false\r\n\t\t}, options);\r\n\r\n\t\tif (!('geolocation' in navigator)) {\r\n\t\t\tthis._handleGeolocationError({\r\n\t\t\t\tcode: 0,\r\n\t\t\t\tmessage: 'Geolocation not supported.'\r\n\t\t\t});\r\n\t\t\treturn this;\r\n\t\t}\r\n\r\n\t\tvar onResponse = bind(this._handleGeolocationResponse, this),\r\n\t\t    onError = bind(this._handleGeolocationError, this);\r\n\r\n\t\tif (options.watch) {\r\n\t\t\tthis._locationWatchId =\r\n\t\t\t        navigator.geolocation.watchPosition(onResponse, onError, options);\r\n\t\t} else {\r\n\t\t\tnavigator.geolocation.getCurrentPosition(onResponse, onError, options);\r\n\t\t}\r\n\t\treturn this;\r\n\t},\r\n\r\n\t// @method stopLocate(): this\r\n\t// Stops watching location previously initiated by `map.locate({watch: true})`\r\n\t// and aborts resetting the map view if map.locate was called with\r\n\t// `{setView: true}`.\r\n\tstopLocate: function () {\r\n\t\tif (navigator.geolocation && navigator.geolocation.clearWatch) {\r\n\t\t\tnavigator.geolocation.clearWatch(this._locationWatchId);\r\n\t\t}\r\n\t\tif (this._locateOptions) {\r\n\t\t\tthis._locateOptions.setView = false;\r\n\t\t}\r\n\t\treturn this;\r\n\t},\r\n\r\n\t_handleGeolocationError: function (error) {\r\n\t\tvar c = error.code,\r\n\t\t    message = error.message ||\r\n\t\t            (c === 1 ? 'permission denied' :\r\n\t\t            (c === 2 ? 'position unavailable' : 'timeout'));\r\n\r\n\t\tif (this._locateOptions.setView && !this._loaded) {\r\n\t\t\tthis.fitWorld();\r\n\t\t}\r\n\r\n\t\t// @section Location events\r\n\t\t// @event locationerror: ErrorEvent\r\n\t\t// Fired when geolocation (using the [`locate`](#map-locate) method) failed.\r\n\t\tthis.fire('locationerror', {\r\n\t\t\tcode: c,\r\n\t\t\tmessage: 'Geolocation error: ' + message + '.'\r\n\t\t});\r\n\t},\r\n\r\n\t_handleGeolocationResponse: function (pos) {\r\n\t\tvar lat = pos.coords.latitude,\r\n\t\t    lng = pos.coords.longitude,\r\n\t\t    latlng = new LatLng(lat, lng),\r\n\t\t    bounds = latlng.toBounds(pos.coords.accuracy * 2),\r\n\t\t    options = this._locateOptions;\r\n\r\n\t\tif (options.setView) {\r\n\t\t\tvar zoom = this.getBoundsZoom(bounds);\r\n\t\t\tthis.setView(latlng, options.maxZoom ? Math.min(zoom, options.maxZoom) : zoom);\r\n\t\t}\r\n\r\n\t\tvar data = {\r\n\t\t\tlatlng: latlng,\r\n\t\t\tbounds: bounds,\r\n\t\t\ttimestamp: pos.timestamp\r\n\t\t};\r\n\r\n\t\tfor (var i in pos.coords) {\r\n\t\t\tif (typeof pos.coords[i] === 'number') {\r\n\t\t\t\tdata[i] = pos.coords[i];\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// @event locationfound: LocationEvent\r\n\t\t// Fired when geolocation (using the [`locate`](#map-locate) method)\r\n\t\t// went successfully.\r\n\t\tthis.fire('locationfound', data);\r\n\t},\r\n\r\n\t// TODO Appropriate docs section?\r\n\t// @section Other Methods\r\n\t// @method addHandler(name: String, HandlerClass: Function): this\r\n\t// Adds a new `Handler` to the map, given its name and constructor function.\r\n\taddHandler: function (name, HandlerClass) {\r\n\t\tif (!HandlerClass) { return this; }\r\n\r\n\t\tvar handler = this[name] = new HandlerClass(this);\r\n\r\n\t\tthis._handlers.push(handler);\r\n\r\n\t\tif (this.options[name]) {\r\n\t\t\thandler.enable();\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\t},\r\n\r\n\t// @method remove(): this\r\n\t// Destroys the map and clears all related event listeners.\r\n\tremove: function () {\r\n\r\n\t\tthis._initEvents(true);\r\n\t\tthis.off('moveend', this._panInsideMaxBounds);\r\n\r\n\t\tif (this._containerId !== this._container._leaflet_id) {\r\n\t\t\tthrow new Error('Map container is being reused by another instance');\r\n\t\t}\r\n\r\n\t\ttry {\r\n\t\t\t// throws error in IE6-8\r\n\t\t\tdelete this._container._leaflet_id;\r\n\t\t\tdelete this._containerId;\r\n\t\t} catch (e) {\r\n\t\t\t/*eslint-disable */\r\n\t\t\tthis._container._leaflet_id = undefined;\r\n\t\t\t/* eslint-enable */\r\n\t\t\tthis._containerId = undefined;\r\n\t\t}\r\n\r\n\t\tif (this._locationWatchId !== undefined) {\r\n\t\t\tthis.stopLocate();\r\n\t\t}\r\n\r\n\t\tthis._stop();\r\n\r\n\t\tremove(this._mapPane);\r\n\r\n\t\tif (this._clearControlPos) {\r\n\t\t\tthis._clearControlPos();\r\n\t\t}\r\n\t\tif (this._resizeRequest) {\r\n\t\t\tcancelAnimFrame(this._resizeRequest);\r\n\t\t\tthis._resizeRequest = null;\r\n\t\t}\r\n\r\n\t\tthis._clearHandlers();\r\n\r\n\t\tif (this._loaded) {\r\n\t\t\t// @section Map state change events\r\n\t\t\t// @event unload: Event\r\n\t\t\t// Fired when the map is destroyed with [remove](#map-remove) method.\r\n\t\t\tthis.fire('unload');\r\n\t\t}\r\n\r\n\t\tvar i;\r\n\t\tfor (i in this._layers) {\r\n\t\t\tthis._layers[i].remove();\r\n\t\t}\r\n\t\tfor (i in this._panes) {\r\n\t\t\tremove(this._panes[i]);\r\n\t\t}\r\n\r\n\t\tthis._layers = [];\r\n\t\tthis._panes = [];\r\n\t\tdelete this._mapPane;\r\n\t\tdelete this._renderer;\r\n\r\n\t\treturn this;\r\n\t},\r\n\r\n\t// @section Other Methods\r\n\t// @method createPane(name: String, container?: HTMLElement): HTMLElement\r\n\t// Creates a new [map pane](#map-pane) with the given name if it doesn't exist already,\r\n\t// then returns it. The pane is created as a child of `container`, or\r\n\t// as a child of the main map pane if not set.\r\n\tcreatePane: function (name, container) {\r\n\t\tvar className = 'leaflet-pane' + (name ? ' leaflet-' + name.replace('Pane', '') + '-pane' : ''),\r\n\t\t    pane = create$1('div', className, container || this._mapPane);\r\n\r\n\t\tif (name) {\r\n\t\t\tthis._panes[name] = pane;\r\n\t\t}\r\n\t\treturn pane;\r\n\t},\r\n\r\n\t// @section Methods for Getting Map State\r\n\r\n\t// @method getCenter(): LatLng\r\n\t// Returns the geographical center of the map view\r\n\tgetCenter: function () {\r\n\t\tthis._checkIfLoaded();\r\n\r\n\t\tif (this._lastCenter && !this._moved()) {\r\n\t\t\treturn this._lastCenter;\r\n\t\t}\r\n\t\treturn this.layerPointToLatLng(this._getCenterLayerPoint());\r\n\t},\r\n\r\n\t// @method getZoom(): Number\r\n\t// Returns the current zoom level of the map view\r\n\tgetZoom: function () {\r\n\t\treturn this._zoom;\r\n\t},\r\n\r\n\t// @method getBounds(): LatLngBounds\r\n\t// Returns the geographical bounds visible in the current map view\r\n\tgetBounds: function () {\r\n\t\tvar bounds = this.getPixelBounds(),\r\n\t\t    sw = this.unproject(bounds.getBottomLeft()),\r\n\t\t    ne = this.unproject(bounds.getTopRight());\r\n\r\n\t\treturn new LatLngBounds(sw, ne);\r\n\t},\r\n\r\n\t// @method getMinZoom(): Number\r\n\t// Returns the minimum zoom level of the map (if set in the `minZoom` option of the map or of any layers), or `0` by default.\r\n\tgetMinZoom: function () {\r\n\t\treturn this.options.minZoom === undefined ? this._layersMinZoom || 0 : this.options.minZoom;\r\n\t},\r\n\r\n\t// @method getMaxZoom(): Number\r\n\t// Returns the maximum zoom level of the map (if set in the `maxZoom` option of the map or of any layers).\r\n\tgetMaxZoom: function () {\r\n\t\treturn this.options.maxZoom === undefined ?\r\n\t\t\t(this._layersMaxZoom === undefined ? Infinity : this._layersMaxZoom) :\r\n\t\t\tthis.options.maxZoom;\r\n\t},\r\n\r\n\t// @method getBoundsZoom(bounds: LatLngBounds, inside?: Boolean, padding?: Point): Number\r\n\t// Returns the maximum zoom level on which the given bounds fit to the map\r\n\t// view in its entirety. If `inside` (optional) is set to `true`, the method\r\n\t// instead returns the minimum zoom level on which the map view fits into\r\n\t// the given bounds in its entirety.\r\n\tgetBoundsZoom: function (bounds, inside, padding) { // (LatLngBounds[, Boolean, Point]) -> Number\r\n\t\tbounds = toLatLngBounds(bounds);\r\n\t\tpadding = toPoint(padding || [0, 0]);\r\n\r\n\t\tvar zoom = this.getZoom() || 0,\r\n\t\t    min = this.getMinZoom(),\r\n\t\t    max = this.getMaxZoom(),\r\n\t\t    nw = bounds.getNorthWest(),\r\n\t\t    se = bounds.getSouthEast(),\r\n\t\t    size = this.getSize().subtract(padding),\r\n\t\t    boundsSize = toBounds(this.project(se, zoom), this.project(nw, zoom)).getSize(),\r\n\t\t    snap = any3d ? this.options.zoomSnap : 1,\r\n\t\t    scalex = size.x / boundsSize.x,\r\n\t\t    scaley = size.y / boundsSize.y,\r\n\t\t    scale = inside ? Math.max(scalex, scaley) : Math.min(scalex, scaley);\r\n\r\n\t\tzoom = this.getScaleZoom(scale, zoom);\r\n\r\n\t\tif (snap) {\r\n\t\t\tzoom = Math.round(zoom / (snap / 100)) * (snap / 100); // don't jump if within 1% of a snap level\r\n\t\t\tzoom = inside ? Math.ceil(zoom / snap) * snap : Math.floor(zoom / snap) * snap;\r\n\t\t}\r\n\r\n\t\treturn Math.max(min, Math.min(max, zoom));\r\n\t},\r\n\r\n\t// @method getSize(): Point\r\n\t// Returns the current size of the map container (in pixels).\r\n\tgetSize: function () {\r\n\t\tif (!this._size || this._sizeChanged) {\r\n\t\t\tthis._size = new Point(\r\n\t\t\t\tthis._container.clientWidth || 0,\r\n\t\t\t\tthis._container.clientHeight || 0);\r\n\r\n\t\t\tthis._sizeChanged = false;\r\n\t\t}\r\n\t\treturn this._size.clone();\r\n\t},\r\n\r\n\t// @method getPixelBounds(): Bounds\r\n\t// Returns the bounds of the current map view in projected pixel\r\n\t// coordinates (sometimes useful in layer and overlay implementations).\r\n\tgetPixelBounds: function (center, zoom) {\r\n\t\tvar topLeftPoint = this._getTopLeftPoint(center, zoom);\r\n\t\treturn new Bounds(topLeftPoint, topLeftPoint.add(this.getSize()));\r\n\t},\r\n\r\n\t// TODO: Check semantics - isn't the pixel origin the 0,0 coord relative to\r\n\t// the map pane? \"left point of the map layer\" can be confusing, specially\r\n\t// since there can be negative offsets.\r\n\t// @method getPixelOrigin(): Point\r\n\t// Returns the projected pixel coordinates of the top left point of\r\n\t// the map layer (useful in custom layer and overlay implementations).\r\n\tgetPixelOrigin: function () {\r\n\t\tthis._checkIfLoaded();\r\n\t\treturn this._pixelOrigin;\r\n\t},\r\n\r\n\t// @method getPixelWorldBounds(zoom?: Number): Bounds\r\n\t// Returns the world's bounds in pixel coordinates for zoom level `zoom`.\r\n\t// If `zoom` is omitted, the map's current zoom level is used.\r\n\tgetPixelWorldBounds: function (zoom) {\r\n\t\treturn this.options.crs.getProjectedBounds(zoom === undefined ? this.getZoom() : zoom);\r\n\t},\r\n\r\n\t// @section Other Methods\r\n\r\n\t// @method getPane(pane: String|HTMLElement): HTMLElement\r\n\t// Returns a [map pane](#map-pane), given its name or its HTML element (its identity).\r\n\tgetPane: function (pane) {\r\n\t\treturn typeof pane === 'string' ? this._panes[pane] : pane;\r\n\t},\r\n\r\n\t// @method getPanes(): Object\r\n\t// Returns a plain object containing the names of all [panes](#map-pane) as keys and\r\n\t// the panes as values.\r\n\tgetPanes: function () {\r\n\t\treturn this._panes;\r\n\t},\r\n\r\n\t// @method getContainer: HTMLElement\r\n\t// Returns the HTML element that contains the map.\r\n\tgetContainer: function () {\r\n\t\treturn this._container;\r\n\t},\r\n\r\n\r\n\t// @section Conversion Methods\r\n\r\n\t// @method getZoomScale(toZoom: Number, fromZoom: Number): Number\r\n\t// Returns the scale factor to be applied to a map transition from zoom level\r\n\t// `fromZoom` to `toZoom`. Used internally to help with zoom animations.\r\n\tgetZoomScale: function (toZoom, fromZoom) {\r\n\t\t// TODO replace with universal implementation after refactoring projections\r\n\t\tvar crs = this.options.crs;\r\n\t\tfromZoom = fromZoom === undefined ? this._zoom : fromZoom;\r\n\t\treturn crs.scale(toZoom) / crs.scale(fromZoom);\r\n\t},\r\n\r\n\t// @method getScaleZoom(scale: Number, fromZoom: Number): Number\r\n\t// Returns the zoom level that the map would end up at, if it is at `fromZoom`\r\n\t// level and everything is scaled by a factor of `scale`. Inverse of\r\n\t// [`getZoomScale`](#map-getZoomScale).\r\n\tgetScaleZoom: function (scale, fromZoom) {\r\n\t\tvar crs = this.options.crs;\r\n\t\tfromZoom = fromZoom === undefined ? this._zoom : fromZoom;\r\n\t\tvar zoom = crs.zoom(scale * crs.scale(fromZoom));\r\n\t\treturn isNaN(zoom) ? Infinity : zoom;\r\n\t},\r\n\r\n\t// @method project(latlng: LatLng, zoom: Number): Point\r\n\t// Projects a geographical coordinate `LatLng` according to the projection\r\n\t// of the map's CRS, then scales it according to `zoom` and the CRS's\r\n\t// `Transformation`. The result is pixel coordinate relative to\r\n\t// the CRS origin.\r\n\tproject: function (latlng, zoom) {\r\n\t\tzoom = zoom === undefined ? this._zoom : zoom;\r\n\t\treturn this.options.crs.latLngToPoint(toLatLng(latlng), zoom);\r\n\t},\r\n\r\n\t// @method unproject(point: Point, zoom: Number): LatLng\r\n\t// Inverse of [`project`](#map-project).\r\n\tunproject: function (point, zoom) {\r\n\t\tzoom = zoom === undefined ? this._zoom : zoom;\r\n\t\treturn this.options.crs.pointToLatLng(toPoint(point), zoom);\r\n\t},\r\n\r\n\t// @method layerPointToLatLng(point: Point): LatLng\r\n\t// Given a pixel coordinate relative to the [origin pixel](#map-getpixelorigin),\r\n\t// returns the corresponding geographical coordinate (for the current zoom level).\r\n\tlayerPointToLatLng: function (point) {\r\n\t\tvar projectedPoint = toPoint(point).add(this.getPixelOrigin());\r\n\t\treturn this.unproject(projectedPoint);\r\n\t},\r\n\r\n\t// @method latLngToLayerPoint(latlng: LatLng): Point\r\n\t// Given a geographical coordinate, returns the corresponding pixel coordinate\r\n\t// relative to the [origin pixel](#map-getpixelorigin).\r\n\tlatLngToLayerPoint: function (latlng) {\r\n\t\tvar projectedPoint = this.project(toLatLng(latlng))._round();\r\n\t\treturn projectedPoint._subtract(this.getPixelOrigin());\r\n\t},\r\n\r\n\t// @method wrapLatLng(latlng: LatLng): LatLng\r\n\t// Returns a `LatLng` where `lat` and `lng` has been wrapped according to the\r\n\t// map's CRS's `wrapLat` and `wrapLng` properties, if they are outside the\r\n\t// CRS's bounds.\r\n\t// By default this means longitude is wrapped around the dateline so its\r\n\t// value is between -180 and +180 degrees.\r\n\twrapLatLng: function (latlng) {\r\n\t\treturn this.options.crs.wrapLatLng(toLatLng(latlng));\r\n\t},\r\n\r\n\t// @method wrapLatLngBounds(bounds: LatLngBounds): LatLngBounds\r\n\t// Returns a `LatLngBounds` with the same size as the given one, ensuring that\r\n\t// its center is within the CRS's bounds.\r\n\t// By default this means the center longitude is wrapped around the dateline so its\r\n\t// value is between -180 and +180 degrees, and the majority of the bounds\r\n\t// overlaps the CRS's bounds.\r\n\twrapLatLngBounds: function (latlng) {\r\n\t\treturn this.options.crs.wrapLatLngBounds(toLatLngBounds(latlng));\r\n\t},\r\n\r\n\t// @method distance(latlng1: LatLng, latlng2: LatLng): Number\r\n\t// Returns the distance between two geographical coordinates according to\r\n\t// the map's CRS. By default this measures distance in meters.\r\n\tdistance: function (latlng1, latlng2) {\r\n\t\treturn this.options.crs.distance(toLatLng(latlng1), toLatLng(latlng2));\r\n\t},\r\n\r\n\t// @method containerPointToLayerPoint(point: Point): Point\r\n\t// Given a pixel coordinate relative to the map container, returns the corresponding\r\n\t// pixel coordinate relative to the [origin pixel](#map-getpixelorigin).\r\n\tcontainerPointToLayerPoint: function (point) { // (Point)\r\n\t\treturn toPoint(point).subtract(this._getMapPanePos());\r\n\t},\r\n\r\n\t// @method layerPointToContainerPoint(point: Point): Point\r\n\t// Given a pixel coordinate relative to the [origin pixel](#map-getpixelorigin),\r\n\t// returns the corresponding pixel coordinate relative to the map container.\r\n\tlayerPointToContainerPoint: function (point) { // (Point)\r\n\t\treturn toPoint(point).add(this._getMapPanePos());\r\n\t},\r\n\r\n\t// @method containerPointToLatLng(point: Point): LatLng\r\n\t// Given a pixel coordinate relative to the map container, returns\r\n\t// the corresponding geographical coordinate (for the current zoom level).\r\n\tcontainerPointToLatLng: function (point) {\r\n\t\tvar layerPoint = this.containerPointToLayerPoint(toPoint(point));\r\n\t\treturn this.layerPointToLatLng(layerPoint);\r\n\t},\r\n\r\n\t// @method latLngToContainerPoint(latlng: LatLng): Point\r\n\t// Given a geographical coordinate, returns the corresponding pixel coordinate\r\n\t// relative to the map container.\r\n\tlatLngToContainerPoint: function (latlng) {\r\n\t\treturn this.layerPointToContainerPoint(this.latLngToLayerPoint(toLatLng(latlng)));\r\n\t},\r\n\r\n\t// @method mouseEventToContainerPoint(ev: MouseEvent): Point\r\n\t// Given a MouseEvent object, returns the pixel coordinate relative to the\r\n\t// map container where the event took place.\r\n\tmouseEventToContainerPoint: function (e) {\r\n\t\treturn getMousePosition(e, this._container);\r\n\t},\r\n\r\n\t// @method mouseEventToLayerPoint(ev: MouseEvent): Point\r\n\t// Given a MouseEvent object, returns the pixel coordinate relative to\r\n\t// the [origin pixel](#map-getpixelorigin) where the event took place.\r\n\tmouseEventToLayerPoint: function (e) {\r\n\t\treturn this.containerPointToLayerPoint(this.mouseEventToContainerPoint(e));\r\n\t},\r\n\r\n\t// @method mouseEventToLatLng(ev: MouseEvent): LatLng\r\n\t// Given a MouseEvent object, returns geographical coordinate where the\r\n\t// event took place.\r\n\tmouseEventToLatLng: function (e) { // (MouseEvent)\r\n\t\treturn this.layerPointToLatLng(this.mouseEventToLayerPoint(e));\r\n\t},\r\n\r\n\r\n\t// map initialization methods\r\n\r\n\t_initContainer: function (id) {\r\n\t\tvar container = this._container = get(id);\r\n\r\n\t\tif (!container) {\r\n\t\t\tthrow new Error('Map container not found.');\r\n\t\t} else if (container._leaflet_id) {\r\n\t\t\tthrow new Error('Map container is already initialized.');\r\n\t\t}\r\n\r\n\t\ton(container, 'scroll', this._onScroll, this);\r\n\t\tthis._containerId = stamp(container);\r\n\t},\r\n\r\n\t_initLayout: function () {\r\n\t\tvar container = this._container;\r\n\r\n\t\tthis._fadeAnimated = this.options.fadeAnimation && any3d;\r\n\r\n\t\taddClass(container, 'leaflet-container' +\r\n\t\t\t(touch ? ' leaflet-touch' : '') +\r\n\t\t\t(retina ? ' leaflet-retina' : '') +\r\n\t\t\t(ielt9 ? ' leaflet-oldie' : '') +\r\n\t\t\t(safari ? ' leaflet-safari' : '') +\r\n\t\t\t(this._fadeAnimated ? ' leaflet-fade-anim' : ''));\r\n\r\n\t\tvar position = getStyle(container, 'position');\r\n\r\n\t\tif (position !== 'absolute' && position !== 'relative' && position !== 'fixed') {\r\n\t\t\tcontainer.style.position = 'relative';\r\n\t\t}\r\n\r\n\t\tthis._initPanes();\r\n\r\n\t\tif (this._initControlPos) {\r\n\t\t\tthis._initControlPos();\r\n\t\t}\r\n\t},\r\n\r\n\t_initPanes: function () {\r\n\t\tvar panes = this._panes = {};\r\n\t\tthis._paneRenderers = {};\r\n\r\n\t\t// @section\r\n\t\t//\r\n\t\t// Panes are DOM elements used to control the ordering of layers on the map. You\r\n\t\t// can access panes with [`map.getPane`](#map-getpane) or\r\n\t\t// [`map.getPanes`](#map-getpanes) methods. New panes can be created with the\r\n\t\t// [`map.createPane`](#map-createpane) method.\r\n\t\t//\r\n\t\t// Every map has the following default panes that differ only in zIndex.\r\n\t\t//\r\n\t\t// @pane mapPane: HTMLElement = 'auto'\r\n\t\t// Pane that contains all other map panes\r\n\r\n\t\tthis._mapPane = this.createPane('mapPane', this._container);\r\n\t\tsetPosition(this._mapPane, new Point(0, 0));\r\n\r\n\t\t// @pane tilePane: HTMLElement = 200\r\n\t\t// Pane for `GridLayer`s and `TileLayer`s\r\n\t\tthis.createPane('tilePane');\r\n\t\t// @pane overlayPane: HTMLElement = 400\r\n\t\t// Pane for overlay shadows (e.g. `Marker` shadows)\r\n\t\tthis.createPane('shadowPane');\r\n\t\t// @pane shadowPane: HTMLElement = 500\r\n\t\t// Pane for vectors (`Path`s, like `Polyline`s and `Polygon`s), `ImageOverlay`s and `VideoOverlay`s\r\n\t\tthis.createPane('overlayPane');\r\n\t\t// @pane markerPane: HTMLElement = 600\r\n\t\t// Pane for `Icon`s of `Marker`s\r\n\t\tthis.createPane('markerPane');\r\n\t\t// @pane tooltipPane: HTMLElement = 650\r\n\t\t// Pane for `Tooltip`s.\r\n\t\tthis.createPane('tooltipPane');\r\n\t\t// @pane popupPane: HTMLElement = 700\r\n\t\t// Pane for `Popup`s.\r\n\t\tthis.createPane('popupPane');\r\n\r\n\t\tif (!this.options.markerZoomAnimation) {\r\n\t\t\taddClass(panes.markerPane, 'leaflet-zoom-hide');\r\n\t\t\taddClass(panes.shadowPane, 'leaflet-zoom-hide');\r\n\t\t}\r\n\t},\r\n\r\n\r\n\t// private methods that modify map state\r\n\r\n\t// @section Map state change events\r\n\t_resetView: function (center, zoom) {\r\n\t\tsetPosition(this._mapPane, new Point(0, 0));\r\n\r\n\t\tvar loading = !this._loaded;\r\n\t\tthis._loaded = true;\r\n\t\tzoom = this._limitZoom(zoom);\r\n\r\n\t\tthis.fire('viewprereset');\r\n\r\n\t\tvar zoomChanged = this._zoom !== zoom;\r\n\t\tthis\r\n\t\t\t._moveStart(zoomChanged, false)\r\n\t\t\t._move(center, zoom)\r\n\t\t\t._moveEnd(zoomChanged);\r\n\r\n\t\t// @event viewreset: Event\r\n\t\t// Fired when the map needs to redraw its content (this usually happens\r\n\t\t// on map zoom or load). Very useful for creating custom overlays.\r\n\t\tthis.fire('viewreset');\r\n\r\n\t\t// @event load: Event\r\n\t\t// Fired when the map is initialized (when its center and zoom are set\r\n\t\t// for the first time).\r\n\t\tif (loading) {\r\n\t\t\tthis.fire('load');\r\n\t\t}\r\n\t},\r\n\r\n\t_moveStart: function (zoomChanged, noMoveStart) {\r\n\t\t// @event zoomstart: Event\r\n\t\t// Fired when the map zoom is about to change (e.g. before zoom animation).\r\n\t\t// @event movestart: Event\r\n\t\t// Fired when the view of the map starts changing (e.g. user starts dragging the map).\r\n\t\tif (zoomChanged) {\r\n\t\t\tthis.fire('zoomstart');\r\n\t\t}\r\n\t\tif (!noMoveStart) {\r\n\t\t\tthis.fire('movestart');\r\n\t\t}\r\n\t\treturn this;\r\n\t},\r\n\r\n\t_move: function (center, zoom, data) {\r\n\t\tif (zoom === undefined) {\r\n\t\t\tzoom = this._zoom;\r\n\t\t}\r\n\t\tvar zoomChanged = this._zoom !== zoom;\r\n\r\n\t\tthis._zoom = zoom;\r\n\t\tthis._lastCenter = center;\r\n\t\tthis._pixelOrigin = this._getNewPixelOrigin(center);\r\n\r\n\t\t// @event zoom: Event\r\n\t\t// Fired repeatedly during any change in zoom level, including zoom\r\n\t\t// and fly animations.\r\n\t\tif (zoomChanged || (data && data.pinch)) {\t// Always fire 'zoom' if pinching because #3530\r\n\t\t\tthis.fire('zoom', data);\r\n\t\t}\r\n\r\n\t\t// @event move: Event\r\n\t\t// Fired repeatedly during any movement of the map, including pan and\r\n\t\t// fly animations.\r\n\t\treturn this.fire('move', data);\r\n\t},\r\n\r\n\t_moveEnd: function (zoomChanged) {\r\n\t\t// @event zoomend: Event\r\n\t\t// Fired when the map has changed, after any animations.\r\n\t\tif (zoomChanged) {\r\n\t\t\tthis.fire('zoomend');\r\n\t\t}\r\n\r\n\t\t// @event moveend: Event\r\n\t\t// Fired when the center of the map stops changing (e.g. user stopped\r\n\t\t// dragging the map).\r\n\t\treturn this.fire('moveend');\r\n\t},\r\n\r\n\t_stop: function () {\r\n\t\tcancelAnimFrame(this._flyToFrame);\r\n\t\tif (this._panAnim) {\r\n\t\t\tthis._panAnim.stop();\r\n\t\t}\r\n\t\treturn this;\r\n\t},\r\n\r\n\t_rawPanBy: function (offset) {\r\n\t\tsetPosition(this._mapPane, this._getMapPanePos().subtract(offset));\r\n\t},\r\n\r\n\t_getZoomSpan: function () {\r\n\t\treturn this.getMaxZoom() - this.getMinZoom();\r\n\t},\r\n\r\n\t_panInsideMaxBounds: function () {\r\n\t\tif (!this._enforcingBounds) {\r\n\t\t\tthis.panInsideBounds(this.options.maxBounds);\r\n\t\t}\r\n\t},\r\n\r\n\t_checkIfLoaded: function () {\r\n\t\tif (!this._loaded) {\r\n\t\t\tthrow new Error('Set map center and zoom first.');\r\n\t\t}\r\n\t},\r\n\r\n\t// DOM event handling\r\n\r\n\t// @section Interaction events\r\n\t_initEvents: function (remove$$1) {\r\n\t\tthis._targets = {};\r\n\t\tthis._targets[stamp(this._container)] = this;\r\n\r\n\t\tvar onOff = remove$$1 ? off : on;\r\n\r\n\t\t// @event click: MouseEvent\r\n\t\t// Fired when the user clicks (or taps) the map.\r\n\t\t// @event dblclick: MouseEvent\r\n\t\t// Fired when the user double-clicks (or double-taps) the map.\r\n\t\t// @event mousedown: MouseEvent\r\n\t\t// Fired when the user pushes the mouse button on the map.\r\n\t\t// @event mouseup: MouseEvent\r\n\t\t// Fired when the user releases the mouse button on the map.\r\n\t\t// @event mouseover: MouseEvent\r\n\t\t// Fired when the mouse enters the map.\r\n\t\t// @event mouseout: MouseEvent\r\n\t\t// Fired when the mouse leaves the map.\r\n\t\t// @event mousemove: MouseEvent\r\n\t\t// Fired while the mouse moves over the map.\r\n\t\t// @event contextmenu: MouseEvent\r\n\t\t// Fired when the user pushes the right mouse button on the map, prevents\r\n\t\t// default browser context menu from showing if there are listeners on\r\n\t\t// this event. Also fired on mobile when the user holds a single touch\r\n\t\t// for a second (also called long press).\r\n\t\t// @event keypress: KeyboardEvent\r\n\t\t// Fired when the user presses a key from the keyboard that produces a character value while the map is focused.\r\n\t\t// @event keydown: KeyboardEvent\r\n\t\t// Fired when the user presses a key from the keyboard while the map is focused. Unlike the `keypress` event,\r\n\t\t// the `keydown` event is fired for keys that produce a character value and for keys\r\n\t\t// that do not produce a character value.\r\n\t\t// @event keyup: KeyboardEvent\r\n\t\t// Fired when the user releases a key from the keyboard while the map is focused.\r\n\t\tonOff(this._container, 'click dblclick mousedown mouseup ' +\r\n\t\t\t'mouseover mouseout mousemove contextmenu keypress keydown keyup', this._handleDOMEvent, this);\r\n\r\n\t\tif (this.options.trackResize) {\r\n\t\t\tonOff(window, 'resize', this._onResize, this);\r\n\t\t}\r\n\r\n\t\tif (any3d && this.options.transform3DLimit) {\r\n\t\t\t(remove$$1 ? this.off : this.on).call(this, 'moveend', this._onMoveEnd);\r\n\t\t}\r\n\t},\r\n\r\n\t_onResize: function () {\r\n\t\tcancelAnimFrame(this._resizeRequest);\r\n\t\tthis._resizeRequest = requestAnimFrame(\r\n\t\t        function () { this.invalidateSize({debounceMoveend: true}); }, this);\r\n\t},\r\n\r\n\t_onScroll: function () {\r\n\t\tthis._container.scrollTop  = 0;\r\n\t\tthis._container.scrollLeft = 0;\r\n\t},\r\n\r\n\t_onMoveEnd: function () {\r\n\t\tvar pos = this._getMapPanePos();\r\n\t\tif (Math.max(Math.abs(pos.x), Math.abs(pos.y)) >= this.options.transform3DLimit) {\r\n\t\t\t// https://bugzilla.mozilla.org/show_bug.cgi?id=1203873 but Webkit also have\r\n\t\t\t// a pixel offset on very high values, see: http://jsfiddle.net/dg6r5hhb/\r\n\t\t\tthis._resetView(this.getCenter(), this.getZoom());\r\n\t\t}\r\n\t},\r\n\r\n\t_findEventTargets: function (e, type) {\r\n\t\tvar targets = [],\r\n\t\t    target,\r\n\t\t    isHover = type === 'mouseout' || type === 'mouseover',\r\n\t\t    src = e.target || e.srcElement,\r\n\t\t    dragging = false;\r\n\r\n\t\twhile (src) {\r\n\t\t\ttarget = this._targets[stamp(src)];\r\n\t\t\tif (target && (type === 'click' || type === 'preclick') && !e._simulated && this._draggableMoved(target)) {\r\n\t\t\t\t// Prevent firing click after you just dragged an object.\r\n\t\t\t\tdragging = true;\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\tif (target && target.listens(type, true)) {\r\n\t\t\t\tif (isHover && !isExternalTarget(src, e)) { break; }\r\n\t\t\t\ttargets.push(target);\r\n\t\t\t\tif (isHover) { break; }\r\n\t\t\t}\r\n\t\t\tif (src === this._container) { break; }\r\n\t\t\tsrc = src.parentNode;\r\n\t\t}\r\n\t\tif (!targets.length && !dragging && !isHover && isExternalTarget(src, e)) {\r\n\t\t\ttargets = [this];\r\n\t\t}\r\n\t\treturn targets;\r\n\t},\r\n\r\n\t_handleDOMEvent: function (e) {\r\n\t\tif (!this._loaded || skipped(e)) { return; }\r\n\r\n\t\tvar type = e.type;\r\n\r\n\t\tif (type === 'mousedown' || type === 'keypress' || type === 'keyup' || type === 'keydown') {\r\n\t\t\t// prevents outline when clicking on keyboard-focusable element\r\n\t\t\tpreventOutline(e.target || e.srcElement);\r\n\t\t}\r\n\r\n\t\tthis._fireDOMEvent(e, type);\r\n\t},\r\n\r\n\t_mouseEvents: ['click', 'dblclick', 'mouseover', 'mouseout', 'contextmenu'],\r\n\r\n\t_fireDOMEvent: function (e, type, targets) {\r\n\r\n\t\tif (e.type === 'click') {\r\n\t\t\t// Fire a synthetic 'preclick' event which propagates up (mainly for closing popups).\r\n\t\t\t// @event preclick: MouseEvent\r\n\t\t\t// Fired before mouse click on the map (sometimes useful when you\r\n\t\t\t// want something to happen on click before any existing click\r\n\t\t\t// handlers start running).\r\n\t\t\tvar synth = extend({}, e);\r\n\t\t\tsynth.type = 'preclick';\r\n\t\t\tthis._fireDOMEvent(synth, synth.type, targets);\r\n\t\t}\r\n\r\n\t\tif (e._stopped) { return; }\r\n\r\n\t\t// Find the layer the event is propagating from and its parents.\r\n\t\ttargets = (targets || []).concat(this._findEventTargets(e, type));\r\n\r\n\t\tif (!targets.length) { return; }\r\n\r\n\t\tvar target = targets[0];\r\n\t\tif (type === 'contextmenu' && target.listens(type, true)) {\r\n\t\t\tpreventDefault(e);\r\n\t\t}\r\n\r\n\t\tvar data = {\r\n\t\t\toriginalEvent: e\r\n\t\t};\r\n\r\n\t\tif (e.type !== 'keypress' && e.type !== 'keydown' && e.type !== 'keyup') {\r\n\t\t\tvar isMarker = target.getLatLng && (!target._radius || target._radius <= 10);\r\n\t\t\tdata.containerPoint = isMarker ?\r\n\t\t\t\tthis.latLngToContainerPoint(target.getLatLng()) : this.mouseEventToContainerPoint(e);\r\n\t\t\tdata.layerPoint = this.containerPointToLayerPoint(data.containerPoint);\r\n\t\t\tdata.latlng = isMarker ? target.getLatLng() : this.layerPointToLatLng(data.layerPoint);\r\n\t\t}\r\n\r\n\t\tfor (var i = 0; i < targets.length; i++) {\r\n\t\t\ttargets[i].fire(type, data, true);\r\n\t\t\tif (data.originalEvent._stopped ||\r\n\t\t\t\t(targets[i].options.bubblingMouseEvents === false && indexOf(this._mouseEvents, type) !== -1)) { return; }\r\n\t\t}\r\n\t},\r\n\r\n\t_draggableMoved: function (obj) {\r\n\t\tobj = obj.dragging && obj.dragging.enabled() ? obj : this;\r\n\t\treturn (obj.dragging && obj.dragging.moved()) || (this.boxZoom && this.boxZoom.moved());\r\n\t},\r\n\r\n\t_clearHandlers: function () {\r\n\t\tfor (var i = 0, len = this._handlers.length; i < len; i++) {\r\n\t\t\tthis._handlers[i].disable();\r\n\t\t}\r\n\t},\r\n\r\n\t// @section Other Methods\r\n\r\n\t// @method whenReady(fn: Function, context?: Object): this\r\n\t// Runs the given function `fn` when the map gets initialized with\r\n\t// a view (center and zoom) and at least one layer, or immediately\r\n\t// if it's already initialized, optionally passing a function context.\r\n\twhenReady: function (callback, context) {\r\n\t\tif (this._loaded) {\r\n\t\t\tcallback.call(context || this, {target: this});\r\n\t\t} else {\r\n\t\t\tthis.on('load', callback, context);\r\n\t\t}\r\n\t\treturn this;\r\n\t},\r\n\r\n\r\n\t// private methods for getting map state\r\n\r\n\t_getMapPanePos: function () {\r\n\t\treturn getPosition(this._mapPane) || new Point(0, 0);\r\n\t},\r\n\r\n\t_moved: function () {\r\n\t\tvar pos = this._getMapPanePos();\r\n\t\treturn pos && !pos.equals([0, 0]);\r\n\t},\r\n\r\n\t_getTopLeftPoint: function (center, zoom) {\r\n\t\tvar pixelOrigin = center && zoom !== undefined ?\r\n\t\t\tthis._getNewPixelOrigin(center, zoom) :\r\n\t\t\tthis.getPixelOrigin();\r\n\t\treturn pixelOrigin.subtract(this._getMapPanePos());\r\n\t},\r\n\r\n\t_getNewPixelOrigin: function (center, zoom) {\r\n\t\tvar viewHalf = this.getSize()._divideBy(2);\r\n\t\treturn this.project(center, zoom)._subtract(viewHalf)._add(this._getMapPanePos())._round();\r\n\t},\r\n\r\n\t_latLngToNewLayerPoint: function (latlng, zoom, center) {\r\n\t\tvar topLeft = this._getNewPixelOrigin(center, zoom);\r\n\t\treturn this.project(latlng, zoom)._subtract(topLeft);\r\n\t},\r\n\r\n\t_latLngBoundsToNewLayerBounds: function (latLngBounds, zoom, center) {\r\n\t\tvar topLeft = this._getNewPixelOrigin(center, zoom);\r\n\t\treturn toBounds([\r\n\t\t\tthis.project(latLngBounds.getSouthWest(), zoom)._subtract(topLeft),\r\n\t\t\tthis.project(latLngBounds.getNorthWest(), zoom)._subtract(topLeft),\r\n\t\t\tthis.project(latLngBounds.getSouthEast(), zoom)._subtract(topLeft),\r\n\t\t\tthis.project(latLngBounds.getNorthEast(), zoom)._subtract(topLeft)\r\n\t\t]);\r\n\t},\r\n\r\n\t// layer point of the current center\r\n\t_getCenterLayerPoint: function () {\r\n\t\treturn this.containerPointToLayerPoint(this.getSize()._divideBy(2));\r\n\t},\r\n\r\n\t// offset of the specified place to the current center in pixels\r\n\t_getCenterOffset: function (latlng) {\r\n\t\treturn this.latLngToLayerPoint(latlng).subtract(this._getCenterLayerPoint());\r\n\t},\r\n\r\n\t// adjust center for view to get inside bounds\r\n\t_limitCenter: function (center, zoom, bounds) {\r\n\r\n\t\tif (!bounds) { return center; }\r\n\r\n\t\tvar centerPoint = this.project(center, zoom),\r\n\t\t    viewHalf = this.getSize().divideBy(2),\r\n\t\t    viewBounds = new Bounds(centerPoint.subtract(viewHalf), centerPoint.add(viewHalf)),\r\n\t\t    offset = this._getBoundsOffset(viewBounds, bounds, zoom);\r\n\r\n\t\t// If offset is less than a pixel, ignore.\r\n\t\t// This prevents unstable projections from getting into\r\n\t\t// an infinite loop of tiny offsets.\r\n\t\tif (offset.round().equals([0, 0])) {\r\n\t\t\treturn center;\r\n\t\t}\r\n\r\n\t\treturn this.unproject(centerPoint.add(offset), zoom);\r\n\t},\r\n\r\n\t// adjust offset for view to get inside bounds\r\n\t_limitOffset: function (offset, bounds) {\r\n\t\tif (!bounds) { return offset; }\r\n\r\n\t\tvar viewBounds = this.getPixelBounds(),\r\n\t\t    newBounds = new Bounds(viewBounds.min.add(offset), viewBounds.max.add(offset));\r\n\r\n\t\treturn offset.add(this._getBoundsOffset(newBounds, bounds));\r\n\t},\r\n\r\n\t// returns offset needed for pxBounds to get inside maxBounds at a specified zoom\r\n\t_getBoundsOffset: function (pxBounds, maxBounds, zoom) {\r\n\t\tvar projectedMaxBounds = toBounds(\r\n\t\t        this.project(maxBounds.getNorthEast(), zoom),\r\n\t\t        this.project(maxBounds.getSouthWest(), zoom)\r\n\t\t    ),\r\n\t\t    minOffset = projectedMaxBounds.min.subtract(pxBounds.min),\r\n\t\t    maxOffset = projectedMaxBounds.max.subtract(pxBounds.max),\r\n\r\n\t\t    dx = this._rebound(minOffset.x, -maxOffset.x),\r\n\t\t    dy = this._rebound(minOffset.y, -maxOffset.y);\r\n\r\n\t\treturn new Point(dx, dy);\r\n\t},\r\n\r\n\t_rebound: function (left, right) {\r\n\t\treturn left + right > 0 ?\r\n\t\t\tMath.round(left - right) / 2 :\r\n\t\t\tMath.max(0, Math.ceil(left)) - Math.max(0, Math.floor(right));\r\n\t},\r\n\r\n\t_limitZoom: function (zoom) {\r\n\t\tvar min = this.getMinZoom(),\r\n\t\t    max = this.getMaxZoom(),\r\n\t\t    snap = any3d ? this.options.zoomSnap : 1;\r\n\t\tif (snap) {\r\n\t\t\tzoom = Math.round(zoom / snap) * snap;\r\n\t\t}\r\n\t\treturn Math.max(min, Math.min(max, zoom));\r\n\t},\r\n\r\n\t_onPanTransitionStep: function () {\r\n\t\tthis.fire('move');\r\n\t},\r\n\r\n\t_onPanTransitionEnd: function () {\r\n\t\tremoveClass(this._mapPane, 'leaflet-pan-anim');\r\n\t\tthis.fire('moveend');\r\n\t},\r\n\r\n\t_tryAnimatedPan: function (center, options) {\r\n\t\t// difference between the new and current centers in pixels\r\n\t\tvar offset = this._getCenterOffset(center)._trunc();\r\n\r\n\t\t// don't animate too far unless animate: true specified in options\r\n\t\tif ((options && options.animate) !== true && !this.getSize().contains(offset)) { return false; }\r\n\r\n\t\tthis.panBy(offset, options);\r\n\r\n\t\treturn true;\r\n\t},\r\n\r\n\t_createAnimProxy: function () {\r\n\r\n\t\tvar proxy = this._proxy = create$1('div', 'leaflet-proxy leaflet-zoom-animated');\r\n\t\tthis._panes.mapPane.appendChild(proxy);\r\n\r\n\t\tthis.on('zoomanim', function (e) {\r\n\t\t\tvar prop = TRANSFORM,\r\n\t\t\t    transform = this._proxy.style[prop];\r\n\r\n\t\t\tsetTransform(this._proxy, this.project(e.center, e.zoom), this.getZoomScale(e.zoom, 1));\r\n\r\n\t\t\t// workaround for case when transform is the same and so transitionend event is not fired\r\n\t\t\tif (transform === this._proxy.style[prop] && this._animatingZoom) {\r\n\t\t\t\tthis._onZoomTransitionEnd();\r\n\t\t\t}\r\n\t\t}, this);\r\n\r\n\t\tthis.on('load moveend', this._animMoveEnd, this);\r\n\r\n\t\tthis._on('unload', this._destroyAnimProxy, this);\r\n\t},\r\n\r\n\t_destroyAnimProxy: function () {\r\n\t\tremove(this._proxy);\r\n\t\tthis.off('load moveend', this._animMoveEnd, this);\r\n\t\tdelete this._proxy;\r\n\t},\r\n\r\n\t_animMoveEnd: function () {\r\n\t\tvar c = this.getCenter(),\r\n\t\t    z = this.getZoom();\r\n\t\tsetTransform(this._proxy, this.project(c, z), this.getZoomScale(z, 1));\r\n\t},\r\n\r\n\t_catchTransitionEnd: function (e) {\r\n\t\tif (this._animatingZoom && e.propertyName.indexOf('transform') >= 0) {\r\n\t\t\tthis._onZoomTransitionEnd();\r\n\t\t}\r\n\t},\r\n\r\n\t_nothingToAnimate: function () {\r\n\t\treturn !this._container.getElementsByClassName('leaflet-zoom-animated').length;\r\n\t},\r\n\r\n\t_tryAnimatedZoom: function (center, zoom, options) {\r\n\r\n\t\tif (this._animatingZoom) { return true; }\r\n\r\n\t\toptions = options || {};\r\n\r\n\t\t// don't animate if disabled, not supported or zoom difference is too large\r\n\t\tif (!this._zoomAnimated || options.animate === false || this._nothingToAnimate() ||\r\n\t\t        Math.abs(zoom - this._zoom) > this.options.zoomAnimationThreshold) { return false; }\r\n\r\n\t\t// offset is the pixel coords of the zoom origin relative to the current center\r\n\t\tvar scale = this.getZoomScale(zoom),\r\n\t\t    offset = this._getCenterOffset(center)._divideBy(1 - 1 / scale);\r\n\r\n\t\t// don't animate if the zoom origin isn't within one screen from the current center, unless forced\r\n\t\tif (options.animate !== true && !this.getSize().contains(offset)) { return false; }\r\n\r\n\t\trequestAnimFrame(function () {\r\n\t\t\tthis\r\n\t\t\t    ._moveStart(true, false)\r\n\t\t\t    ._animateZoom(center, zoom, true);\r\n\t\t}, this);\r\n\r\n\t\treturn true;\r\n\t},\r\n\r\n\t_animateZoom: function (center, zoom, startAnim, noUpdate) {\r\n\t\tif (!this._mapPane) { return; }\r\n\r\n\t\tif (startAnim) {\r\n\t\t\tthis._animatingZoom = true;\r\n\r\n\t\t\t// remember what center/zoom to set after animation\r\n\t\t\tthis._animateToCenter = center;\r\n\t\t\tthis._animateToZoom = zoom;\r\n\r\n\t\t\taddClass(this._mapPane, 'leaflet-zoom-anim');\r\n\t\t}\r\n\r\n\t\t// @section Other Events\r\n\t\t// @event zoomanim: ZoomAnimEvent\r\n\t\t// Fired at least once per zoom animation. For continuous zoom, like pinch zooming, fired once per frame during zoom.\r\n\t\tthis.fire('zoomanim', {\r\n\t\t\tcenter: center,\r\n\t\t\tzoom: zoom,\r\n\t\t\tnoUpdate: noUpdate\r\n\t\t});\r\n\r\n\t\t// Work around webkit not firing 'transitionend', see https://github.com/Leaflet/Leaflet/issues/3689, 2693\r\n\t\tsetTimeout(bind(this._onZoomTransitionEnd, this), 250);\r\n\t},\r\n\r\n\t_onZoomTransitionEnd: function () {\r\n\t\tif (!this._animatingZoom) { return; }\r\n\r\n\t\tif (this._mapPane) {\r\n\t\t\tremoveClass(this._mapPane, 'leaflet-zoom-anim');\r\n\t\t}\r\n\r\n\t\tthis._animatingZoom = false;\r\n\r\n\t\tthis._move(this._animateToCenter, this._animateToZoom);\r\n\r\n\t\t// This anim frame should prevent an obscure iOS webkit tile loading race condition.\r\n\t\trequestAnimFrame(function () {\r\n\t\t\tthis._moveEnd(true);\r\n\t\t}, this);\r\n\t}\r\n});\r\n\r\n// @section\r\n\r\n// @factory L.map(id: String, options?: Map options)\r\n// Instantiates a map object given the DOM ID of a `<div>` element\r\n// and optionally an object literal with `Map options`.\r\n//\r\n// @alternative\r\n// @factory L.map(el: HTMLElement, options?: Map options)\r\n// Instantiates a map object given an instance of a `<div>` HTML element\r\n// and optionally an object literal with `Map options`.\r\nfunction createMap(id, options) {\r\n\treturn new Map(id, options);\r\n}\n\n/*\r\n * @class Control\r\n * @aka L.Control\r\n * @inherits Class\r\n *\r\n * L.Control is a base class for implementing map controls. Handles positioning.\r\n * All other controls extend from this class.\r\n */\r\n\r\nvar Control = Class.extend({\r\n\t// @section\r\n\t// @aka Control options\r\n\toptions: {\r\n\t\t// @option position: String = 'topright'\r\n\t\t// The position of the control (one of the map corners). Possible values are `'topleft'`,\r\n\t\t// `'topright'`, `'bottomleft'` or `'bottomright'`\r\n\t\tposition: 'topright'\r\n\t},\r\n\r\n\tinitialize: function (options) {\r\n\t\tsetOptions(this, options);\r\n\t},\r\n\r\n\t/* @section\r\n\t * Classes extending L.Control will inherit the following methods:\r\n\t *\r\n\t * @method getPosition: string\r\n\t * Returns the position of the control.\r\n\t */\r\n\tgetPosition: function () {\r\n\t\treturn this.options.position;\r\n\t},\r\n\r\n\t// @method setPosition(position: string): this\r\n\t// Sets the position of the control.\r\n\tsetPosition: function (position) {\r\n\t\tvar map = this._map;\r\n\r\n\t\tif (map) {\r\n\t\t\tmap.removeControl(this);\r\n\t\t}\r\n\r\n\t\tthis.options.position = position;\r\n\r\n\t\tif (map) {\r\n\t\t\tmap.addControl(this);\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\t},\r\n\r\n\t// @method getContainer: HTMLElement\r\n\t// Returns the HTMLElement that contains the control.\r\n\tgetContainer: function () {\r\n\t\treturn this._container;\r\n\t},\r\n\r\n\t// @method addTo(map: Map): this\r\n\t// Adds the control to the given map.\r\n\taddTo: function (map) {\r\n\t\tthis.remove();\r\n\t\tthis._map = map;\r\n\r\n\t\tvar container = this._container = this.onAdd(map),\r\n\t\t    pos = this.getPosition(),\r\n\t\t    corner = map._controlCorners[pos];\r\n\r\n\t\taddClass(container, 'leaflet-control');\r\n\r\n\t\tif (pos.indexOf('bottom') !== -1) {\r\n\t\t\tcorner.insertBefore(container, corner.firstChild);\r\n\t\t} else {\r\n\t\t\tcorner.appendChild(container);\r\n\t\t}\r\n\r\n\t\tthis._map.on('unload', this.remove, this);\r\n\r\n\t\treturn this;\r\n\t},\r\n\r\n\t// @method remove: this\r\n\t// Removes the control from the map it is currently active on.\r\n\tremove: function () {\r\n\t\tif (!this._map) {\r\n\t\t\treturn this;\r\n\t\t}\r\n\r\n\t\tremove(this._container);\r\n\r\n\t\tif (this.onRemove) {\r\n\t\t\tthis.onRemove(this._map);\r\n\t\t}\r\n\r\n\t\tthis._map.off('unload', this.remove, this);\r\n\t\tthis._map = null;\r\n\r\n\t\treturn this;\r\n\t},\r\n\r\n\t_refocusOnMap: function (e) {\r\n\t\t// if map exists and event is not a keyboard event\r\n\t\tif (this._map && e && e.screenX > 0 && e.screenY > 0) {\r\n\t\t\tthis._map.getContainer().focus();\r\n\t\t}\r\n\t}\r\n});\r\n\r\n/* @section Extension methods\r\n * @uninheritable\r\n *\r\n * Every control should extend from `L.Control` and (re-)implement the following methods.\r\n *\r\n * @method onAdd(map: Map): HTMLElement\r\n * Should return the container DOM element for the control and add listeners on relevant map events. Called on [`control.addTo(map)`](#control-addTo).\r\n *\r\n * @method onRemove(map: Map)\r\n * Optional method. Should contain all clean up code that removes the listeners previously added in [`onAdd`](#control-onadd). Called on [`control.remove()`](#control-remove).\r\n */\r\n\r\n/* @namespace Map\r\n * @section Methods for Layers and Controls\r\n */\r\nMap.include({\r\n\t// @method addControl(control: Control): this\r\n\t// Adds the given control to the map\r\n\taddControl: function (control) {\r\n\t\tcontrol.addTo(this);\r\n\t\treturn this;\r\n\t},\r\n\r\n\t// @method removeControl(control: Control): this\r\n\t// Removes the given control from the map\r\n\tremoveControl: function (control) {\r\n\t\tcontrol.remove();\r\n\t\treturn this;\r\n\t},\r\n\r\n\t_initControlPos: function () {\r\n\t\tvar corners = this._controlCorners = {},\r\n\t\t    l = 'leaflet-',\r\n\t\t    container = this._controlContainer =\r\n\t\t            create$1('div', l + 'control-container', this._container);\r\n\r\n\t\tfunction createCorner(vSide, hSide) {\r\n\t\t\tvar className = l + vSide + ' ' + l + hSide;\r\n\r\n\t\t\tcorners[vSide + hSide] = create$1('div', className, container);\r\n\t\t}\r\n\r\n\t\tcreateCorner('top', 'left');\r\n\t\tcreateCorner('top', 'right');\r\n\t\tcreateCorner('bottom', 'left');\r\n\t\tcreateCorner('bottom', 'right');\r\n\t},\r\n\r\n\t_clearControlPos: function () {\r\n\t\tfor (var i in this._controlCorners) {\r\n\t\t\tremove(this._controlCorners[i]);\r\n\t\t}\r\n\t\tremove(this._controlContainer);\r\n\t\tdelete this._controlCorners;\r\n\t\tdelete this._controlContainer;\r\n\t}\r\n});\n\n/*\r\n * @class Control.Layers\r\n * @aka L.Control.Layers\r\n * @inherits Control\r\n *\r\n * The layers control gives users the ability to switch between different base layers and switch overlays on/off (check out the [detailed example](http://leafletjs.com/examples/layers-control/)). Extends `Control`.\r\n *\r\n * @example\r\n *\r\n * ```js\r\n * var baseLayers = {\r\n * \t\"Mapbox\": mapbox,\r\n * \t\"OpenStreetMap\": osm\r\n * };\r\n *\r\n * var overlays = {\r\n * \t\"Marker\": marker,\r\n * \t\"Roads\": roadsLayer\r\n * };\r\n *\r\n * L.control.layers(baseLayers, overlays).addTo(map);\r\n * ```\r\n *\r\n * The `baseLayers` and `overlays` parameters are object literals with layer names as keys and `Layer` objects as values:\r\n *\r\n * ```js\r\n * {\r\n *     \"<someName1>\": layer1,\r\n *     \"<someName2>\": layer2\r\n * }\r\n * ```\r\n *\r\n * The layer names can contain HTML, which allows you to add additional styling to the items:\r\n *\r\n * ```js\r\n * {\"<img src='my-layer-icon' /> <span class='my-layer-item'>My Layer</span>\": myLayer}\r\n * ```\r\n */\r\n\r\nvar Layers = Control.extend({\r\n\t// @section\r\n\t// @aka Control.Layers options\r\n\toptions: {\r\n\t\t// @option collapsed: Boolean = true\r\n\t\t// If `true`, the control will be collapsed into an icon and expanded on mouse hover or touch.\r\n\t\tcollapsed: true,\r\n\t\tposition: 'topright',\r\n\r\n\t\t// @option autoZIndex: Boolean = true\r\n\t\t// If `true`, the control will assign zIndexes in increasing order to all of its layers so that the order is preserved when switching them on/off.\r\n\t\tautoZIndex: true,\r\n\r\n\t\t// @option hideSingleBase: Boolean = false\r\n\t\t// If `true`, the base layers in the control will be hidden when there is only one.\r\n\t\thideSingleBase: false,\r\n\r\n\t\t// @option sortLayers: Boolean = false\r\n\t\t// Whether to sort the layers. When `false`, layers will keep the order\r\n\t\t// in which they were added to the control.\r\n\t\tsortLayers: false,\r\n\r\n\t\t// @option sortFunction: Function = *\r\n\t\t// A [compare function](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array/sort)\r\n\t\t// that will be used for sorting the layers, when `sortLayers` is `true`.\r\n\t\t// The function receives both the `L.Layer` instances and their names, as in\r\n\t\t// `sortFunction(layerA, layerB, nameA, nameB)`.\r\n\t\t// By default, it sorts layers alphabetically by their name.\r\n\t\tsortFunction: function (layerA, layerB, nameA, nameB) {\r\n\t\t\treturn nameA < nameB ? -1 : (nameB < nameA ? 1 : 0);\r\n\t\t}\r\n\t},\r\n\r\n\tinitialize: function (baseLayers, overlays, options) {\r\n\t\tsetOptions(this, options);\r\n\r\n\t\tthis._layerControlInputs = [];\r\n\t\tthis._layers = [];\r\n\t\tthis._lastZIndex = 0;\r\n\t\tthis._handlingClick = false;\r\n\r\n\t\tfor (var i in baseLayers) {\r\n\t\t\tthis._addLayer(baseLayers[i], i);\r\n\t\t}\r\n\r\n\t\tfor (i in overlays) {\r\n\t\t\tthis._addLayer(overlays[i], i, true);\r\n\t\t}\r\n\t},\r\n\r\n\tonAdd: function (map) {\r\n\t\tthis._initLayout();\r\n\t\tthis._update();\r\n\r\n\t\tthis._map = map;\r\n\t\tmap.on('zoomend', this._checkDisabledLayers, this);\r\n\r\n\t\tfor (var i = 0; i < this._layers.length; i++) {\r\n\t\t\tthis._layers[i].layer.on('add remove', this._onLayerChange, this);\r\n\t\t}\r\n\r\n\t\treturn this._container;\r\n\t},\r\n\r\n\taddTo: function (map) {\r\n\t\tControl.prototype.addTo.call(this, map);\r\n\t\t// Trigger expand after Layers Control has been inserted into DOM so that is now has an actual height.\r\n\t\treturn this._expandIfNotCollapsed();\r\n\t},\r\n\r\n\tonRemove: function () {\r\n\t\tthis._map.off('zoomend', this._checkDisabledLayers, this);\r\n\r\n\t\tfor (var i = 0; i < this._layers.length; i++) {\r\n\t\t\tthis._layers[i].layer.off('add remove', this._onLayerChange, this);\r\n\t\t}\r\n\t},\r\n\r\n\t// @method addBaseLayer(layer: Layer, name: String): this\r\n\t// Adds a base layer (radio button entry) with the given name to the control.\r\n\taddBaseLayer: function (layer, name) {\r\n\t\tthis._addLayer(layer, name);\r\n\t\treturn (this._map) ? this._update() : this;\r\n\t},\r\n\r\n\t// @method addOverlay(layer: Layer, name: String): this\r\n\t// Adds an overlay (checkbox entry) with the given name to the control.\r\n\taddOverlay: function (layer, name) {\r\n\t\tthis._addLayer(layer, name, true);\r\n\t\treturn (this._map) ? this._update() : this;\r\n\t},\r\n\r\n\t// @method removeLayer(layer: Layer): this\r\n\t// Remove the given layer from the control.\r\n\tremoveLayer: function (layer) {\r\n\t\tlayer.off('add remove', this._onLayerChange, this);\r\n\r\n\t\tvar obj = this._getLayer(stamp(layer));\r\n\t\tif (obj) {\r\n\t\t\tthis._layers.splice(this._layers.indexOf(obj), 1);\r\n\t\t}\r\n\t\treturn (this._map) ? this._update() : this;\r\n\t},\r\n\r\n\t// @method expand(): this\r\n\t// Expand the control container if collapsed.\r\n\texpand: function () {\r\n\t\taddClass(this._container, 'leaflet-control-layers-expanded');\r\n\t\tthis._section.style.height = null;\r\n\t\tvar acceptableHeight = this._map.getSize().y - (this._container.offsetTop + 50);\r\n\t\tif (acceptableHeight < this._section.clientHeight) {\r\n\t\t\taddClass(this._section, 'leaflet-control-layers-scrollbar');\r\n\t\t\tthis._section.style.height = acceptableHeight + 'px';\r\n\t\t} else {\r\n\t\t\tremoveClass(this._section, 'leaflet-control-layers-scrollbar');\r\n\t\t}\r\n\t\tthis._checkDisabledLayers();\r\n\t\treturn this;\r\n\t},\r\n\r\n\t// @method collapse(): this\r\n\t// Collapse the control container if expanded.\r\n\tcollapse: function () {\r\n\t\tremoveClass(this._container, 'leaflet-control-layers-expanded');\r\n\t\treturn this;\r\n\t},\r\n\r\n\t_initLayout: function () {\r\n\t\tvar className = 'leaflet-control-layers',\r\n\t\t    container = this._container = create$1('div', className),\r\n\t\t    collapsed = this.options.collapsed;\r\n\r\n\t\t// makes this work on IE touch devices by stopping it from firing a mouseout event when the touch is released\r\n\t\tcontainer.setAttribute('aria-haspopup', true);\r\n\r\n\t\tdisableClickPropagation(container);\r\n\t\tdisableScrollPropagation(container);\r\n\r\n\t\tvar section = this._section = create$1('section', className + '-list');\r\n\r\n\t\tif (collapsed) {\r\n\t\t\tthis._map.on('click', this.collapse, this);\r\n\r\n\t\t\tif (!android) {\r\n\t\t\t\ton(container, {\r\n\t\t\t\t\tmouseenter: this.expand,\r\n\t\t\t\t\tmouseleave: this.collapse\r\n\t\t\t\t}, this);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tvar link = this._layersLink = create$1('a', className + '-toggle', container);\r\n\t\tlink.href = '#';\r\n\t\tlink.title = 'Layers';\r\n\r\n\t\tif (touch) {\r\n\t\t\ton(link, 'click', stop);\r\n\t\t\ton(link, 'click', this.expand, this);\r\n\t\t} else {\r\n\t\t\ton(link, 'focus', this.expand, this);\r\n\t\t}\r\n\r\n\t\tif (!collapsed) {\r\n\t\t\tthis.expand();\r\n\t\t}\r\n\r\n\t\tthis._baseLayersList = create$1('div', className + '-base', section);\r\n\t\tthis._separator = create$1('div', className + '-separator', section);\r\n\t\tthis._overlaysList = create$1('div', className + '-overlays', section);\r\n\r\n\t\tcontainer.appendChild(section);\r\n\t},\r\n\r\n\t_getLayer: function (id) {\r\n\t\tfor (var i = 0; i < this._layers.length; i++) {\r\n\r\n\t\t\tif (this._layers[i] && stamp(this._layers[i].layer) === id) {\r\n\t\t\t\treturn this._layers[i];\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\r\n\t_addLayer: function (layer, name, overlay) {\r\n\t\tif (this._map) {\r\n\t\t\tlayer.on('add remove', this._onLayerChange, this);\r\n\t\t}\r\n\r\n\t\tthis._layers.push({\r\n\t\t\tlayer: layer,\r\n\t\t\tname: name,\r\n\t\t\toverlay: overlay\r\n\t\t});\r\n\r\n\t\tif (this.options.sortLayers) {\r\n\t\t\tthis._layers.sort(bind(function (a, b) {\r\n\t\t\t\treturn this.options.sortFunction(a.layer, b.layer, a.name, b.name);\r\n\t\t\t}, this));\r\n\t\t}\r\n\r\n\t\tif (this.options.autoZIndex && layer.setZIndex) {\r\n\t\t\tthis._lastZIndex++;\r\n\t\t\tlayer.setZIndex(this._lastZIndex);\r\n\t\t}\r\n\r\n\t\tthis._expandIfNotCollapsed();\r\n\t},\r\n\r\n\t_update: function () {\r\n\t\tif (!this._container) { return this; }\r\n\r\n\t\tempty(this._baseLayersList);\r\n\t\tempty(this._overlaysList);\r\n\r\n\t\tthis._layerControlInputs = [];\r\n\t\tvar baseLayersPresent, overlaysPresent, i, obj, baseLayersCount = 0;\r\n\r\n\t\tfor (i = 0; i < this._layers.length; i++) {\r\n\t\t\tobj = this._layers[i];\r\n\t\t\tthis._addItem(obj);\r\n\t\t\toverlaysPresent = overlaysPresent || obj.overlay;\r\n\t\t\tbaseLayersPresent = baseLayersPresent || !obj.overlay;\r\n\t\t\tbaseLayersCount += !obj.overlay ? 1 : 0;\r\n\t\t}\r\n\r\n\t\t// Hide base layers section if there's only one layer.\r\n\t\tif (this.options.hideSingleBase) {\r\n\t\t\tbaseLayersPresent = baseLayersPresent && baseLayersCount > 1;\r\n\t\t\tthis._baseLayersList.style.display = baseLayersPresent ? '' : 'none';\r\n\t\t}\r\n\r\n\t\tthis._separator.style.display = overlaysPresent && baseLayersPresent ? '' : 'none';\r\n\r\n\t\treturn this;\r\n\t},\r\n\r\n\t_onLayerChange: function (e) {\r\n\t\tif (!this._handlingClick) {\r\n\t\t\tthis._update();\r\n\t\t}\r\n\r\n\t\tvar obj = this._getLayer(stamp(e.target));\r\n\r\n\t\t// @namespace Map\r\n\t\t// @section Layer events\r\n\t\t// @event baselayerchange: LayersControlEvent\r\n\t\t// Fired when the base layer is changed through the [layers control](#control-layers).\r\n\t\t// @event overlayadd: LayersControlEvent\r\n\t\t// Fired when an overlay is selected through the [layers control](#control-layers).\r\n\t\t// @event overlayremove: LayersControlEvent\r\n\t\t// Fired when an overlay is deselected through the [layers control](#control-layers).\r\n\t\t// @namespace Control.Layers\r\n\t\tvar type = obj.overlay ?\r\n\t\t\t(e.type === 'add' ? 'overlayadd' : 'overlayremove') :\r\n\t\t\t(e.type === 'add' ? 'baselayerchange' : null);\r\n\r\n\t\tif (type) {\r\n\t\t\tthis._map.fire(type, obj);\r\n\t\t}\r\n\t},\r\n\r\n\t// IE7 bugs out if you create a radio dynamically, so you have to do it this hacky way (see http://bit.ly/PqYLBe)\r\n\t_createRadioElement: function (name, checked) {\r\n\r\n\t\tvar radioHtml = '<input type=\"radio\" class=\"leaflet-control-layers-selector\" name=\"' +\r\n\t\t\t\tname + '\"' + (checked ? ' checked=\"checked\"' : '') + '/>';\r\n\r\n\t\tvar radioFragment = document.createElement('div');\r\n\t\tradioFragment.innerHTML = radioHtml;\r\n\r\n\t\treturn radioFragment.firstChild;\r\n\t},\r\n\r\n\t_addItem: function (obj) {\r\n\t\tvar label = document.createElement('label'),\r\n\t\t    checked = this._map.hasLayer(obj.layer),\r\n\t\t    input;\r\n\r\n\t\tif (obj.overlay) {\r\n\t\t\tinput = document.createElement('input');\r\n\t\t\tinput.type = 'checkbox';\r\n\t\t\tinput.className = 'leaflet-control-layers-selector';\r\n\t\t\tinput.defaultChecked = checked;\r\n\t\t} else {\r\n\t\t\tinput = this._createRadioElement('leaflet-base-layers_' + stamp(this), checked);\r\n\t\t}\r\n\r\n\t\tthis._layerControlInputs.push(input);\r\n\t\tinput.layerId = stamp(obj.layer);\r\n\r\n\t\ton(input, 'click', this._onInputClick, this);\r\n\r\n\t\tvar name = document.createElement('span');\r\n\t\tname.innerHTML = ' ' + obj.name;\r\n\r\n\t\t// Helps from preventing layer control flicker when checkboxes are disabled\r\n\t\t// https://github.com/Leaflet/Leaflet/issues/2771\r\n\t\tvar holder = document.createElement('div');\r\n\r\n\t\tlabel.appendChild(holder);\r\n\t\tholder.appendChild(input);\r\n\t\tholder.appendChild(name);\r\n\r\n\t\tvar container = obj.overlay ? this._overlaysList : this._baseLayersList;\r\n\t\tcontainer.appendChild(label);\r\n\r\n\t\tthis._checkDisabledLayers();\r\n\t\treturn label;\r\n\t},\r\n\r\n\t_onInputClick: function () {\r\n\t\tvar inputs = this._layerControlInputs,\r\n\t\t    input, layer;\r\n\t\tvar addedLayers = [],\r\n\t\t    removedLayers = [];\r\n\r\n\t\tthis._handlingClick = true;\r\n\r\n\t\tfor (var i = inputs.length - 1; i >= 0; i--) {\r\n\t\t\tinput = inputs[i];\r\n\t\t\tlayer = this._getLayer(input.layerId).layer;\r\n\r\n\t\t\tif (input.checked) {\r\n\t\t\t\taddedLayers.push(layer);\r\n\t\t\t} else if (!input.checked) {\r\n\t\t\t\tremovedLayers.push(layer);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// Bugfix issue 2318: Should remove all old layers before readding new ones\r\n\t\tfor (i = 0; i < removedLayers.length; i++) {\r\n\t\t\tif (this._map.hasLayer(removedLayers[i])) {\r\n\t\t\t\tthis._map.removeLayer(removedLayers[i]);\r\n\t\t\t}\r\n\t\t}\r\n\t\tfor (i = 0; i < addedLayers.length; i++) {\r\n\t\t\tif (!this._map.hasLayer(addedLayers[i])) {\r\n\t\t\t\tthis._map.addLayer(addedLayers[i]);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tthis._handlingClick = false;\r\n\r\n\t\tthis._refocusOnMap();\r\n\t},\r\n\r\n\t_checkDisabledLayers: function () {\r\n\t\tvar inputs = this._layerControlInputs,\r\n\t\t    input,\r\n\t\t    layer,\r\n\t\t    zoom = this._map.getZoom();\r\n\r\n\t\tfor (var i = inputs.length - 1; i >= 0; i--) {\r\n\t\t\tinput = inputs[i];\r\n\t\t\tlayer = this._getLayer(input.layerId).layer;\r\n\t\t\tinput.disabled = (layer.options.minZoom !== undefined && zoom < layer.options.minZoom) ||\r\n\t\t\t                 (layer.options.maxZoom !== undefined && zoom > layer.options.maxZoom);\r\n\r\n\t\t}\r\n\t},\r\n\r\n\t_expandIfNotCollapsed: function () {\r\n\t\tif (this._map && !this.options.collapsed) {\r\n\t\t\tthis.expand();\r\n\t\t}\r\n\t\treturn this;\r\n\t},\r\n\r\n\t_expand: function () {\r\n\t\t// Backward compatibility, remove me in 1.1.\r\n\t\treturn this.expand();\r\n\t},\r\n\r\n\t_collapse: function () {\r\n\t\t// Backward compatibility, remove me in 1.1.\r\n\t\treturn this.collapse();\r\n\t}\r\n\r\n});\r\n\n/*\r\n * @class Control.Zoom\r\n * @aka L.Control.Zoom\r\n * @inherits Control\r\n *\r\n * A basic zoom control with two buttons (zoom in and zoom out). It is put on the map by default unless you set its [`zoomControl` option](#map-zoomcontrol) to `false`. Extends `Control`.\r\n */\r\n\r\nvar Zoom = Control.extend({\r\n\t// @section\r\n\t// @aka Control.Zoom options\r\n\toptions: {\r\n\t\tposition: 'topleft',\r\n\r\n\t\t// @option zoomInText: String = '+'\r\n\t\t// The text set on the 'zoom in' button.\r\n\t\tzoomInText: '+',\r\n\r\n\t\t// @option zoomInTitle: String = 'Zoom in'\r\n\t\t// The title set on the 'zoom in' button.\r\n\t\tzoomInTitle: 'Zoom in',\r\n\r\n\t\t// @option zoomOutText: String = '&#x2212;'\r\n\t\t// The text set on the 'zoom out' button.\r\n\t\tzoomOutText: '&#x2212;',\r\n\r\n\t\t// @option zoomOutTitle: String = 'Zoom out'\r\n\t\t// The title set on the 'zoom out' button.\r\n\t\tzoomOutTitle: 'Zoom out'\r\n\t},\r\n\r\n\tonAdd: function (map) {\r\n\t\tvar zoomName = 'leaflet-control-zoom',\r\n\t\t    container = create$1('div', zoomName + ' leaflet-bar'),\r\n\t\t    options = this.options;\r\n\r\n\t\tthis._zoomInButton  = this._createButton(options.zoomInText, options.zoomInTitle,\r\n\t\t        zoomName + '-in',  container, this._zoomIn);\r\n\t\tthis._zoomOutButton = this._createButton(options.zoomOutText, options.zoomOutTitle,\r\n\t\t        zoomName + '-out', container, this._zoomOut);\r\n\r\n\t\tthis._updateDisabled();\r\n\t\tmap.on('zoomend zoomlevelschange', this._updateDisabled, this);\r\n\r\n\t\treturn container;\r\n\t},\r\n\r\n\tonRemove: function (map) {\r\n\t\tmap.off('zoomend zoomlevelschange', this._updateDisabled, this);\r\n\t},\r\n\r\n\tdisable: function () {\r\n\t\tthis._disabled = true;\r\n\t\tthis._updateDisabled();\r\n\t\treturn this;\r\n\t},\r\n\r\n\tenable: function () {\r\n\t\tthis._disabled = false;\r\n\t\tthis._updateDisabled();\r\n\t\treturn this;\r\n\t},\r\n\r\n\t_zoomIn: function (e) {\r\n\t\tif (!this._disabled && this._map._zoom < this._map.getMaxZoom()) {\r\n\t\t\tthis._map.zoomIn(this._map.options.zoomDelta * (e.shiftKey ? 3 : 1));\r\n\t\t}\r\n\t},\r\n\r\n\t_zoomOut: function (e) {\r\n\t\tif (!this._disabled && this._map._zoom > this._map.getMinZoom()) {\r\n\t\t\tthis._map.zoomOut(this._map.options.zoomDelta * (e.shiftKey ? 3 : 1));\r\n\t\t}\r\n\t},\r\n\r\n\t_createButton: function (html, title, className, container, fn) {\r\n\t\tvar link = create$1('a', className, container);\r\n\t\tlink.innerHTML = html;\r\n\t\tlink.href = '#';\r\n\t\tlink.title = title;\r\n\r\n\t\t/*\r\n\t\t * Will force screen readers like VoiceOver to read this as \"Zoom in - button\"\r\n\t\t */\r\n\t\tlink.setAttribute('role', 'button');\r\n\t\tlink.setAttribute('aria-label', title);\r\n\r\n\t\tdisableClickPropagation(link);\r\n\t\ton(link, 'click', stop);\r\n\t\ton(link, 'click', fn, this);\r\n\t\ton(link, 'click', this._refocusOnMap, this);\r\n\r\n\t\treturn link;\r\n\t},\r\n\r\n\t_updateDisabled: function () {\r\n\t\tvar map = this._map,\r\n\t\t    className = 'leaflet-disabled';\r\n\r\n\t\tremoveClass(this._zoomInButton, className);\r\n\t\tremoveClass(this._zoomOutButton, className);\r\n\r\n\t\tif (this._disabled || map._zoom === map.getMinZoom()) {\r\n\t\t\taddClass(this._zoomOutButton, className);\r\n\t\t}\r\n\t\tif (this._disabled || map._zoom === map.getMaxZoom()) {\r\n\t\t\taddClass(this._zoomInButton, className);\r\n\t\t}\r\n\t}\r\n});\r\n\r\n// @namespace Map\r\n// @section Control options\r\n// @option zoomControl: Boolean = true\r\n// Whether a [zoom control](#control-zoom) is added to the map by default.\r\nMap.mergeOptions({\r\n\tzoomControl: true\r\n});\r\n\r\nMap.addInitHook(function () {\r\n\tif (this.options.zoomControl) {\r\n\t\t// @section Controls\r\n\t\t// @property zoomControl: Control.Zoom\r\n\t\t// The default zoom control (only available if the\r\n\t\t// [`zoomControl` option](#map-zoomcontrol) was `true` when creating the map).\r\n\t\tthis.zoomControl = new Zoom();\r\n\t\tthis.addControl(this.zoomControl);\r\n\t}\r\n});\r\n\n/*\n * @class Control.Scale\n * @aka L.Control.Scale\n * @inherits Control\n *\n * A simple scale control that shows the scale of the current center of screen in metric (m/km) and imperial (mi/ft) systems. Extends `Control`.\n *\n * @example\n *\n * ```js\n * L.control.scale().addTo(map);\n * ```\n */\n\nvar Scale = Control.extend({\n\t// @section\n\t// @aka Control.Scale options\n\toptions: {\n\t\tposition: 'bottomleft',\n\n\t\t// @option maxWidth: Number = 100\n\t\t// Maximum width of the control in pixels. The width is set dynamically to show round values (e.g. 100, 200, 500).\n\t\tmaxWidth: 100,\n\n\t\t// @option metric: Boolean = True\n\t\t// Whether to show the metric scale line (m/km).\n\t\tmetric: true,\n\n\t\t// @option imperial: Boolean = True\n\t\t// Whether to show the imperial scale line (mi/ft).\n\t\timperial: true\n\n\t\t// @option updateWhenIdle: Boolean = false\n\t\t// If `true`, the control is updated on [`moveend`](#map-moveend), otherwise it's always up-to-date (updated on [`move`](#map-move)).\n\t},\n\n\tonAdd: function (map) {\n\t\tvar className = 'leaflet-control-scale',\n\t\t    container = create$1('div', className),\n\t\t    options = this.options;\n\n\t\tthis._addScales(options, className + '-line', container);\n\n\t\tmap.on(options.updateWhenIdle ? 'moveend' : 'move', this._update, this);\n\t\tmap.whenReady(this._update, this);\n\n\t\treturn container;\n\t},\n\n\tonRemove: function (map) {\n\t\tmap.off(this.options.updateWhenIdle ? 'moveend' : 'move', this._update, this);\n\t},\n\n\t_addScales: function (options, className, container) {\n\t\tif (options.metric) {\n\t\t\tthis._mScale = create$1('div', className, container);\n\t\t}\n\t\tif (options.imperial) {\n\t\t\tthis._iScale = create$1('div', className, container);\n\t\t}\n\t},\n\n\t_update: function () {\n\t\tvar map = this._map,\n\t\t    y = map.getSize().y / 2;\n\n\t\tvar maxMeters = map.distance(\n\t\t\tmap.containerPointToLatLng([0, y]),\n\t\t\tmap.containerPointToLatLng([this.options.maxWidth, y]));\n\n\t\tthis._updateScales(maxMeters);\n\t},\n\n\t_updateScales: function (maxMeters) {\n\t\tif (this.options.metric && maxMeters) {\n\t\t\tthis._updateMetric(maxMeters);\n\t\t}\n\t\tif (this.options.imperial && maxMeters) {\n\t\t\tthis._updateImperial(maxMeters);\n\t\t}\n\t},\n\n\t_updateMetric: function (maxMeters) {\n\t\tvar meters = this._getRoundNum(maxMeters),\n\t\t    label = meters < 1000 ? meters + ' m' : (meters / 1000) + ' km';\n\n\t\tthis._updateScale(this._mScale, label, meters / maxMeters);\n\t},\n\n\t_updateImperial: function (maxMeters) {\n\t\tvar maxFeet = maxMeters * 3.2808399,\n\t\t    maxMiles, miles, feet;\n\n\t\tif (maxFeet > 5280) {\n\t\t\tmaxMiles = maxFeet / 5280;\n\t\t\tmiles = this._getRoundNum(maxMiles);\n\t\t\tthis._updateScale(this._iScale, miles + ' mi', miles / maxMiles);\n\n\t\t} else {\n\t\t\tfeet = this._getRoundNum(maxFeet);\n\t\t\tthis._updateScale(this._iScale, feet + ' ft', feet / maxFeet);\n\t\t}\n\t},\n\n\t_updateScale: function (scale, text, ratio) {\n\t\tscale.style.width = Math.round(this.options.maxWidth * ratio) + 'px';\n\t\tscale.innerHTML = text;\n\t},\n\n\t_getRoundNum: function (num) {\n\t\tvar pow10 = Math.pow(10, (Math.floor(num) + '').length - 1),\n\t\t    d = num / pow10;\n\n\t\td = d >= 10 ? 10 :\n\t\t    d >= 5 ? 5 :\n\t\t    d >= 3 ? 3 :\n\t\t    d >= 2 ? 2 : 1;\n\n\t\treturn pow10 * d;\n\t}\n});\n\n/*\r\n * @class Control.Attribution\r\n * @aka L.Control.Attribution\r\n * @inherits Control\r\n *\r\n * The attribution control allows you to display attribution data in a small text box on a map. It is put on the map by default unless you set its [`attributionControl` option](#map-attributioncontrol) to `false`, and it fetches attribution texts from layers with the [`getAttribution` method](#layer-getattribution) automatically. Extends Control.\r\n */\r\n\r\nvar Attribution = Control.extend({\r\n\t// @section\r\n\t// @aka Control.Attribution options\r\n\toptions: {\r\n\t\tposition: 'bottomright',\r\n\r\n\t\t// @option prefix: String = 'Leaflet'\r\n\t\t// The HTML text shown before the attributions. Pass `false` to disable.\r\n\t\tprefix: '<a href=\"https://leafletjs.com\" title=\"A JS library for interactive maps\">Leaflet</a>'\r\n\t},\r\n\r\n\tinitialize: function (options) {\r\n\t\tsetOptions(this, options);\r\n\r\n\t\tthis._attributions = {};\r\n\t},\r\n\r\n\tonAdd: function (map) {\r\n\t\tmap.attributionControl = this;\r\n\t\tthis._container = create$1('div', 'leaflet-control-attribution');\r\n\t\tdisableClickPropagation(this._container);\r\n\r\n\t\t// TODO ugly, refactor\r\n\t\tfor (var i in map._layers) {\r\n\t\t\tif (map._layers[i].getAttribution) {\r\n\t\t\t\tthis.addAttribution(map._layers[i].getAttribution());\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tthis._update();\r\n\r\n\t\treturn this._container;\r\n\t},\r\n\r\n\t// @method setPrefix(prefix: String): this\r\n\t// Sets the text before the attributions.\r\n\tsetPrefix: function (prefix) {\r\n\t\tthis.options.prefix = prefix;\r\n\t\tthis._update();\r\n\t\treturn this;\r\n\t},\r\n\r\n\t// @method addAttribution(text: String): this\r\n\t// Adds an attribution text (e.g. `'Vector data &copy; Mapbox'`).\r\n\taddAttribution: function (text) {\r\n\t\tif (!text) { return this; }\r\n\r\n\t\tif (!this._attributions[text]) {\r\n\t\t\tthis._attributions[text] = 0;\r\n\t\t}\r\n\t\tthis._attributions[text]++;\r\n\r\n\t\tthis._update();\r\n\r\n\t\treturn this;\r\n\t},\r\n\r\n\t// @method removeAttribution(text: String): this\r\n\t// Removes an attribution text.\r\n\tremoveAttribution: function (text) {\r\n\t\tif (!text) { return this; }\r\n\r\n\t\tif (this._attributions[text]) {\r\n\t\t\tthis._attributions[text]--;\r\n\t\t\tthis._update();\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\t},\r\n\r\n\t_update: function () {\r\n\t\tif (!this._map) { return; }\r\n\r\n\t\tvar attribs = [];\r\n\r\n\t\tfor (var i in this._attributions) {\r\n\t\t\tif (this._attributions[i]) {\r\n\t\t\t\tattribs.push(i);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tvar prefixAndAttribs = [];\r\n\r\n\t\tif (this.options.prefix) {\r\n\t\t\tprefixAndAttribs.push(this.options.prefix);\r\n\t\t}\r\n\t\tif (attribs.length) {\r\n\t\t\tprefixAndAttribs.push(attribs.join(', '));\r\n\t\t}\r\n\r\n\t\tthis._container.innerHTML = prefixAndAttribs.join(' | ');\r\n\t}\r\n});\r\n\r\n// @namespace Map\r\n// @section Control options\r\n// @option attributionControl: Boolean = true\r\n// Whether a [attribution control](#control-attribution) is added to the map by default.\r\nMap.mergeOptions({\r\n\tattributionControl: true\r\n});\r\n\r\nMap.addInitHook(function () {\r\n\tif (this.options.attributionControl) {\r\n\t\tnew Attribution().addTo(this);\r\n\t}\r\n});\r\n\nControl.Layers = Layers;\nControl.Zoom = Zoom;\nControl.Scale = Scale;\nControl.Attribution = Attribution;\n\n/*\n\tL.Handler is a base class for handler classes that are used internally to inject\n\tinteraction features like dragging to classes like Map and Marker.\n*/\n\n// @class Handler\n// @aka L.Handler\n// Abstract class for map interaction handlers\n\nvar Handler = Class.extend({\n\tinitialize: function (map) {\n\t\tthis._map = map;\n\t},\n\n\t// @method enable(): this\n\t// Enables the handler\n\tenable: function () {\n\t\tif (this._enabled) { return this; }\n\n\t\tthis._enabled = true;\n\t\tthis.addHooks();\n\t\treturn this;\n\t},\n\n\t// @method disable(): this\n\t// Disables the handler\n\tdisable: function () {\n\t\tif (!this._enabled) { return this; }\n\n\t\tthis._enabled = false;\n\t\tthis.removeHooks();\n\t\treturn this;\n\t},\n\n\t// @method enabled(): Boolean\n\t// Returns `true` if the handler is enabled\n\tenabled: function () {\n\t\treturn !!this._enabled;\n\t}\n\n\t// @section Extension methods\n\t// Classes inheriting from `Handler` must implement the two following methods:\n\t// @method addHooks()\n\t// Called when the handler is enabled, should add event hooks.\n\t// @method removeHooks()\n\t// Called when the handler is disabled, should remove the event hooks added previously.\n});\n\n// @section There is static function which can be called without instantiating L.Handler:\n// @function addTo(map: Map, name: String): this\n// Adds a new Handler to the given map with the given name.\nHandler.addTo = function (map, name) {\n\tmap.addHandler(name, this);\n\treturn this;\n};\n\n/*\r\n * @class Draggable\r\n * @aka L.Draggable\r\n * @inherits Evented\r\n *\r\n * A class for making DOM elements draggable (including touch support).\r\n * Used internally for map and marker dragging. Only works for elements\r\n * that were positioned with [`L.DomUtil.setPosition`](#domutil-setposition).\r\n *\r\n * @example\r\n * ```js\r\n * var draggable = new L.Draggable(elementToDrag);\r\n * draggable.enable();\r\n * ```\r\n */\r\n\r\nvar START = touch ? 'touchstart mousedown' : 'mousedown';\r\nvar END = {\r\n\tmousedown: 'mouseup',\r\n\ttouchstart: 'touchend',\r\n\tpointerdown: 'touchend',\r\n\tMSPointerDown: 'touchend'\r\n};\r\nvar MOVE = {\r\n\tmousedown: 'mousemove',\r\n\ttouchstart: 'touchmove',\r\n\tpointerdown: 'touchmove',\r\n\tMSPointerDown: 'touchmove'\r\n};\r\n\r\n\r\nvar Draggable = Evented.extend({\r\n\r\n\toptions: {\r\n\t\t// @section\r\n\t\t// @aka Draggable options\r\n\t\t// @option clickTolerance: Number = 3\r\n\t\t// The max number of pixels a user can shift the mouse pointer during a click\r\n\t\t// for it to be considered a valid click (as opposed to a mouse drag).\r\n\t\tclickTolerance: 3\r\n\t},\r\n\r\n\t// @constructor L.Draggable(el: HTMLElement, dragHandle?: HTMLElement, preventOutline?: Boolean, options?: Draggable options)\r\n\t// Creates a `Draggable` object for moving `el` when you start dragging the `dragHandle` element (equals `el` itself by default).\r\n\tinitialize: function (element, dragStartTarget, preventOutline$$1, options) {\r\n\t\tsetOptions(this, options);\r\n\r\n\t\tthis._element = element;\r\n\t\tthis._dragStartTarget = dragStartTarget || element;\r\n\t\tthis._preventOutline = preventOutline$$1;\r\n\t},\r\n\r\n\t// @method enable()\r\n\t// Enables the dragging ability\r\n\tenable: function () {\r\n\t\tif (this._enabled) { return; }\r\n\r\n\t\ton(this._dragStartTarget, START, this._onDown, this);\r\n\r\n\t\tthis._enabled = true;\r\n\t},\r\n\r\n\t// @method disable()\r\n\t// Disables the dragging ability\r\n\tdisable: function () {\r\n\t\tif (!this._enabled) { return; }\r\n\r\n\t\t// If we're currently dragging this draggable,\r\n\t\t// disabling it counts as first ending the drag.\r\n\t\tif (Draggable._dragging === this) {\r\n\t\t\tthis.finishDrag();\r\n\t\t}\r\n\r\n\t\toff(this._dragStartTarget, START, this._onDown, this);\r\n\r\n\t\tthis._enabled = false;\r\n\t\tthis._moved = false;\r\n\t},\r\n\r\n\t_onDown: function (e) {\r\n\t\t// Ignore simulated events, since we handle both touch and\r\n\t\t// mouse explicitly; otherwise we risk getting duplicates of\r\n\t\t// touch events, see #4315.\r\n\t\t// Also ignore the event if disabled; this happens in IE11\r\n\t\t// under some circumstances, see #3666.\r\n\t\tif (e._simulated || !this._enabled) { return; }\r\n\r\n\t\tthis._moved = false;\r\n\r\n\t\tif (hasClass(this._element, 'leaflet-zoom-anim')) { return; }\r\n\r\n\t\tif (Draggable._dragging || e.shiftKey || ((e.which !== 1) && (e.button !== 1) && !e.touches)) { return; }\r\n\t\tDraggable._dragging = this;  // Prevent dragging multiple objects at once.\r\n\r\n\t\tif (this._preventOutline) {\r\n\t\t\tpreventOutline(this._element);\r\n\t\t}\r\n\r\n\t\tdisableImageDrag();\r\n\t\tdisableTextSelection();\r\n\r\n\t\tif (this._moving) { return; }\r\n\r\n\t\t// @event down: Event\r\n\t\t// Fired when a drag is about to start.\r\n\t\tthis.fire('down');\r\n\r\n\t\tvar first = e.touches ? e.touches[0] : e,\r\n\t\t    sizedParent = getSizedParentNode(this._element);\r\n\r\n\t\tthis._startPoint = new Point(first.clientX, first.clientY);\r\n\r\n\t\t// Cache the scale, so that we can continuously compensate for it during drag (_onMove).\r\n\t\tthis._parentScale = getScale(sizedParent);\r\n\r\n\t\ton(document, MOVE[e.type], this._onMove, this);\r\n\t\ton(document, END[e.type], this._onUp, this);\r\n\t},\r\n\r\n\t_onMove: function (e) {\r\n\t\t// Ignore simulated events, since we handle both touch and\r\n\t\t// mouse explicitly; otherwise we risk getting duplicates of\r\n\t\t// touch events, see #4315.\r\n\t\t// Also ignore the event if disabled; this happens in IE11\r\n\t\t// under some circumstances, see #3666.\r\n\t\tif (e._simulated || !this._enabled) { return; }\r\n\r\n\t\tif (e.touches && e.touches.length > 1) {\r\n\t\t\tthis._moved = true;\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tvar first = (e.touches && e.touches.length === 1 ? e.touches[0] : e),\r\n\t\t    offset = new Point(first.clientX, first.clientY)._subtract(this._startPoint);\r\n\r\n\t\tif (!offset.x && !offset.y) { return; }\r\n\t\tif (Math.abs(offset.x) + Math.abs(offset.y) < this.options.clickTolerance) { return; }\r\n\r\n\t\t// We assume that the parent container's position, border and scale do not change for the duration of the drag.\r\n\t\t// Therefore there is no need to account for the position and border (they are eliminated by the subtraction)\r\n\t\t// and we can use the cached value for the scale.\r\n\t\toffset.x /= this._parentScale.x;\r\n\t\toffset.y /= this._parentScale.y;\r\n\r\n\t\tpreventDefault(e);\r\n\r\n\t\tif (!this._moved) {\r\n\t\t\t// @event dragstart: Event\r\n\t\t\t// Fired when a drag starts\r\n\t\t\tthis.fire('dragstart');\r\n\r\n\t\t\tthis._moved = true;\r\n\t\t\tthis._startPos = getPosition(this._element).subtract(offset);\r\n\r\n\t\t\taddClass(document.body, 'leaflet-dragging');\r\n\r\n\t\t\tthis._lastTarget = e.target || e.srcElement;\r\n\t\t\t// IE and Edge do not give the <use> element, so fetch it\r\n\t\t\t// if necessary\r\n\t\t\tif (window.SVGElementInstance && this._lastTarget instanceof window.SVGElementInstance) {\r\n\t\t\t\tthis._lastTarget = this._lastTarget.correspondingUseElement;\r\n\t\t\t}\r\n\t\t\taddClass(this._lastTarget, 'leaflet-drag-target');\r\n\t\t}\r\n\r\n\t\tthis._newPos = this._startPos.add(offset);\r\n\t\tthis._moving = true;\r\n\r\n\t\tcancelAnimFrame(this._animRequest);\r\n\t\tthis._lastEvent = e;\r\n\t\tthis._animRequest = requestAnimFrame(this._updatePosition, this, true);\r\n\t},\r\n\r\n\t_updatePosition: function () {\r\n\t\tvar e = {originalEvent: this._lastEvent};\r\n\r\n\t\t// @event predrag: Event\r\n\t\t// Fired continuously during dragging *before* each corresponding\r\n\t\t// update of the element's position.\r\n\t\tthis.fire('predrag', e);\r\n\t\tsetPosition(this._element, this._newPos);\r\n\r\n\t\t// @event drag: Event\r\n\t\t// Fired continuously during dragging.\r\n\t\tthis.fire('drag', e);\r\n\t},\r\n\r\n\t_onUp: function (e) {\r\n\t\t// Ignore simulated events, since we handle both touch and\r\n\t\t// mouse explicitly; otherwise we risk getting duplicates of\r\n\t\t// touch events, see #4315.\r\n\t\t// Also ignore the event if disabled; this happens in IE11\r\n\t\t// under some circumstances, see #3666.\r\n\t\tif (e._simulated || !this._enabled) { return; }\r\n\t\tthis.finishDrag();\r\n\t},\r\n\r\n\tfinishDrag: function () {\r\n\t\tremoveClass(document.body, 'leaflet-dragging');\r\n\r\n\t\tif (this._lastTarget) {\r\n\t\t\tremoveClass(this._lastTarget, 'leaflet-drag-target');\r\n\t\t\tthis._lastTarget = null;\r\n\t\t}\r\n\r\n\t\tfor (var i in MOVE) {\r\n\t\t\toff(document, MOVE[i], this._onMove, this);\r\n\t\t\toff(document, END[i], this._onUp, this);\r\n\t\t}\r\n\r\n\t\tenableImageDrag();\r\n\t\tenableTextSelection();\r\n\r\n\t\tif (this._moved && this._moving) {\r\n\t\t\t// ensure drag is not fired after dragend\r\n\t\t\tcancelAnimFrame(this._animRequest);\r\n\r\n\t\t\t// @event dragend: DragEndEvent\r\n\t\t\t// Fired when the drag ends.\r\n\t\t\tthis.fire('dragend', {\r\n\t\t\t\tdistance: this._newPos.distanceTo(this._startPos)\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tthis._moving = false;\r\n\t\tDraggable._dragging = false;\r\n\t}\r\n\r\n});\n\n/*\r\n * @namespace LineUtil\r\n *\r\n * Various utility functions for polyline points processing, used by Leaflet internally to make polylines lightning-fast.\r\n */\r\n\r\n// Simplify polyline with vertex reduction and Douglas-Peucker simplification.\r\n// Improves rendering performance dramatically by lessening the number of points to draw.\r\n\r\n// @function simplify(points: Point[], tolerance: Number): Point[]\r\n// Dramatically reduces the number of points in a polyline while retaining\r\n// its shape and returns a new array of simplified points, using the\r\n// [Douglas-Peucker algorithm](http://en.wikipedia.org/wiki/Douglas-Peucker_algorithm).\r\n// Used for a huge performance boost when processing/displaying Leaflet polylines for\r\n// each zoom level and also reducing visual noise. tolerance affects the amount of\r\n// simplification (lesser value means higher quality but slower and with more points).\r\n// Also released as a separated micro-library [Simplify.js](http://mourner.github.com/simplify-js/).\r\nfunction simplify(points, tolerance) {\r\n\tif (!tolerance || !points.length) {\r\n\t\treturn points.slice();\r\n\t}\r\n\r\n\tvar sqTolerance = tolerance * tolerance;\r\n\r\n\t    // stage 1: vertex reduction\r\n\t    points = _reducePoints(points, sqTolerance);\r\n\r\n\t    // stage 2: Douglas-Peucker simplification\r\n\t    points = _simplifyDP(points, sqTolerance);\r\n\r\n\treturn points;\r\n}\r\n\r\n// @function pointToSegmentDistance(p: Point, p1: Point, p2: Point): Number\r\n// Returns the distance between point `p` and segment `p1` to `p2`.\r\nfunction pointToSegmentDistance(p, p1, p2) {\r\n\treturn Math.sqrt(_sqClosestPointOnSegment(p, p1, p2, true));\r\n}\r\n\r\n// Douglas-Peucker simplification, see http://en.wikipedia.org/wiki/Douglas-Peucker_algorithm\r\nfunction _simplifyDP(points, sqTolerance) {\r\n\r\n\tvar len = points.length,\r\n\t    ArrayConstructor = typeof Uint8Array !== undefined + '' ? Uint8Array : Array,\r\n\t    markers = new ArrayConstructor(len);\r\n\r\n\t    markers[0] = markers[len - 1] = 1;\r\n\r\n\t_simplifyDPStep(points, markers, sqTolerance, 0, len - 1);\r\n\r\n\tvar i,\r\n\t    newPoints = [];\r\n\r\n\tfor (i = 0; i < len; i++) {\r\n\t\tif (markers[i]) {\r\n\t\t\tnewPoints.push(points[i]);\r\n\t\t}\r\n\t}\r\n\r\n\treturn newPoints;\r\n}\r\n\r\nfunction _simplifyDPStep(points, markers, sqTolerance, first, last) {\r\n\r\n\tvar maxSqDist = 0,\r\n\tindex, i, sqDist;\r\n\r\n\tfor (i = first + 1; i <= last - 1; i++) {\r\n\t\tsqDist = _sqClosestPointOnSegment(points[i], points[first], points[last], true);\r\n\r\n\t\tif (sqDist > maxSqDist) {\r\n\t\t\tindex = i;\r\n\t\t\tmaxSqDist = sqDist;\r\n\t\t}\r\n\t}\r\n\r\n\tif (maxSqDist > sqTolerance) {\r\n\t\tmarkers[index] = 1;\r\n\r\n\t\t_simplifyDPStep(points, markers, sqTolerance, first, index);\r\n\t\t_simplifyDPStep(points, markers, sqTolerance, index, last);\r\n\t}\r\n}\r\n\r\n// reduce points that are too close to each other to a single point\r\nfunction _reducePoints(points, sqTolerance) {\r\n\tvar reducedPoints = [points[0]];\r\n\r\n\tfor (var i = 1, prev = 0, len = points.length; i < len; i++) {\r\n\t\tif (_sqDist(points[i], points[prev]) > sqTolerance) {\r\n\t\t\treducedPoints.push(points[i]);\r\n\t\t\tprev = i;\r\n\t\t}\r\n\t}\r\n\tif (prev < len - 1) {\r\n\t\treducedPoints.push(points[len - 1]);\r\n\t}\r\n\treturn reducedPoints;\r\n}\r\n\r\nvar _lastCode;\r\n\r\n// @function clipSegment(a: Point, b: Point, bounds: Bounds, useLastCode?: Boolean, round?: Boolean): Point[]|Boolean\r\n// Clips the segment a to b by rectangular bounds with the\r\n// [Cohen-Sutherland algorithm](https://en.wikipedia.org/wiki/Cohen%E2%80%93Sutherland_algorithm)\r\n// (modifying the segment points directly!). Used by Leaflet to only show polyline\r\n// points that are on the screen or near, increasing performance.\r\nfunction clipSegment(a, b, bounds, useLastCode, round) {\r\n\tvar codeA = useLastCode ? _lastCode : _getBitCode(a, bounds),\r\n\t    codeB = _getBitCode(b, bounds),\r\n\r\n\t    codeOut, p, newCode;\r\n\r\n\t    // save 2nd code to avoid calculating it on the next segment\r\n\t    _lastCode = codeB;\r\n\r\n\twhile (true) {\r\n\t\t// if a,b is inside the clip window (trivial accept)\r\n\t\tif (!(codeA | codeB)) {\r\n\t\t\treturn [a, b];\r\n\t\t}\r\n\r\n\t\t// if a,b is outside the clip window (trivial reject)\r\n\t\tif (codeA & codeB) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\t// other cases\r\n\t\tcodeOut = codeA || codeB;\r\n\t\tp = _getEdgeIntersection(a, b, codeOut, bounds, round);\r\n\t\tnewCode = _getBitCode(p, bounds);\r\n\r\n\t\tif (codeOut === codeA) {\r\n\t\t\ta = p;\r\n\t\t\tcodeA = newCode;\r\n\t\t} else {\r\n\t\t\tb = p;\r\n\t\t\tcodeB = newCode;\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction _getEdgeIntersection(a, b, code, bounds, round) {\r\n\tvar dx = b.x - a.x,\r\n\t    dy = b.y - a.y,\r\n\t    min = bounds.min,\r\n\t    max = bounds.max,\r\n\t    x, y;\r\n\r\n\tif (code & 8) { // top\r\n\t\tx = a.x + dx * (max.y - a.y) / dy;\r\n\t\ty = max.y;\r\n\r\n\t} else if (code & 4) { // bottom\r\n\t\tx = a.x + dx * (min.y - a.y) / dy;\r\n\t\ty = min.y;\r\n\r\n\t} else if (code & 2) { // right\r\n\t\tx = max.x;\r\n\t\ty = a.y + dy * (max.x - a.x) / dx;\r\n\r\n\t} else if (code & 1) { // left\r\n\t\tx = min.x;\r\n\t\ty = a.y + dy * (min.x - a.x) / dx;\r\n\t}\r\n\r\n\treturn new Point(x, y, round);\r\n}\r\n\r\nfunction _getBitCode(p, bounds) {\r\n\tvar code = 0;\r\n\r\n\tif (p.x < bounds.min.x) { // left\r\n\t\tcode |= 1;\r\n\t} else if (p.x > bounds.max.x) { // right\r\n\t\tcode |= 2;\r\n\t}\r\n\r\n\tif (p.y < bounds.min.y) { // bottom\r\n\t\tcode |= 4;\r\n\t} else if (p.y > bounds.max.y) { // top\r\n\t\tcode |= 8;\r\n\t}\r\n\r\n\treturn code;\r\n}\r\n\r\n// square distance (to avoid unnecessary Math.sqrt calls)\r\nfunction _sqDist(p1, p2) {\r\n\tvar dx = p2.x - p1.x,\r\n\t    dy = p2.y - p1.y;\r\n\treturn dx * dx + dy * dy;\r\n}\r\n\r\n// return closest point on segment or distance to that point\r\nfunction _sqClosestPointOnSegment(p, p1, p2, sqDist) {\r\n\tvar x = p1.x,\r\n\t    y = p1.y,\r\n\t    dx = p2.x - x,\r\n\t    dy = p2.y - y,\r\n\t    dot = dx * dx + dy * dy,\r\n\t    t;\r\n\r\n\tif (dot > 0) {\r\n\t\tt = ((p.x - x) * dx + (p.y - y) * dy) / dot;\r\n\r\n\t\tif (t > 1) {\r\n\t\t\tx = p2.x;\r\n\t\t\ty = p2.y;\r\n\t\t} else if (t > 0) {\r\n\t\t\tx += dx * t;\r\n\t\t\ty += dy * t;\r\n\t\t}\r\n\t}\r\n\r\n\tdx = p.x - x;\r\n\tdy = p.y - y;\r\n\r\n\treturn sqDist ? dx * dx + dy * dy : new Point(x, y);\r\n}\r\n\r\n\r\n// @function isFlat(latlngs: LatLng[]): Boolean\r\n// Returns true if `latlngs` is a flat array, false is nested.\r\nfunction isFlat(latlngs) {\r\n\treturn !isArray(latlngs[0]) || (typeof latlngs[0][0] !== 'object' && typeof latlngs[0][0] !== 'undefined');\r\n}\r\n\r\nfunction _flat(latlngs) {\r\n\tconsole.warn('Deprecated use of _flat, please use L.LineUtil.isFlat instead.');\r\n\treturn isFlat(latlngs);\r\n}\n\n/*\r\n * @namespace PolyUtil\r\n * Various utility functions for polygon geometries.\r\n */\r\n\r\n/* @function clipPolygon(points: Point[], bounds: Bounds, round?: Boolean): Point[]\r\n * Clips the polygon geometry defined by the given `points` by the given bounds (using the [Sutherland-Hodgman algorithm](https://en.wikipedia.org/wiki/Sutherland%E2%80%93Hodgman_algorithm)).\r\n * Used by Leaflet to only show polygon points that are on the screen or near, increasing\r\n * performance. Note that polygon points needs different algorithm for clipping\r\n * than polyline, so there's a separate method for it.\r\n */\r\nfunction clipPolygon(points, bounds, round) {\r\n\tvar clippedPoints,\r\n\t    edges = [1, 4, 2, 8],\r\n\t    i, j, k,\r\n\t    a, b,\r\n\t    len, edge, p;\r\n\r\n\tfor (i = 0, len = points.length; i < len; i++) {\r\n\t\tpoints[i]._code = _getBitCode(points[i], bounds);\r\n\t}\r\n\r\n\t// for each edge (left, bottom, right, top)\r\n\tfor (k = 0; k < 4; k++) {\r\n\t\tedge = edges[k];\r\n\t\tclippedPoints = [];\r\n\r\n\t\tfor (i = 0, len = points.length, j = len - 1; i < len; j = i++) {\r\n\t\t\ta = points[i];\r\n\t\t\tb = points[j];\r\n\r\n\t\t\t// if a is inside the clip window\r\n\t\t\tif (!(a._code & edge)) {\r\n\t\t\t\t// if b is outside the clip window (a->b goes out of screen)\r\n\t\t\t\tif (b._code & edge) {\r\n\t\t\t\t\tp = _getEdgeIntersection(b, a, edge, bounds, round);\r\n\t\t\t\t\tp._code = _getBitCode(p, bounds);\r\n\t\t\t\t\tclippedPoints.push(p);\r\n\t\t\t\t}\r\n\t\t\t\tclippedPoints.push(a);\r\n\r\n\t\t\t// else if b is inside the clip window (a->b enters the screen)\r\n\t\t\t} else if (!(b._code & edge)) {\r\n\t\t\t\tp = _getEdgeIntersection(b, a, edge, bounds, round);\r\n\t\t\t\tp._code = _getBitCode(p, bounds);\r\n\t\t\t\tclippedPoints.push(p);\r\n\t\t\t}\r\n\t\t}\r\n\t\tpoints = clippedPoints;\r\n\t}\r\n\r\n\treturn points;\r\n}\n\n/*\r\n * @namespace Projection\r\n * @section\r\n * Leaflet comes with a set of already defined Projections out of the box:\r\n *\r\n * @projection L.Projection.LonLat\r\n *\r\n * Equirectangular, or Plate Carree projection  the most simple projection,\r\n * mostly used by GIS enthusiasts. Directly maps `x` as longitude, and `y` as\r\n * latitude. Also suitable for flat worlds, e.g. game maps. Used by the\r\n * `EPSG:4326` and `Simple` CRS.\r\n */\r\n\r\nvar LonLat = {\r\n\tproject: function (latlng) {\r\n\t\treturn new Point(latlng.lng, latlng.lat);\r\n\t},\r\n\r\n\tunproject: function (point) {\r\n\t\treturn new LatLng(point.y, point.x);\r\n\t},\r\n\r\n\tbounds: new Bounds([-180, -90], [180, 90])\r\n};\n\n/*\r\n * @namespace Projection\r\n * @projection L.Projection.Mercator\r\n *\r\n * Elliptical Mercator projection  more complex than Spherical Mercator. Assumes that Earth is an ellipsoid. Used by the EPSG:3395 CRS.\r\n */\r\n\r\nvar Mercator = {\r\n\tR: 6378137,\r\n\tR_MINOR: 6356752.314245179,\r\n\r\n\tbounds: new Bounds([-20037508.34279, -15496570.73972], [20037508.34279, 18764656.23138]),\r\n\r\n\tproject: function (latlng) {\r\n\t\tvar d = Math.PI / 180,\r\n\t\t    r = this.R,\r\n\t\t    y = latlng.lat * d,\r\n\t\t    tmp = this.R_MINOR / r,\r\n\t\t    e = Math.sqrt(1 - tmp * tmp),\r\n\t\t    con = e * Math.sin(y);\r\n\r\n\t\tvar ts = Math.tan(Math.PI / 4 - y / 2) / Math.pow((1 - con) / (1 + con), e / 2);\r\n\t\ty = -r * Math.log(Math.max(ts, 1E-10));\r\n\r\n\t\treturn new Point(latlng.lng * d * r, y);\r\n\t},\r\n\r\n\tunproject: function (point) {\r\n\t\tvar d = 180 / Math.PI,\r\n\t\t    r = this.R,\r\n\t\t    tmp = this.R_MINOR / r,\r\n\t\t    e = Math.sqrt(1 - tmp * tmp),\r\n\t\t    ts = Math.exp(-point.y / r),\r\n\t\t    phi = Math.PI / 2 - 2 * Math.atan(ts);\r\n\r\n\t\tfor (var i = 0, dphi = 0.1, con; i < 15 && Math.abs(dphi) > 1e-7; i++) {\r\n\t\t\tcon = e * Math.sin(phi);\r\n\t\t\tcon = Math.pow((1 - con) / (1 + con), e / 2);\r\n\t\t\tdphi = Math.PI / 2 - 2 * Math.atan(ts * con) - phi;\r\n\t\t\tphi += dphi;\r\n\t\t}\r\n\r\n\t\treturn new LatLng(phi * d, point.x * d / r);\r\n\t}\r\n};\n\n/*\r\n * @namespace CRS\r\n * @crs L.CRS.EPSG3395\r\n *\r\n * Rarely used by some commercial tile providers. Uses Elliptical Mercator projection.\r\n */\r\nvar EPSG3395 = extend({}, Earth, {\r\n\tcode: 'EPSG:3395',\r\n\tprojection: Mercator,\r\n\r\n\ttransformation: (function () {\r\n\t\tvar scale = 0.5 / (Math.PI * Mercator.R);\r\n\t\treturn toTransformation(scale, 0.5, -scale, 0.5);\r\n\t}())\r\n});\n\n/*\r\n * @namespace CRS\r\n * @crs L.CRS.EPSG4326\r\n *\r\n * A common CRS among GIS enthusiasts. Uses simple Equirectangular projection.\r\n *\r\n * Leaflet 1.0.x complies with the [TMS coordinate scheme for EPSG:4326](https://wiki.osgeo.org/wiki/Tile_Map_Service_Specification#global-geodetic),\r\n * which is a breaking change from 0.7.x behaviour.  If you are using a `TileLayer`\r\n * with this CRS, ensure that there are two 256x256 pixel tiles covering the\r\n * whole earth at zoom level zero, and that the tile coordinate origin is (-180,+90),\r\n * or (-180,-90) for `TileLayer`s with [the `tms` option](#tilelayer-tms) set.\r\n */\r\n\r\nvar EPSG4326 = extend({}, Earth, {\r\n\tcode: 'EPSG:4326',\r\n\tprojection: LonLat,\r\n\ttransformation: toTransformation(1 / 180, 1, -1 / 180, 0.5)\r\n});\n\n/*\n * @namespace CRS\n * @crs L.CRS.Simple\n *\n * A simple CRS that maps longitude and latitude into `x` and `y` directly.\n * May be used for maps of flat surfaces (e.g. game maps). Note that the `y`\n * axis should still be inverted (going from bottom to top). `distance()` returns\n * simple euclidean distance.\n */\n\nvar Simple = extend({}, CRS, {\n\tprojection: LonLat,\n\ttransformation: toTransformation(1, 0, -1, 0),\n\n\tscale: function (zoom) {\n\t\treturn Math.pow(2, zoom);\n\t},\n\n\tzoom: function (scale) {\n\t\treturn Math.log(scale) / Math.LN2;\n\t},\n\n\tdistance: function (latlng1, latlng2) {\n\t\tvar dx = latlng2.lng - latlng1.lng,\n\t\t    dy = latlng2.lat - latlng1.lat;\n\n\t\treturn Math.sqrt(dx * dx + dy * dy);\n\t},\n\n\tinfinite: true\n});\n\nCRS.Earth = Earth;\nCRS.EPSG3395 = EPSG3395;\nCRS.EPSG3857 = EPSG3857;\nCRS.EPSG900913 = EPSG900913;\nCRS.EPSG4326 = EPSG4326;\nCRS.Simple = Simple;\n\n/*\n * @class Layer\n * @inherits Evented\n * @aka L.Layer\n * @aka ILayer\n *\n * A set of methods from the Layer base class that all Leaflet layers use.\n * Inherits all methods, options and events from `L.Evented`.\n *\n * @example\n *\n * ```js\n * var layer = L.marker(latlng).addTo(map);\n * layer.addTo(map);\n * layer.remove();\n * ```\n *\n * @event add: Event\n * Fired after the layer is added to a map\n *\n * @event remove: Event\n * Fired after the layer is removed from a map\n */\n\n\nvar Layer = Evented.extend({\n\n\t// Classes extending `L.Layer` will inherit the following options:\n\toptions: {\n\t\t// @option pane: String = 'overlayPane'\n\t\t// By default the layer will be added to the map's [overlay pane](#map-overlaypane). Overriding this option will cause the layer to be placed on another pane by default.\n\t\tpane: 'overlayPane',\n\n\t\t// @option attribution: String = null\n\t\t// String to be shown in the attribution control, e.g. \" OpenStreetMap contributors\". It describes the layer data and is often a legal obligation towards copyright holders and tile providers.\n\t\tattribution: null,\n\n\t\tbubblingMouseEvents: true\n\t},\n\n\t/* @section\n\t * Classes extending `L.Layer` will inherit the following methods:\n\t *\n\t * @method addTo(map: Map|LayerGroup): this\n\t * Adds the layer to the given map or layer group.\n\t */\n\taddTo: function (map) {\n\t\tmap.addLayer(this);\n\t\treturn this;\n\t},\n\n\t// @method remove: this\n\t// Removes the layer from the map it is currently active on.\n\tremove: function () {\n\t\treturn this.removeFrom(this._map || this._mapToAdd);\n\t},\n\n\t// @method removeFrom(map: Map): this\n\t// Removes the layer from the given map\n\t//\n\t// @alternative\n\t// @method removeFrom(group: LayerGroup): this\n\t// Removes the layer from the given `LayerGroup`\n\tremoveFrom: function (obj) {\n\t\tif (obj) {\n\t\t\tobj.removeLayer(this);\n\t\t}\n\t\treturn this;\n\t},\n\n\t// @method getPane(name? : String): HTMLElement\n\t// Returns the `HTMLElement` representing the named pane on the map. If `name` is omitted, returns the pane for this layer.\n\tgetPane: function (name) {\n\t\treturn this._map.getPane(name ? (this.options[name] || name) : this.options.pane);\n\t},\n\n\taddInteractiveTarget: function (targetEl) {\n\t\tthis._map._targets[stamp(targetEl)] = this;\n\t\treturn this;\n\t},\n\n\tremoveInteractiveTarget: function (targetEl) {\n\t\tdelete this._map._targets[stamp(targetEl)];\n\t\treturn this;\n\t},\n\n\t// @method getAttribution: String\n\t// Used by the `attribution control`, returns the [attribution option](#gridlayer-attribution).\n\tgetAttribution: function () {\n\t\treturn this.options.attribution;\n\t},\n\n\t_layerAdd: function (e) {\n\t\tvar map = e.target;\n\n\t\t// check in case layer gets added and then removed before the map is ready\n\t\tif (!map.hasLayer(this)) { return; }\n\n\t\tthis._map = map;\n\t\tthis._zoomAnimated = map._zoomAnimated;\n\n\t\tif (this.getEvents) {\n\t\t\tvar events = this.getEvents();\n\t\t\tmap.on(events, this);\n\t\t\tthis.once('remove', function () {\n\t\t\t\tmap.off(events, this);\n\t\t\t}, this);\n\t\t}\n\n\t\tthis.onAdd(map);\n\n\t\tif (this.getAttribution && map.attributionControl) {\n\t\t\tmap.attributionControl.addAttribution(this.getAttribution());\n\t\t}\n\n\t\tthis.fire('add');\n\t\tmap.fire('layeradd', {layer: this});\n\t}\n});\n\n/* @section Extension methods\n * @uninheritable\n *\n * Every layer should extend from `L.Layer` and (re-)implement the following methods.\n *\n * @method onAdd(map: Map): this\n * Should contain code that creates DOM elements for the layer, adds them to `map panes` where they should belong and puts listeners on relevant map events. Called on [`map.addLayer(layer)`](#map-addlayer).\n *\n * @method onRemove(map: Map): this\n * Should contain all clean up code that removes the layer's elements from the DOM and removes listeners previously added in [`onAdd`](#layer-onadd). Called on [`map.removeLayer(layer)`](#map-removelayer).\n *\n * @method getEvents(): Object\n * This optional method should return an object like `{ viewreset: this._reset }` for [`addEventListener`](#evented-addeventlistener). The event handlers in this object will be automatically added and removed from the map with your layer.\n *\n * @method getAttribution(): String\n * This optional method should return a string containing HTML to be shown on the `Attribution control` whenever the layer is visible.\n *\n * @method beforeAdd(map: Map): this\n * Optional method. Called on [`map.addLayer(layer)`](#map-addlayer), before the layer is added to the map, before events are initialized, without waiting until the map is in a usable state. Use for early initialization only.\n */\n\n\n/* @namespace Map\n * @section Layer events\n *\n * @event layeradd: LayerEvent\n * Fired when a new layer is added to the map.\n *\n * @event layerremove: LayerEvent\n * Fired when some layer is removed from the map\n *\n * @section Methods for Layers and Controls\n */\nMap.include({\n\t// @method addLayer(layer: Layer): this\n\t// Adds the given layer to the map\n\taddLayer: function (layer) {\n\t\tif (!layer._layerAdd) {\n\t\t\tthrow new Error('The provided object is not a Layer.');\n\t\t}\n\n\t\tvar id = stamp(layer);\n\t\tif (this._layers[id]) { return this; }\n\t\tthis._layers[id] = layer;\n\n\t\tlayer._mapToAdd = this;\n\n\t\tif (layer.beforeAdd) {\n\t\t\tlayer.beforeAdd(this);\n\t\t}\n\n\t\tthis.whenReady(layer._layerAdd, layer);\n\n\t\treturn this;\n\t},\n\n\t// @method removeLayer(layer: Layer): this\n\t// Removes the given layer from the map.\n\tremoveLayer: function (layer) {\n\t\tvar id = stamp(layer);\n\n\t\tif (!this._layers[id]) { return this; }\n\n\t\tif (this._loaded) {\n\t\t\tlayer.onRemove(this);\n\t\t}\n\n\t\tif (layer.getAttribution && this.attributionControl) {\n\t\t\tthis.attributionControl.removeAttribution(layer.getAttribution());\n\t\t}\n\n\t\tdelete this._layers[id];\n\n\t\tif (this._loaded) {\n\t\t\tthis.fire('layerremove', {layer: layer});\n\t\t\tlayer.fire('remove');\n\t\t}\n\n\t\tlayer._map = layer._mapToAdd = null;\n\n\t\treturn this;\n\t},\n\n\t// @method hasLayer(layer: Layer): Boolean\n\t// Returns `true` if the given layer is currently added to the map\n\thasLayer: function (layer) {\n\t\treturn !!layer && (stamp(layer) in this._layers);\n\t},\n\n\t/* @method eachLayer(fn: Function, context?: Object): this\n\t * Iterates over the layers of the map, optionally specifying context of the iterator function.\n\t * ```\n\t * map.eachLayer(function(layer){\n\t *     layer.bindPopup('Hello');\n\t * });\n\t * ```\n\t */\n\teachLayer: function (method, context) {\n\t\tfor (var i in this._layers) {\n\t\t\tmethod.call(context, this._layers[i]);\n\t\t}\n\t\treturn this;\n\t},\n\n\t_addLayers: function (layers) {\n\t\tlayers = layers ? (isArray(layers) ? layers : [layers]) : [];\n\n\t\tfor (var i = 0, len = layers.length; i < len; i++) {\n\t\t\tthis.addLayer(layers[i]);\n\t\t}\n\t},\n\n\t_addZoomLimit: function (layer) {\n\t\tif (isNaN(layer.options.maxZoom) || !isNaN(layer.options.minZoom)) {\n\t\t\tthis._zoomBoundLayers[stamp(layer)] = layer;\n\t\t\tthis._updateZoomLevels();\n\t\t}\n\t},\n\n\t_removeZoomLimit: function (layer) {\n\t\tvar id = stamp(layer);\n\n\t\tif (this._zoomBoundLayers[id]) {\n\t\t\tdelete this._zoomBoundLayers[id];\n\t\t\tthis._updateZoomLevels();\n\t\t}\n\t},\n\n\t_updateZoomLevels: function () {\n\t\tvar minZoom = Infinity,\n\t\t    maxZoom = -Infinity,\n\t\t    oldZoomSpan = this._getZoomSpan();\n\n\t\tfor (var i in this._zoomBoundLayers) {\n\t\t\tvar options = this._zoomBoundLayers[i].options;\n\n\t\t\tminZoom = options.minZoom === undefined ? minZoom : Math.min(minZoom, options.minZoom);\n\t\t\tmaxZoom = options.maxZoom === undefined ? maxZoom : Math.max(maxZoom, options.maxZoom);\n\t\t}\n\n\t\tthis._layersMaxZoom = maxZoom === -Infinity ? undefined : maxZoom;\n\t\tthis._layersMinZoom = minZoom === Infinity ? undefined : minZoom;\n\n\t\t// @section Map state change events\n\t\t// @event zoomlevelschange: Event\n\t\t// Fired when the number of zoomlevels on the map is changed due\n\t\t// to adding or removing a layer.\n\t\tif (oldZoomSpan !== this._getZoomSpan()) {\n\t\t\tthis.fire('zoomlevelschange');\n\t\t}\n\n\t\tif (this.options.maxZoom === undefined && this._layersMaxZoom && this.getZoom() > this._layersMaxZoom) {\n\t\t\tthis.setZoom(this._layersMaxZoom);\n\t\t}\n\t\tif (this.options.minZoom === undefined && this._layersMinZoom && this.getZoom() < this._layersMinZoom) {\n\t\t\tthis.setZoom(this._layersMinZoom);\n\t\t}\n\t}\n});\n\n/*\r\n * @class LayerGroup\r\n * @aka L.LayerGroup\r\n * @inherits Layer\r\n *\r\n * Used to group several layers and handle them as one. If you add it to the map,\r\n * any layers added or removed from the group will be added/removed on the map as\r\n * well. Extends `Layer`.\r\n *\r\n * @example\r\n *\r\n * ```js\r\n * L.layerGroup([marker1, marker2])\r\n * \t.addLayer(polyline)\r\n * \t.addTo(map);\r\n * ```\r\n */\r\n\r\nvar LayerGroup = Layer.extend({\r\n\r\n\tinitialize: function (layers, options) {\r\n\t\tsetOptions(this, options);\r\n\r\n\t\tthis._layers = {};\r\n\r\n\t\tvar i, len;\r\n\r\n\t\tif (layers) {\r\n\t\t\tfor (i = 0, len = layers.length; i < len; i++) {\r\n\t\t\t\tthis.addLayer(layers[i]);\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\r\n\t// @method addLayer(layer: Layer): this\r\n\t// Adds the given layer to the group.\r\n\taddLayer: function (layer) {\r\n\t\tvar id = this.getLayerId(layer);\r\n\r\n\t\tthis._layers[id] = layer;\r\n\r\n\t\tif (this._map) {\r\n\t\t\tthis._map.addLayer(layer);\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\t},\r\n\r\n\t// @method removeLayer(layer: Layer): this\r\n\t// Removes the given layer from the group.\r\n\t// @alternative\r\n\t// @method removeLayer(id: Number): this\r\n\t// Removes the layer with the given internal ID from the group.\r\n\tremoveLayer: function (layer) {\r\n\t\tvar id = layer in this._layers ? layer : this.getLayerId(layer);\r\n\r\n\t\tif (this._map && this._layers[id]) {\r\n\t\t\tthis._map.removeLayer(this._layers[id]);\r\n\t\t}\r\n\r\n\t\tdelete this._layers[id];\r\n\r\n\t\treturn this;\r\n\t},\r\n\r\n\t// @method hasLayer(layer: Layer): Boolean\r\n\t// Returns `true` if the given layer is currently added to the group.\r\n\t// @alternative\r\n\t// @method hasLayer(id: Number): Boolean\r\n\t// Returns `true` if the given internal ID is currently added to the group.\r\n\thasLayer: function (layer) {\r\n\t\tif (!layer) { return false; }\r\n\t\tvar layerId = typeof layer === 'number' ? layer : this.getLayerId(layer);\r\n\t\treturn layerId in this._layers;\r\n\t},\r\n\r\n\t// @method clearLayers(): this\r\n\t// Removes all the layers from the group.\r\n\tclearLayers: function () {\r\n\t\treturn this.eachLayer(this.removeLayer, this);\r\n\t},\r\n\r\n\t// @method invoke(methodName: String, ): this\r\n\t// Calls `methodName` on every layer contained in this group, passing any\r\n\t// additional parameters. Has no effect if the layers contained do not\r\n\t// implement `methodName`.\r\n\tinvoke: function (methodName) {\r\n\t\tvar args = Array.prototype.slice.call(arguments, 1),\r\n\t\t    i, layer;\r\n\r\n\t\tfor (i in this._layers) {\r\n\t\t\tlayer = this._layers[i];\r\n\r\n\t\t\tif (layer[methodName]) {\r\n\t\t\t\tlayer[methodName].apply(layer, args);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\t},\r\n\r\n\tonAdd: function (map) {\r\n\t\tthis.eachLayer(map.addLayer, map);\r\n\t},\r\n\r\n\tonRemove: function (map) {\r\n\t\tthis.eachLayer(map.removeLayer, map);\r\n\t},\r\n\r\n\t// @method eachLayer(fn: Function, context?: Object): this\r\n\t// Iterates over the layers of the group, optionally specifying context of the iterator function.\r\n\t// ```js\r\n\t// group.eachLayer(function (layer) {\r\n\t// \tlayer.bindPopup('Hello');\r\n\t// });\r\n\t// ```\r\n\teachLayer: function (method, context) {\r\n\t\tfor (var i in this._layers) {\r\n\t\t\tmethod.call(context, this._layers[i]);\r\n\t\t}\r\n\t\treturn this;\r\n\t},\r\n\r\n\t// @method getLayer(id: Number): Layer\r\n\t// Returns the layer with the given internal ID.\r\n\tgetLayer: function (id) {\r\n\t\treturn this._layers[id];\r\n\t},\r\n\r\n\t// @method getLayers(): Layer[]\r\n\t// Returns an array of all the layers added to the group.\r\n\tgetLayers: function () {\r\n\t\tvar layers = [];\r\n\t\tthis.eachLayer(layers.push, layers);\r\n\t\treturn layers;\r\n\t},\r\n\r\n\t// @method setZIndex(zIndex: Number): this\r\n\t// Calls `setZIndex` on every layer contained in this group, passing the z-index.\r\n\tsetZIndex: function (zIndex) {\r\n\t\treturn this.invoke('setZIndex', zIndex);\r\n\t},\r\n\r\n\t// @method getLayerId(layer: Layer): Number\r\n\t// Returns the internal ID for a layer\r\n\tgetLayerId: function (layer) {\r\n\t\treturn stamp(layer);\r\n\t}\r\n});\r\n\n/*\r\n * @class FeatureGroup\r\n * @aka L.FeatureGroup\r\n * @inherits LayerGroup\r\n *\r\n * Extended `LayerGroup` that makes it easier to do the same thing to all its member layers:\r\n *  * [`bindPopup`](#layer-bindpopup) binds a popup to all of the layers at once (likewise with [`bindTooltip`](#layer-bindtooltip))\r\n *  * Events are propagated to the `FeatureGroup`, so if the group has an event\r\n * handler, it will handle events from any of the layers. This includes mouse events\r\n * and custom events.\r\n *  * Has `layeradd` and `layerremove` events\r\n *\r\n * @example\r\n *\r\n * ```js\r\n * L.featureGroup([marker1, marker2, polyline])\r\n * \t.bindPopup('Hello world!')\r\n * \t.on('click', function() { alert('Clicked on a member of the group!'); })\r\n * \t.addTo(map);\r\n * ```\r\n */\r\n\r\nvar FeatureGroup = LayerGroup.extend({\r\n\r\n\taddLayer: function (layer) {\r\n\t\tif (this.hasLayer(layer)) {\r\n\t\t\treturn this;\r\n\t\t}\r\n\r\n\t\tlayer.addEventParent(this);\r\n\r\n\t\tLayerGroup.prototype.addLayer.call(this, layer);\r\n\r\n\t\t// @event layeradd: LayerEvent\r\n\t\t// Fired when a layer is added to this `FeatureGroup`\r\n\t\treturn this.fire('layeradd', {layer: layer});\r\n\t},\r\n\r\n\tremoveLayer: function (layer) {\r\n\t\tif (!this.hasLayer(layer)) {\r\n\t\t\treturn this;\r\n\t\t}\r\n\t\tif (layer in this._layers) {\r\n\t\t\tlayer = this._layers[layer];\r\n\t\t}\r\n\r\n\t\tlayer.removeEventParent(this);\r\n\r\n\t\tLayerGroup.prototype.removeLayer.call(this, layer);\r\n\r\n\t\t// @event layerremove: LayerEvent\r\n\t\t// Fired when a layer is removed from this `FeatureGroup`\r\n\t\treturn this.fire('layerremove', {layer: layer});\r\n\t},\r\n\r\n\t// @method setStyle(style: Path options): this\r\n\t// Sets the given path options to each layer of the group that has a `setStyle` method.\r\n\tsetStyle: function (style) {\r\n\t\treturn this.invoke('setStyle', style);\r\n\t},\r\n\r\n\t// @method bringToFront(): this\r\n\t// Brings the layer group to the top of all other layers\r\n\tbringToFront: function () {\r\n\t\treturn this.invoke('bringToFront');\r\n\t},\r\n\r\n\t// @method bringToBack(): this\r\n\t// Brings the layer group to the back of all other layers\r\n\tbringToBack: function () {\r\n\t\treturn this.invoke('bringToBack');\r\n\t},\r\n\r\n\t// @method getBounds(): LatLngBounds\r\n\t// Returns the LatLngBounds of the Feature Group (created from bounds and coordinates of its children).\r\n\tgetBounds: function () {\r\n\t\tvar bounds = new LatLngBounds();\r\n\r\n\t\tfor (var id in this._layers) {\r\n\t\t\tvar layer = this._layers[id];\r\n\t\t\tbounds.extend(layer.getBounds ? layer.getBounds() : layer.getLatLng());\r\n\t\t}\r\n\t\treturn bounds;\r\n\t}\r\n});\r\n\n/*\r\n * @class Icon\r\n * @aka L.Icon\r\n *\r\n * Represents an icon to provide when creating a marker.\r\n *\r\n * @example\r\n *\r\n * ```js\r\n * var myIcon = L.icon({\r\n *     iconUrl: 'my-icon.png',\r\n *     iconRetinaUrl: 'my-icon@2x.png',\r\n *     iconSize: [38, 95],\r\n *     iconAnchor: [22, 94],\r\n *     popupAnchor: [-3, -76],\r\n *     shadowUrl: 'my-icon-shadow.png',\r\n *     shadowRetinaUrl: 'my-icon-shadow@2x.png',\r\n *     shadowSize: [68, 95],\r\n *     shadowAnchor: [22, 94]\r\n * });\r\n *\r\n * L.marker([50.505, 30.57], {icon: myIcon}).addTo(map);\r\n * ```\r\n *\r\n * `L.Icon.Default` extends `L.Icon` and is the blue icon Leaflet uses for markers by default.\r\n *\r\n */\r\n\r\nvar Icon = Class.extend({\r\n\r\n\t/* @section\r\n\t * @aka Icon options\r\n\t *\r\n\t * @option iconUrl: String = null\r\n\t * **(required)** The URL to the icon image (absolute or relative to your script path).\r\n\t *\r\n\t * @option iconRetinaUrl: String = null\r\n\t * The URL to a retina sized version of the icon image (absolute or relative to your\r\n\t * script path). Used for Retina screen devices.\r\n\t *\r\n\t * @option iconSize: Point = null\r\n\t * Size of the icon image in pixels.\r\n\t *\r\n\t * @option iconAnchor: Point = null\r\n\t * The coordinates of the \"tip\" of the icon (relative to its top left corner). The icon\r\n\t * will be aligned so that this point is at the marker's geographical location. Centered\r\n\t * by default if size is specified, also can be set in CSS with negative margins.\r\n\t *\r\n\t * @option popupAnchor: Point = [0, 0]\r\n\t * The coordinates of the point from which popups will \"open\", relative to the icon anchor.\r\n\t *\r\n\t * @option tooltipAnchor: Point = [0, 0]\r\n\t * The coordinates of the point from which tooltips will \"open\", relative to the icon anchor.\r\n\t *\r\n\t * @option shadowUrl: String = null\r\n\t * The URL to the icon shadow image. If not specified, no shadow image will be created.\r\n\t *\r\n\t * @option shadowRetinaUrl: String = null\r\n\t *\r\n\t * @option shadowSize: Point = null\r\n\t * Size of the shadow image in pixels.\r\n\t *\r\n\t * @option shadowAnchor: Point = null\r\n\t * The coordinates of the \"tip\" of the shadow (relative to its top left corner) (the same\r\n\t * as iconAnchor if not specified).\r\n\t *\r\n\t * @option className: String = ''\r\n\t * A custom class name to assign to both icon and shadow images. Empty by default.\r\n\t */\r\n\r\n\toptions: {\r\n\t\tpopupAnchor: [0, 0],\r\n\t\ttooltipAnchor: [0, 0]\r\n\t},\r\n\r\n\tinitialize: function (options) {\r\n\t\tsetOptions(this, options);\r\n\t},\r\n\r\n\t// @method createIcon(oldIcon?: HTMLElement): HTMLElement\r\n\t// Called internally when the icon has to be shown, returns a `<img>` HTML element\r\n\t// styled according to the options.\r\n\tcreateIcon: function (oldIcon) {\r\n\t\treturn this._createIcon('icon', oldIcon);\r\n\t},\r\n\r\n\t// @method createShadow(oldIcon?: HTMLElement): HTMLElement\r\n\t// As `createIcon`, but for the shadow beneath it.\r\n\tcreateShadow: function (oldIcon) {\r\n\t\treturn this._createIcon('shadow', oldIcon);\r\n\t},\r\n\r\n\t_createIcon: function (name, oldIcon) {\r\n\t\tvar src = this._getIconUrl(name);\r\n\r\n\t\tif (!src) {\r\n\t\t\tif (name === 'icon') {\r\n\t\t\t\tthrow new Error('iconUrl not set in Icon options (see the docs).');\r\n\t\t\t}\r\n\t\t\treturn null;\r\n\t\t}\r\n\r\n\t\tvar img = this._createImg(src, oldIcon && oldIcon.tagName === 'IMG' ? oldIcon : null);\r\n\t\tthis._setIconStyles(img, name);\r\n\r\n\t\treturn img;\r\n\t},\r\n\r\n\t_setIconStyles: function (img, name) {\r\n\t\tvar options = this.options;\r\n\t\tvar sizeOption = options[name + 'Size'];\r\n\r\n\t\tif (typeof sizeOption === 'number') {\r\n\t\t\tsizeOption = [sizeOption, sizeOption];\r\n\t\t}\r\n\r\n\t\tvar size = toPoint(sizeOption),\r\n\t\t    anchor = toPoint(name === 'shadow' && options.shadowAnchor || options.iconAnchor ||\r\n\t\t            size && size.divideBy(2, true));\r\n\r\n\t\timg.className = 'leaflet-marker-' + name + ' ' + (options.className || '');\r\n\r\n\t\tif (anchor) {\r\n\t\t\timg.style.marginLeft = (-anchor.x) + 'px';\r\n\t\t\timg.style.marginTop  = (-anchor.y) + 'px';\r\n\t\t}\r\n\r\n\t\tif (size) {\r\n\t\t\timg.style.width  = size.x + 'px';\r\n\t\t\timg.style.height = size.y + 'px';\r\n\t\t}\r\n\t},\r\n\r\n\t_createImg: function (src, el) {\r\n\t\tel = el || document.createElement('img');\r\n\t\tel.src = src;\r\n\t\treturn el;\r\n\t},\r\n\r\n\t_getIconUrl: function (name) {\r\n\t\treturn retina && this.options[name + 'RetinaUrl'] || this.options[name + 'Url'];\r\n\t}\r\n});\r\n\n/*\n * @miniclass Icon.Default (Icon)\n * @aka L.Icon.Default\n * @section\n *\n * A trivial subclass of `Icon`, represents the icon to use in `Marker`s when\n * no icon is specified. Points to the blue marker image distributed with Leaflet\n * releases.\n *\n * In order to customize the default icon, just change the properties of `L.Icon.Default.prototype.options`\n * (which is a set of `Icon options`).\n *\n * If you want to _completely_ replace the default icon, override the\n * `L.Marker.prototype.options.icon` with your own icon instead.\n */\n\nvar IconDefault = Icon.extend({\n\n\toptions: {\n\t\ticonUrl:       'marker-icon.png',\n\t\ticonRetinaUrl: 'marker-icon-2x.png',\n\t\tshadowUrl:     'marker-shadow.png',\n\t\ticonSize:    [25, 41],\n\t\ticonAnchor:  [12, 41],\n\t\tpopupAnchor: [1, -34],\n\t\ttooltipAnchor: [16, -28],\n\t\tshadowSize:  [41, 41]\n\t},\n\n\t_getIconUrl: function (name) {\n\t\tif (!IconDefault.imagePath) {\t// Deprecated, backwards-compatibility only\n\t\t\tIconDefault.imagePath = this._detectIconPath();\n\t\t}\n\n\t\t// @option imagePath: String\n\t\t// `Icon.Default` will try to auto-detect the location of the\n\t\t// blue icon images. If you are placing these images in a non-standard\n\t\t// way, set this option to point to the right path.\n\t\treturn (this.options.imagePath || IconDefault.imagePath) + Icon.prototype._getIconUrl.call(this, name);\n\t},\n\n\t_detectIconPath: function () {\n\t\tvar el = create$1('div',  'leaflet-default-icon-path', document.body);\n\t\tvar path = getStyle(el, 'background-image') ||\n\t\t           getStyle(el, 'backgroundImage');\t// IE8\n\n\t\tdocument.body.removeChild(el);\n\n\t\tif (path === null || path.indexOf('url') !== 0) {\n\t\t\tpath = '';\n\t\t} else {\n\t\t\tpath = path.replace(/^url\\([\"']?/, '').replace(/marker-icon\\.png[\"']?\\)$/, '');\n\t\t}\n\n\t\treturn path;\n\t}\n});\n\n/*\n * L.Handler.MarkerDrag is used internally by L.Marker to make the markers draggable.\n */\n\n\n/* @namespace Marker\n * @section Interaction handlers\n *\n * Interaction handlers are properties of a marker instance that allow you to control interaction behavior in runtime, enabling or disabling certain features such as dragging (see `Handler` methods). Example:\n *\n * ```js\n * marker.dragging.disable();\n * ```\n *\n * @property dragging: Handler\n * Marker dragging handler (by both mouse and touch). Only valid when the marker is on the map (Otherwise set [`marker.options.draggable`](#marker-draggable)).\n */\n\nvar MarkerDrag = Handler.extend({\n\tinitialize: function (marker) {\n\t\tthis._marker = marker;\n\t},\n\n\taddHooks: function () {\n\t\tvar icon = this._marker._icon;\n\n\t\tif (!this._draggable) {\n\t\t\tthis._draggable = new Draggable(icon, icon, true);\n\t\t}\n\n\t\tthis._draggable.on({\n\t\t\tdragstart: this._onDragStart,\n\t\t\tpredrag: this._onPreDrag,\n\t\t\tdrag: this._onDrag,\n\t\t\tdragend: this._onDragEnd\n\t\t}, this).enable();\n\n\t\taddClass(icon, 'leaflet-marker-draggable');\n\t},\n\n\tremoveHooks: function () {\n\t\tthis._draggable.off({\n\t\t\tdragstart: this._onDragStart,\n\t\t\tpredrag: this._onPreDrag,\n\t\t\tdrag: this._onDrag,\n\t\t\tdragend: this._onDragEnd\n\t\t}, this).disable();\n\n\t\tif (this._marker._icon) {\n\t\t\tremoveClass(this._marker._icon, 'leaflet-marker-draggable');\n\t\t}\n\t},\n\n\tmoved: function () {\n\t\treturn this._draggable && this._draggable._moved;\n\t},\n\n\t_adjustPan: function (e) {\n\t\tvar marker = this._marker,\n\t\t    map = marker._map,\n\t\t    speed = this._marker.options.autoPanSpeed,\n\t\t    padding = this._marker.options.autoPanPadding,\n\t\t    iconPos = getPosition(marker._icon),\n\t\t    bounds = map.getPixelBounds(),\n\t\t    origin = map.getPixelOrigin();\n\n\t\tvar panBounds = toBounds(\n\t\t\tbounds.min._subtract(origin).add(padding),\n\t\t\tbounds.max._subtract(origin).subtract(padding)\n\t\t);\n\n\t\tif (!panBounds.contains(iconPos)) {\n\t\t\t// Compute incremental movement\n\t\t\tvar movement = toPoint(\n\t\t\t\t(Math.max(panBounds.max.x, iconPos.x) - panBounds.max.x) / (bounds.max.x - panBounds.max.x) -\n\t\t\t\t(Math.min(panBounds.min.x, iconPos.x) - panBounds.min.x) / (bounds.min.x - panBounds.min.x),\n\n\t\t\t\t(Math.max(panBounds.max.y, iconPos.y) - panBounds.max.y) / (bounds.max.y - panBounds.max.y) -\n\t\t\t\t(Math.min(panBounds.min.y, iconPos.y) - panBounds.min.y) / (bounds.min.y - panBounds.min.y)\n\t\t\t).multiplyBy(speed);\n\n\t\t\tmap.panBy(movement, {animate: false});\n\n\t\t\tthis._draggable._newPos._add(movement);\n\t\t\tthis._draggable._startPos._add(movement);\n\n\t\t\tsetPosition(marker._icon, this._draggable._newPos);\n\t\t\tthis._onDrag(e);\n\n\t\t\tthis._panRequest = requestAnimFrame(this._adjustPan.bind(this, e));\n\t\t}\n\t},\n\n\t_onDragStart: function () {\n\t\t// @section Dragging events\n\t\t// @event dragstart: Event\n\t\t// Fired when the user starts dragging the marker.\n\n\t\t// @event movestart: Event\n\t\t// Fired when the marker starts moving (because of dragging).\n\n\t\tthis._oldLatLng = this._marker.getLatLng();\n\n\t\t// When using ES6 imports it could not be set when `Popup` was not imported as well\n\t\tthis._marker.closePopup && this._marker.closePopup();\n\n\t\tthis._marker\n\t\t\t.fire('movestart')\n\t\t\t.fire('dragstart');\n\t},\n\n\t_onPreDrag: function (e) {\n\t\tif (this._marker.options.autoPan) {\n\t\t\tcancelAnimFrame(this._panRequest);\n\t\t\tthis._panRequest = requestAnimFrame(this._adjustPan.bind(this, e));\n\t\t}\n\t},\n\n\t_onDrag: function (e) {\n\t\tvar marker = this._marker,\n\t\t    shadow = marker._shadow,\n\t\t    iconPos = getPosition(marker._icon),\n\t\t    latlng = marker._map.layerPointToLatLng(iconPos);\n\n\t\t// update shadow position\n\t\tif (shadow) {\n\t\t\tsetPosition(shadow, iconPos);\n\t\t}\n\n\t\tmarker._latlng = latlng;\n\t\te.latlng = latlng;\n\t\te.oldLatLng = this._oldLatLng;\n\n\t\t// @event drag: Event\n\t\t// Fired repeatedly while the user drags the marker.\n\t\tmarker\n\t\t    .fire('move', e)\n\t\t    .fire('drag', e);\n\t},\n\n\t_onDragEnd: function (e) {\n\t\t// @event dragend: DragEndEvent\n\t\t// Fired when the user stops dragging the marker.\n\n\t\t cancelAnimFrame(this._panRequest);\n\n\t\t// @event moveend: Event\n\t\t// Fired when the marker stops moving (because of dragging).\n\t\tdelete this._oldLatLng;\n\t\tthis._marker\n\t\t    .fire('moveend')\n\t\t    .fire('dragend', e);\n\t}\n});\n\n/*\r\n * @class Marker\r\n * @inherits Interactive layer\r\n * @aka L.Marker\r\n * L.Marker is used to display clickable/draggable icons on the map. Extends `Layer`.\r\n *\r\n * @example\r\n *\r\n * ```js\r\n * L.marker([50.5, 30.5]).addTo(map);\r\n * ```\r\n */\r\n\r\nvar Marker = Layer.extend({\r\n\r\n\t// @section\r\n\t// @aka Marker options\r\n\toptions: {\r\n\t\t// @option icon: Icon = *\r\n\t\t// Icon instance to use for rendering the marker.\r\n\t\t// See [Icon documentation](#L.Icon) for details on how to customize the marker icon.\r\n\t\t// If not specified, a common instance of `L.Icon.Default` is used.\r\n\t\ticon: new IconDefault(),\r\n\r\n\t\t// Option inherited from \"Interactive layer\" abstract class\r\n\t\tinteractive: true,\r\n\r\n\t\t// @option keyboard: Boolean = true\r\n\t\t// Whether the marker can be tabbed to with a keyboard and clicked by pressing enter.\r\n\t\tkeyboard: true,\r\n\r\n\t\t// @option title: String = ''\r\n\t\t// Text for the browser tooltip that appear on marker hover (no tooltip by default).\r\n\t\ttitle: '',\r\n\r\n\t\t// @option alt: String = ''\r\n\t\t// Text for the `alt` attribute of the icon image (useful for accessibility).\r\n\t\talt: '',\r\n\r\n\t\t// @option zIndexOffset: Number = 0\r\n\t\t// By default, marker images zIndex is set automatically based on its latitude. Use this option if you want to put the marker on top of all others (or below), specifying a high value like `1000` (or high negative value, respectively).\r\n\t\tzIndexOffset: 0,\r\n\r\n\t\t// @option opacity: Number = 1.0\r\n\t\t// The opacity of the marker.\r\n\t\topacity: 1,\r\n\r\n\t\t// @option riseOnHover: Boolean = false\r\n\t\t// If `true`, the marker will get on top of others when you hover the mouse over it.\r\n\t\triseOnHover: false,\r\n\r\n\t\t// @option riseOffset: Number = 250\r\n\t\t// The z-index offset used for the `riseOnHover` feature.\r\n\t\triseOffset: 250,\r\n\r\n\t\t// @option pane: String = 'markerPane'\r\n\t\t// `Map pane` where the markers icon will be added.\r\n\t\tpane: 'markerPane',\r\n\r\n\t\t// @option shadowPane: String = 'shadowPane'\r\n\t\t// `Map pane` where the markers shadow will be added.\r\n\t\tshadowPane: 'shadowPane',\r\n\r\n\t\t// @option bubblingMouseEvents: Boolean = false\r\n\t\t// When `true`, a mouse event on this marker will trigger the same event on the map\r\n\t\t// (unless [`L.DomEvent.stopPropagation`](#domevent-stoppropagation) is used).\r\n\t\tbubblingMouseEvents: false,\r\n\r\n\t\t// @section Draggable marker options\r\n\t\t// @option draggable: Boolean = false\r\n\t\t// Whether the marker is draggable with mouse/touch or not.\r\n\t\tdraggable: false,\r\n\r\n\t\t// @option autoPan: Boolean = false\r\n\t\t// Whether to pan the map when dragging this marker near its edge or not.\r\n\t\tautoPan: false,\r\n\r\n\t\t// @option autoPanPadding: Point = Point(50, 50)\r\n\t\t// Distance (in pixels to the left/right and to the top/bottom) of the\r\n\t\t// map edge to start panning the map.\r\n\t\tautoPanPadding: [50, 50],\r\n\r\n\t\t// @option autoPanSpeed: Number = 10\r\n\t\t// Number of pixels the map should pan by.\r\n\t\tautoPanSpeed: 10\r\n\t},\r\n\r\n\t/* @section\r\n\t *\r\n\t * In addition to [shared layer methods](#Layer) like `addTo()` and `remove()` and [popup methods](#Popup) like bindPopup() you can also use the following methods:\r\n\t */\r\n\r\n\tinitialize: function (latlng, options) {\r\n\t\tsetOptions(this, options);\r\n\t\tthis._latlng = toLatLng(latlng);\r\n\t},\r\n\r\n\tonAdd: function (map) {\r\n\t\tthis._zoomAnimated = this._zoomAnimated && map.options.markerZoomAnimation;\r\n\r\n\t\tif (this._zoomAnimated) {\r\n\t\t\tmap.on('zoomanim', this._animateZoom, this);\r\n\t\t}\r\n\r\n\t\tthis._initIcon();\r\n\t\tthis.update();\r\n\t},\r\n\r\n\tonRemove: function (map) {\r\n\t\tif (this.dragging && this.dragging.enabled()) {\r\n\t\t\tthis.options.draggable = true;\r\n\t\t\tthis.dragging.removeHooks();\r\n\t\t}\r\n\t\tdelete this.dragging;\r\n\r\n\t\tif (this._zoomAnimated) {\r\n\t\t\tmap.off('zoomanim', this._animateZoom, this);\r\n\t\t}\r\n\r\n\t\tthis._removeIcon();\r\n\t\tthis._removeShadow();\r\n\t},\r\n\r\n\tgetEvents: function () {\r\n\t\treturn {\r\n\t\t\tzoom: this.update,\r\n\t\t\tviewreset: this.update\r\n\t\t};\r\n\t},\r\n\r\n\t// @method getLatLng: LatLng\r\n\t// Returns the current geographical position of the marker.\r\n\tgetLatLng: function () {\r\n\t\treturn this._latlng;\r\n\t},\r\n\r\n\t// @method setLatLng(latlng: LatLng): this\r\n\t// Changes the marker position to the given point.\r\n\tsetLatLng: function (latlng) {\r\n\t\tvar oldLatLng = this._latlng;\r\n\t\tthis._latlng = toLatLng(latlng);\r\n\t\tthis.update();\r\n\r\n\t\t// @event move: Event\r\n\t\t// Fired when the marker is moved via [`setLatLng`](#marker-setlatlng) or by [dragging](#marker-dragging). Old and new coordinates are included in event arguments as `oldLatLng`, `latlng`.\r\n\t\treturn this.fire('move', {oldLatLng: oldLatLng, latlng: this._latlng});\r\n\t},\r\n\r\n\t// @method setZIndexOffset(offset: Number): this\r\n\t// Changes the [zIndex offset](#marker-zindexoffset) of the marker.\r\n\tsetZIndexOffset: function (offset) {\r\n\t\tthis.options.zIndexOffset = offset;\r\n\t\treturn this.update();\r\n\t},\r\n\r\n\t// @method getIcon: Icon\r\n\t// Returns the current icon used by the marker\r\n\tgetIcon: function () {\r\n\t\treturn this.options.icon;\r\n\t},\r\n\r\n\t// @method setIcon(icon: Icon): this\r\n\t// Changes the marker icon.\r\n\tsetIcon: function (icon) {\r\n\r\n\t\tthis.options.icon = icon;\r\n\r\n\t\tif (this._map) {\r\n\t\t\tthis._initIcon();\r\n\t\t\tthis.update();\r\n\t\t}\r\n\r\n\t\tif (this._popup) {\r\n\t\t\tthis.bindPopup(this._popup, this._popup.options);\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\t},\r\n\r\n\tgetElement: function () {\r\n\t\treturn this._icon;\r\n\t},\r\n\r\n\tupdate: function () {\r\n\r\n\t\tif (this._icon && this._map) {\r\n\t\t\tvar pos = this._map.latLngToLayerPoint(this._latlng).round();\r\n\t\t\tthis._setPos(pos);\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\t},\r\n\r\n\t_initIcon: function () {\r\n\t\tvar options = this.options,\r\n\t\t    classToAdd = 'leaflet-zoom-' + (this._zoomAnimated ? 'animated' : 'hide');\r\n\r\n\t\tvar icon = options.icon.createIcon(this._icon),\r\n\t\t    addIcon = false;\r\n\r\n\t\t// if we're not reusing the icon, remove the old one and init new one\r\n\t\tif (icon !== this._icon) {\r\n\t\t\tif (this._icon) {\r\n\t\t\t\tthis._removeIcon();\r\n\t\t\t}\r\n\t\t\taddIcon = true;\r\n\r\n\t\t\tif (options.title) {\r\n\t\t\t\ticon.title = options.title;\r\n\t\t\t}\r\n\r\n\t\t\tif (icon.tagName === 'IMG') {\r\n\t\t\t\ticon.alt = options.alt || '';\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\taddClass(icon, classToAdd);\r\n\r\n\t\tif (options.keyboard) {\r\n\t\t\ticon.tabIndex = '0';\r\n\t\t}\r\n\r\n\t\tthis._icon = icon;\r\n\r\n\t\tif (options.riseOnHover) {\r\n\t\t\tthis.on({\r\n\t\t\t\tmouseover: this._bringToFront,\r\n\t\t\t\tmouseout: this._resetZIndex\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tvar newShadow = options.icon.createShadow(this._shadow),\r\n\t\t    addShadow = false;\r\n\r\n\t\tif (newShadow !== this._shadow) {\r\n\t\t\tthis._removeShadow();\r\n\t\t\taddShadow = true;\r\n\t\t}\r\n\r\n\t\tif (newShadow) {\r\n\t\t\taddClass(newShadow, classToAdd);\r\n\t\t\tnewShadow.alt = '';\r\n\t\t}\r\n\t\tthis._shadow = newShadow;\r\n\r\n\r\n\t\tif (options.opacity < 1) {\r\n\t\t\tthis._updateOpacity();\r\n\t\t}\r\n\r\n\r\n\t\tif (addIcon) {\r\n\t\t\tthis.getPane().appendChild(this._icon);\r\n\t\t}\r\n\t\tthis._initInteraction();\r\n\t\tif (newShadow && addShadow) {\r\n\t\t\tthis.getPane(options.shadowPane).appendChild(this._shadow);\r\n\t\t}\r\n\t},\r\n\r\n\t_removeIcon: function () {\r\n\t\tif (this.options.riseOnHover) {\r\n\t\t\tthis.off({\r\n\t\t\t\tmouseover: this._bringToFront,\r\n\t\t\t\tmouseout: this._resetZIndex\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tremove(this._icon);\r\n\t\tthis.removeInteractiveTarget(this._icon);\r\n\r\n\t\tthis._icon = null;\r\n\t},\r\n\r\n\t_removeShadow: function () {\r\n\t\tif (this._shadow) {\r\n\t\t\tremove(this._shadow);\r\n\t\t}\r\n\t\tthis._shadow = null;\r\n\t},\r\n\r\n\t_setPos: function (pos) {\r\n\r\n\t\tif (this._icon) {\r\n\t\t\tsetPosition(this._icon, pos);\r\n\t\t}\r\n\r\n\t\tif (this._shadow) {\r\n\t\t\tsetPosition(this._shadow, pos);\r\n\t\t}\r\n\r\n\t\tthis._zIndex = pos.y + this.options.zIndexOffset;\r\n\r\n\t\tthis._resetZIndex();\r\n\t},\r\n\r\n\t_updateZIndex: function (offset) {\r\n\t\tif (this._icon) {\r\n\t\t\tthis._icon.style.zIndex = this._zIndex + offset;\r\n\t\t}\r\n\t},\r\n\r\n\t_animateZoom: function (opt) {\r\n\t\tvar pos = this._map._latLngToNewLayerPoint(this._latlng, opt.zoom, opt.center).round();\r\n\r\n\t\tthis._setPos(pos);\r\n\t},\r\n\r\n\t_initInteraction: function () {\r\n\r\n\t\tif (!this.options.interactive) { return; }\r\n\r\n\t\taddClass(this._icon, 'leaflet-interactive');\r\n\r\n\t\tthis.addInteractiveTarget(this._icon);\r\n\r\n\t\tif (MarkerDrag) {\r\n\t\t\tvar draggable = this.options.draggable;\r\n\t\t\tif (this.dragging) {\r\n\t\t\t\tdraggable = this.dragging.enabled();\r\n\t\t\t\tthis.dragging.disable();\r\n\t\t\t}\r\n\r\n\t\t\tthis.dragging = new MarkerDrag(this);\r\n\r\n\t\t\tif (draggable) {\r\n\t\t\t\tthis.dragging.enable();\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\r\n\t// @method setOpacity(opacity: Number): this\r\n\t// Changes the opacity of the marker.\r\n\tsetOpacity: function (opacity) {\r\n\t\tthis.options.opacity = opacity;\r\n\t\tif (this._map) {\r\n\t\t\tthis._updateOpacity();\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\t},\r\n\r\n\t_updateOpacity: function () {\r\n\t\tvar opacity = this.options.opacity;\r\n\r\n\t\tif (this._icon) {\r\n\t\t\tsetOpacity(this._icon, opacity);\r\n\t\t}\r\n\r\n\t\tif (this._shadow) {\r\n\t\t\tsetOpacity(this._shadow, opacity);\r\n\t\t}\r\n\t},\r\n\r\n\t_bringToFront: function () {\r\n\t\tthis._updateZIndex(this.options.riseOffset);\r\n\t},\r\n\r\n\t_resetZIndex: function () {\r\n\t\tthis._updateZIndex(0);\r\n\t},\r\n\r\n\t_getPopupAnchor: function () {\r\n\t\treturn this.options.icon.options.popupAnchor;\r\n\t},\r\n\r\n\t_getTooltipAnchor: function () {\r\n\t\treturn this.options.icon.options.tooltipAnchor;\r\n\t}\r\n});\r\n\r\n\r\n// factory L.marker(latlng: LatLng, options? : Marker options)\r\n\r\n// @factory L.marker(latlng: LatLng, options? : Marker options)\r\n// Instantiates a Marker object given a geographical point and optionally an options object.\r\nfunction marker(latlng, options) {\r\n\treturn new Marker(latlng, options);\r\n}\n\n/*\n * @class Path\n * @aka L.Path\n * @inherits Interactive layer\n *\n * An abstract class that contains options and constants shared between vector\n * overlays (Polygon, Polyline, Circle). Do not use it directly. Extends `Layer`.\n */\n\nvar Path = Layer.extend({\n\n\t// @section\n\t// @aka Path options\n\toptions: {\n\t\t// @option stroke: Boolean = true\n\t\t// Whether to draw stroke along the path. Set it to `false` to disable borders on polygons or circles.\n\t\tstroke: true,\n\n\t\t// @option color: String = '#3388ff'\n\t\t// Stroke color\n\t\tcolor: '#3388ff',\n\n\t\t// @option weight: Number = 3\n\t\t// Stroke width in pixels\n\t\tweight: 3,\n\n\t\t// @option opacity: Number = 1.0\n\t\t// Stroke opacity\n\t\topacity: 1,\n\n\t\t// @option lineCap: String= 'round'\n\t\t// A string that defines [shape to be used at the end](https://developer.mozilla.org/docs/Web/SVG/Attribute/stroke-linecap) of the stroke.\n\t\tlineCap: 'round',\n\n\t\t// @option lineJoin: String = 'round'\n\t\t// A string that defines [shape to be used at the corners](https://developer.mozilla.org/docs/Web/SVG/Attribute/stroke-linejoin) of the stroke.\n\t\tlineJoin: 'round',\n\n\t\t// @option dashArray: String = null\n\t\t// A string that defines the stroke [dash pattern](https://developer.mozilla.org/docs/Web/SVG/Attribute/stroke-dasharray). Doesn't work on `Canvas`-powered layers in [some old browsers](https://developer.mozilla.org/docs/Web/API/CanvasRenderingContext2D/setLineDash#Browser_compatibility).\n\t\tdashArray: null,\n\n\t\t// @option dashOffset: String = null\n\t\t// A string that defines the [distance into the dash pattern to start the dash](https://developer.mozilla.org/docs/Web/SVG/Attribute/stroke-dashoffset). Doesn't work on `Canvas`-powered layers in [some old browsers](https://developer.mozilla.org/docs/Web/API/CanvasRenderingContext2D/setLineDash#Browser_compatibility).\n\t\tdashOffset: null,\n\n\t\t// @option fill: Boolean = depends\n\t\t// Whether to fill the path with color. Set it to `false` to disable filling on polygons or circles.\n\t\tfill: false,\n\n\t\t// @option fillColor: String = *\n\t\t// Fill color. Defaults to the value of the [`color`](#path-color) option\n\t\tfillColor: null,\n\n\t\t// @option fillOpacity: Number = 0.2\n\t\t// Fill opacity.\n\t\tfillOpacity: 0.2,\n\n\t\t// @option fillRule: String = 'evenodd'\n\t\t// A string that defines [how the inside of a shape](https://developer.mozilla.org/docs/Web/SVG/Attribute/fill-rule) is determined.\n\t\tfillRule: 'evenodd',\n\n\t\t// className: '',\n\n\t\t// Option inherited from \"Interactive layer\" abstract class\n\t\tinteractive: true,\n\n\t\t// @option bubblingMouseEvents: Boolean = true\n\t\t// When `true`, a mouse event on this path will trigger the same event on the map\n\t\t// (unless [`L.DomEvent.stopPropagation`](#domevent-stoppropagation) is used).\n\t\tbubblingMouseEvents: true\n\t},\n\n\tbeforeAdd: function (map) {\n\t\t// Renderer is set here because we need to call renderer.getEvents\n\t\t// before this.getEvents.\n\t\tthis._renderer = map.getRenderer(this);\n\t},\n\n\tonAdd: function () {\n\t\tthis._renderer._initPath(this);\n\t\tthis._reset();\n\t\tthis._renderer._addPath(this);\n\t},\n\n\tonRemove: function () {\n\t\tthis._renderer._removePath(this);\n\t},\n\n\t// @method redraw(): this\n\t// Redraws the layer. Sometimes useful after you changed the coordinates that the path uses.\n\tredraw: function () {\n\t\tif (this._map) {\n\t\t\tthis._renderer._updatePath(this);\n\t\t}\n\t\treturn this;\n\t},\n\n\t// @method setStyle(style: Path options): this\n\t// Changes the appearance of a Path based on the options in the `Path options` object.\n\tsetStyle: function (style) {\n\t\tsetOptions(this, style);\n\t\tif (this._renderer) {\n\t\t\tthis._renderer._updateStyle(this);\n\t\t\tif (this.options.stroke && style && Object.prototype.hasOwnProperty.call(style, 'weight')) {\n\t\t\t\tthis._updateBounds();\n\t\t\t}\n\t\t}\n\t\treturn this;\n\t},\n\n\t// @method bringToFront(): this\n\t// Brings the layer to the top of all path layers.\n\tbringToFront: function () {\n\t\tif (this._renderer) {\n\t\t\tthis._renderer._bringToFront(this);\n\t\t}\n\t\treturn this;\n\t},\n\n\t// @method bringToBack(): this\n\t// Brings the layer to the bottom of all path layers.\n\tbringToBack: function () {\n\t\tif (this._renderer) {\n\t\t\tthis._renderer._bringToBack(this);\n\t\t}\n\t\treturn this;\n\t},\n\n\tgetElement: function () {\n\t\treturn this._path;\n\t},\n\n\t_reset: function () {\n\t\t// defined in child classes\n\t\tthis._project();\n\t\tthis._update();\n\t},\n\n\t_clickTolerance: function () {\n\t\t// used when doing hit detection for Canvas layers\n\t\treturn (this.options.stroke ? this.options.weight / 2 : 0) + this._renderer.options.tolerance;\n\t}\n});\n\n/*\n * @class CircleMarker\n * @aka L.CircleMarker\n * @inherits Path\n *\n * A circle of a fixed size with radius specified in pixels. Extends `Path`.\n */\n\nvar CircleMarker = Path.extend({\n\n\t// @section\n\t// @aka CircleMarker options\n\toptions: {\n\t\tfill: true,\n\n\t\t// @option radius: Number = 10\n\t\t// Radius of the circle marker, in pixels\n\t\tradius: 10\n\t},\n\n\tinitialize: function (latlng, options) {\n\t\tsetOptions(this, options);\n\t\tthis._latlng = toLatLng(latlng);\n\t\tthis._radius = this.options.radius;\n\t},\n\n\t// @method setLatLng(latLng: LatLng): this\n\t// Sets the position of a circle marker to a new location.\n\tsetLatLng: function (latlng) {\n\t\tvar oldLatLng = this._latlng;\n\t\tthis._latlng = toLatLng(latlng);\n\t\tthis.redraw();\n\n\t\t// @event move: Event\n\t\t// Fired when the marker is moved via [`setLatLng`](#circlemarker-setlatlng). Old and new coordinates are included in event arguments as `oldLatLng`, `latlng`.\n\t\treturn this.fire('move', {oldLatLng: oldLatLng, latlng: this._latlng});\n\t},\n\n\t// @method getLatLng(): LatLng\n\t// Returns the current geographical position of the circle marker\n\tgetLatLng: function () {\n\t\treturn this._latlng;\n\t},\n\n\t// @method setRadius(radius: Number): this\n\t// Sets the radius of a circle marker. Units are in pixels.\n\tsetRadius: function (radius) {\n\t\tthis.options.radius = this._radius = radius;\n\t\treturn this.redraw();\n\t},\n\n\t// @method getRadius(): Number\n\t// Returns the current radius of the circle\n\tgetRadius: function () {\n\t\treturn this._radius;\n\t},\n\n\tsetStyle : function (options) {\n\t\tvar radius = options && options.radius || this._radius;\n\t\tPath.prototype.setStyle.call(this, options);\n\t\tthis.setRadius(radius);\n\t\treturn this;\n\t},\n\n\t_project: function () {\n\t\tthis._point = this._map.latLngToLayerPoint(this._latlng);\n\t\tthis._updateBounds();\n\t},\n\n\t_updateBounds: function () {\n\t\tvar r = this._radius,\n\t\t    r2 = this._radiusY || r,\n\t\t    w = this._clickTolerance(),\n\t\t    p = [r + w, r2 + w];\n\t\tthis._pxBounds = new Bounds(this._point.subtract(p), this._point.add(p));\n\t},\n\n\t_update: function () {\n\t\tif (this._map) {\n\t\t\tthis._updatePath();\n\t\t}\n\t},\n\n\t_updatePath: function () {\n\t\tthis._renderer._updateCircle(this);\n\t},\n\n\t_empty: function () {\n\t\treturn this._radius && !this._renderer._bounds.intersects(this._pxBounds);\n\t},\n\n\t// Needed by the `Canvas` renderer for interactivity\n\t_containsPoint: function (p) {\n\t\treturn p.distanceTo(this._point) <= this._radius + this._clickTolerance();\n\t}\n});\n\n/*\n * @class Circle\n * @aka L.Circle\n * @inherits CircleMarker\n *\n * A class for drawing circle overlays on a map. Extends `CircleMarker`.\n *\n * It's an approximation and starts to diverge from a real circle closer to poles (due to projection distortion).\n *\n * @example\n *\n * ```js\n * L.circle([50.5, 30.5], {radius: 200}).addTo(map);\n * ```\n */\n\nvar Circle = CircleMarker.extend({\n\n\tinitialize: function (latlng, options, legacyOptions) {\n\t\tif (typeof options === 'number') {\n\t\t\t// Backwards compatibility with 0.7.x factory (latlng, radius, options?)\n\t\t\toptions = extend({}, legacyOptions, {radius: options});\n\t\t}\n\t\tsetOptions(this, options);\n\t\tthis._latlng = toLatLng(latlng);\n\n\t\tif (isNaN(this.options.radius)) { throw new Error('Circle radius cannot be NaN'); }\n\n\t\t// @section\n\t\t// @aka Circle options\n\t\t// @option radius: Number; Radius of the circle, in meters.\n\t\tthis._mRadius = this.options.radius;\n\t},\n\n\t// @method setRadius(radius: Number): this\n\t// Sets the radius of a circle. Units are in meters.\n\tsetRadius: function (radius) {\n\t\tthis._mRadius = radius;\n\t\treturn this.redraw();\n\t},\n\n\t// @method getRadius(): Number\n\t// Returns the current radius of a circle. Units are in meters.\n\tgetRadius: function () {\n\t\treturn this._mRadius;\n\t},\n\n\t// @method getBounds(): LatLngBounds\n\t// Returns the `LatLngBounds` of the path.\n\tgetBounds: function () {\n\t\tvar half = [this._radius, this._radiusY || this._radius];\n\n\t\treturn new LatLngBounds(\n\t\t\tthis._map.layerPointToLatLng(this._point.subtract(half)),\n\t\t\tthis._map.layerPointToLatLng(this._point.add(half)));\n\t},\n\n\tsetStyle: Path.prototype.setStyle,\n\n\t_project: function () {\n\n\t\tvar lng = this._latlng.lng,\n\t\t    lat = this._latlng.lat,\n\t\t    map = this._map,\n\t\t    crs = map.options.crs;\n\n\t\tif (crs.distance === Earth.distance) {\n\t\t\tvar d = Math.PI / 180,\n\t\t\t    latR = (this._mRadius / Earth.R) / d,\n\t\t\t    top = map.project([lat + latR, lng]),\n\t\t\t    bottom = map.project([lat - latR, lng]),\n\t\t\t    p = top.add(bottom).divideBy(2),\n\t\t\t    lat2 = map.unproject(p).lat,\n\t\t\t    lngR = Math.acos((Math.cos(latR * d) - Math.sin(lat * d) * Math.sin(lat2 * d)) /\n\t\t\t            (Math.cos(lat * d) * Math.cos(lat2 * d))) / d;\n\n\t\t\tif (isNaN(lngR) || lngR === 0) {\n\t\t\t\tlngR = latR / Math.cos(Math.PI / 180 * lat); // Fallback for edge case, #2425\n\t\t\t}\n\n\t\t\tthis._point = p.subtract(map.getPixelOrigin());\n\t\t\tthis._radius = isNaN(lngR) ? 0 : p.x - map.project([lat2, lng - lngR]).x;\n\t\t\tthis._radiusY = p.y - top.y;\n\n\t\t} else {\n\t\t\tvar latlng2 = crs.unproject(crs.project(this._latlng).subtract([this._mRadius, 0]));\n\n\t\t\tthis._point = map.latLngToLayerPoint(this._latlng);\n\t\t\tthis._radius = this._point.x - map.latLngToLayerPoint(latlng2).x;\n\t\t}\n\n\t\tthis._updateBounds();\n\t}\n});\n\n/*\n * @class Polyline\n * @aka L.Polyline\n * @inherits Path\n *\n * A class for drawing polyline overlays on a map. Extends `Path`.\n *\n * @example\n *\n * ```js\n * // create a red polyline from an array of LatLng points\n * var latlngs = [\n * \t[45.51, -122.68],\n * \t[37.77, -122.43],\n * \t[34.04, -118.2]\n * ];\n *\n * var polyline = L.polyline(latlngs, {color: 'red'}).addTo(map);\n *\n * // zoom the map to the polyline\n * map.fitBounds(polyline.getBounds());\n * ```\n *\n * You can also pass a multi-dimensional array to represent a `MultiPolyline` shape:\n *\n * ```js\n * // create a red polyline from an array of arrays of LatLng points\n * var latlngs = [\n * \t[[45.51, -122.68],\n * \t [37.77, -122.43],\n * \t [34.04, -118.2]],\n * \t[[40.78, -73.91],\n * \t [41.83, -87.62],\n * \t [32.76, -96.72]]\n * ];\n * ```\n */\n\n\nvar Polyline = Path.extend({\n\n\t// @section\n\t// @aka Polyline options\n\toptions: {\n\t\t// @option smoothFactor: Number = 1.0\n\t\t// How much to simplify the polyline on each zoom level. More means\n\t\t// better performance and smoother look, and less means more accurate representation.\n\t\tsmoothFactor: 1.0,\n\n\t\t// @option noClip: Boolean = false\n\t\t// Disable polyline clipping.\n\t\tnoClip: false\n\t},\n\n\tinitialize: function (latlngs, options) {\n\t\tsetOptions(this, options);\n\t\tthis._setLatLngs(latlngs);\n\t},\n\n\t// @method getLatLngs(): LatLng[]\n\t// Returns an array of the points in the path, or nested arrays of points in case of multi-polyline.\n\tgetLatLngs: function () {\n\t\treturn this._latlngs;\n\t},\n\n\t// @method setLatLngs(latlngs: LatLng[]): this\n\t// Replaces all the points in the polyline with the given array of geographical points.\n\tsetLatLngs: function (latlngs) {\n\t\tthis._setLatLngs(latlngs);\n\t\treturn this.redraw();\n\t},\n\n\t// @method isEmpty(): Boolean\n\t// Returns `true` if the Polyline has no LatLngs.\n\tisEmpty: function () {\n\t\treturn !this._latlngs.length;\n\t},\n\n\t// @method closestLayerPoint(p: Point): Point\n\t// Returns the point closest to `p` on the Polyline.\n\tclosestLayerPoint: function (p) {\n\t\tvar minDistance = Infinity,\n\t\t    minPoint = null,\n\t\t    closest = _sqClosestPointOnSegment,\n\t\t    p1, p2;\n\n\t\tfor (var j = 0, jLen = this._parts.length; j < jLen; j++) {\n\t\t\tvar points = this._parts[j];\n\n\t\t\tfor (var i = 1, len = points.length; i < len; i++) {\n\t\t\t\tp1 = points[i - 1];\n\t\t\t\tp2 = points[i];\n\n\t\t\t\tvar sqDist = closest(p, p1, p2, true);\n\n\t\t\t\tif (sqDist < minDistance) {\n\t\t\t\t\tminDistance = sqDist;\n\t\t\t\t\tminPoint = closest(p, p1, p2);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif (minPoint) {\n\t\t\tminPoint.distance = Math.sqrt(minDistance);\n\t\t}\n\t\treturn minPoint;\n\t},\n\n\t// @method getCenter(): LatLng\n\t// Returns the center ([centroid](http://en.wikipedia.org/wiki/Centroid)) of the polyline.\n\tgetCenter: function () {\n\t\t// throws error when not yet added to map as this center calculation requires projected coordinates\n\t\tif (!this._map) {\n\t\t\tthrow new Error('Must add layer to map before using getCenter()');\n\t\t}\n\n\t\tvar i, halfDist, segDist, dist, p1, p2, ratio,\n\t\t    points = this._rings[0],\n\t\t    len = points.length;\n\n\t\tif (!len) { return null; }\n\n\t\t// polyline centroid algorithm; only uses the first ring if there are multiple\n\n\t\tfor (i = 0, halfDist = 0; i < len - 1; i++) {\n\t\t\thalfDist += points[i].distanceTo(points[i + 1]) / 2;\n\t\t}\n\n\t\t// The line is so small in the current view that all points are on the same pixel.\n\t\tif (halfDist === 0) {\n\t\t\treturn this._map.layerPointToLatLng(points[0]);\n\t\t}\n\n\t\tfor (i = 0, dist = 0; i < len - 1; i++) {\n\t\t\tp1 = points[i];\n\t\t\tp2 = points[i + 1];\n\t\t\tsegDist = p1.distanceTo(p2);\n\t\t\tdist += segDist;\n\n\t\t\tif (dist > halfDist) {\n\t\t\t\tratio = (dist - halfDist) / segDist;\n\t\t\t\treturn this._map.layerPointToLatLng([\n\t\t\t\t\tp2.x - ratio * (p2.x - p1.x),\n\t\t\t\t\tp2.y - ratio * (p2.y - p1.y)\n\t\t\t\t]);\n\t\t\t}\n\t\t}\n\t},\n\n\t// @method getBounds(): LatLngBounds\n\t// Returns the `LatLngBounds` of the path.\n\tgetBounds: function () {\n\t\treturn this._bounds;\n\t},\n\n\t// @method addLatLng(latlng: LatLng, latlngs?: LatLng[]): this\n\t// Adds a given point to the polyline. By default, adds to the first ring of\n\t// the polyline in case of a multi-polyline, but can be overridden by passing\n\t// a specific ring as a LatLng array (that you can earlier access with [`getLatLngs`](#polyline-getlatlngs)).\n\taddLatLng: function (latlng, latlngs) {\n\t\tlatlngs = latlngs || this._defaultShape();\n\t\tlatlng = toLatLng(latlng);\n\t\tlatlngs.push(latlng);\n\t\tthis._bounds.extend(latlng);\n\t\treturn this.redraw();\n\t},\n\n\t_setLatLngs: function (latlngs) {\n\t\tthis._bounds = new LatLngBounds();\n\t\tthis._latlngs = this._convertLatLngs(latlngs);\n\t},\n\n\t_defaultShape: function () {\n\t\treturn isFlat(this._latlngs) ? this._latlngs : this._latlngs[0];\n\t},\n\n\t// recursively convert latlngs input into actual LatLng instances; calculate bounds along the way\n\t_convertLatLngs: function (latlngs) {\n\t\tvar result = [],\n\t\t    flat = isFlat(latlngs);\n\n\t\tfor (var i = 0, len = latlngs.length; i < len; i++) {\n\t\t\tif (flat) {\n\t\t\t\tresult[i] = toLatLng(latlngs[i]);\n\t\t\t\tthis._bounds.extend(result[i]);\n\t\t\t} else {\n\t\t\t\tresult[i] = this._convertLatLngs(latlngs[i]);\n\t\t\t}\n\t\t}\n\n\t\treturn result;\n\t},\n\n\t_project: function () {\n\t\tvar pxBounds = new Bounds();\n\t\tthis._rings = [];\n\t\tthis._projectLatlngs(this._latlngs, this._rings, pxBounds);\n\n\t\tif (this._bounds.isValid() && pxBounds.isValid()) {\n\t\t\tthis._rawPxBounds = pxBounds;\n\t\t\tthis._updateBounds();\n\t\t}\n\t},\n\n\t_updateBounds: function () {\n\t\tvar w = this._clickTolerance(),\n\t\t    p = new Point(w, w);\n\t\tthis._pxBounds = new Bounds([\n\t\t\tthis._rawPxBounds.min.subtract(p),\n\t\t\tthis._rawPxBounds.max.add(p)\n\t\t]);\n\t},\n\n\t// recursively turns latlngs into a set of rings with projected coordinates\n\t_projectLatlngs: function (latlngs, result, projectedBounds) {\n\t\tvar flat = latlngs[0] instanceof LatLng,\n\t\t    len = latlngs.length,\n\t\t    i, ring;\n\n\t\tif (flat) {\n\t\t\tring = [];\n\t\t\tfor (i = 0; i < len; i++) {\n\t\t\t\tring[i] = this._map.latLngToLayerPoint(latlngs[i]);\n\t\t\t\tprojectedBounds.extend(ring[i]);\n\t\t\t}\n\t\t\tresult.push(ring);\n\t\t} else {\n\t\t\tfor (i = 0; i < len; i++) {\n\t\t\t\tthis._projectLatlngs(latlngs[i], result, projectedBounds);\n\t\t\t}\n\t\t}\n\t},\n\n\t// clip polyline by renderer bounds so that we have less to render for performance\n\t_clipPoints: function () {\n\t\tvar bounds = this._renderer._bounds;\n\n\t\tthis._parts = [];\n\t\tif (!this._pxBounds || !this._pxBounds.intersects(bounds)) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (this.options.noClip) {\n\t\t\tthis._parts = this._rings;\n\t\t\treturn;\n\t\t}\n\n\t\tvar parts = this._parts,\n\t\t    i, j, k, len, len2, segment, points;\n\n\t\tfor (i = 0, k = 0, len = this._rings.length; i < len; i++) {\n\t\t\tpoints = this._rings[i];\n\n\t\t\tfor (j = 0, len2 = points.length; j < len2 - 1; j++) {\n\t\t\t\tsegment = clipSegment(points[j], points[j + 1], bounds, j, true);\n\n\t\t\t\tif (!segment) { continue; }\n\n\t\t\t\tparts[k] = parts[k] || [];\n\t\t\t\tparts[k].push(segment[0]);\n\n\t\t\t\t// if segment goes out of screen, or it's the last one, it's the end of the line part\n\t\t\t\tif ((segment[1] !== points[j + 1]) || (j === len2 - 2)) {\n\t\t\t\t\tparts[k].push(segment[1]);\n\t\t\t\t\tk++;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\n\t// simplify each clipped part of the polyline for performance\n\t_simplifyPoints: function () {\n\t\tvar parts = this._parts,\n\t\t    tolerance = this.options.smoothFactor;\n\n\t\tfor (var i = 0, len = parts.length; i < len; i++) {\n\t\t\tparts[i] = simplify(parts[i], tolerance);\n\t\t}\n\t},\n\n\t_update: function () {\n\t\tif (!this._map) { return; }\n\n\t\tthis._clipPoints();\n\t\tthis._simplifyPoints();\n\t\tthis._updatePath();\n\t},\n\n\t_updatePath: function () {\n\t\tthis._renderer._updatePoly(this);\n\t},\n\n\t// Needed by the `Canvas` renderer for interactivity\n\t_containsPoint: function (p, closed) {\n\t\tvar i, j, k, len, len2, part,\n\t\t    w = this._clickTolerance();\n\n\t\tif (!this._pxBounds || !this._pxBounds.contains(p)) { return false; }\n\n\t\t// hit detection for polylines\n\t\tfor (i = 0, len = this._parts.length; i < len; i++) {\n\t\t\tpart = this._parts[i];\n\n\t\t\tfor (j = 0, len2 = part.length, k = len2 - 1; j < len2; k = j++) {\n\t\t\t\tif (!closed && (j === 0)) { continue; }\n\n\t\t\t\tif (pointToSegmentDistance(p, part[k], part[j]) <= w) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t}\n});\n\n// @factory L.polyline(latlngs: LatLng[], options?: Polyline options)\n// Instantiates a polyline object given an array of geographical points and\n// optionally an options object. You can create a `Polyline` object with\n// multiple separate lines (`MultiPolyline`) by passing an array of arrays\n// of geographic points.\nfunction polyline(latlngs, options) {\n\treturn new Polyline(latlngs, options);\n}\n\n// Retrocompat. Allow plugins to support Leaflet versions before and after 1.1.\nPolyline._flat = _flat;\n\n/*\n * @class Polygon\n * @aka L.Polygon\n * @inherits Polyline\n *\n * A class for drawing polygon overlays on a map. Extends `Polyline`.\n *\n * Note that points you pass when creating a polygon shouldn't have an additional last point equal to the first one  it's better to filter out such points.\n *\n *\n * @example\n *\n * ```js\n * // create a red polygon from an array of LatLng points\n * var latlngs = [[37, -109.05],[41, -109.03],[41, -102.05],[37, -102.04]];\n *\n * var polygon = L.polygon(latlngs, {color: 'red'}).addTo(map);\n *\n * // zoom the map to the polygon\n * map.fitBounds(polygon.getBounds());\n * ```\n *\n * You can also pass an array of arrays of latlngs, with the first array representing the outer shape and the other arrays representing holes in the outer shape:\n *\n * ```js\n * var latlngs = [\n *   [[37, -109.05],[41, -109.03],[41, -102.05],[37, -102.04]], // outer ring\n *   [[37.29, -108.58],[40.71, -108.58],[40.71, -102.50],[37.29, -102.50]] // hole\n * ];\n * ```\n *\n * Additionally, you can pass a multi-dimensional array to represent a MultiPolygon shape.\n *\n * ```js\n * var latlngs = [\n *   [ // first polygon\n *     [[37, -109.05],[41, -109.03],[41, -102.05],[37, -102.04]], // outer ring\n *     [[37.29, -108.58],[40.71, -108.58],[40.71, -102.50],[37.29, -102.50]] // hole\n *   ],\n *   [ // second polygon\n *     [[41, -111.03],[45, -111.04],[45, -104.05],[41, -104.05]]\n *   ]\n * ];\n * ```\n */\n\nvar Polygon = Polyline.extend({\n\n\toptions: {\n\t\tfill: true\n\t},\n\n\tisEmpty: function () {\n\t\treturn !this._latlngs.length || !this._latlngs[0].length;\n\t},\n\n\tgetCenter: function () {\n\t\t// throws error when not yet added to map as this center calculation requires projected coordinates\n\t\tif (!this._map) {\n\t\t\tthrow new Error('Must add layer to map before using getCenter()');\n\t\t}\n\n\t\tvar i, j, p1, p2, f, area, x, y, center,\n\t\t    points = this._rings[0],\n\t\t    len = points.length;\n\n\t\tif (!len) { return null; }\n\n\t\t// polygon centroid algorithm; only uses the first ring if there are multiple\n\n\t\tarea = x = y = 0;\n\n\t\tfor (i = 0, j = len - 1; i < len; j = i++) {\n\t\t\tp1 = points[i];\n\t\t\tp2 = points[j];\n\n\t\t\tf = p1.y * p2.x - p2.y * p1.x;\n\t\t\tx += (p1.x + p2.x) * f;\n\t\t\ty += (p1.y + p2.y) * f;\n\t\t\tarea += f * 3;\n\t\t}\n\n\t\tif (area === 0) {\n\t\t\t// Polygon is so small that all points are on same pixel.\n\t\t\tcenter = points[0];\n\t\t} else {\n\t\t\tcenter = [x / area, y / area];\n\t\t}\n\t\treturn this._map.layerPointToLatLng(center);\n\t},\n\n\t_convertLatLngs: function (latlngs) {\n\t\tvar result = Polyline.prototype._convertLatLngs.call(this, latlngs),\n\t\t    len = result.length;\n\n\t\t// remove last point if it equals first one\n\t\tif (len >= 2 && result[0] instanceof LatLng && result[0].equals(result[len - 1])) {\n\t\t\tresult.pop();\n\t\t}\n\t\treturn result;\n\t},\n\n\t_setLatLngs: function (latlngs) {\n\t\tPolyline.prototype._setLatLngs.call(this, latlngs);\n\t\tif (isFlat(this._latlngs)) {\n\t\t\tthis._latlngs = [this._latlngs];\n\t\t}\n\t},\n\n\t_defaultShape: function () {\n\t\treturn isFlat(this._latlngs[0]) ? this._latlngs[0] : this._latlngs[0][0];\n\t},\n\n\t_clipPoints: function () {\n\t\t// polygons need a different clipping algorithm so we redefine that\n\n\t\tvar bounds = this._renderer._bounds,\n\t\t    w = this.options.weight,\n\t\t    p = new Point(w, w);\n\n\t\t// increase clip padding by stroke width to avoid stroke on clip edges\n\t\tbounds = new Bounds(bounds.min.subtract(p), bounds.max.add(p));\n\n\t\tthis._parts = [];\n\t\tif (!this._pxBounds || !this._pxBounds.intersects(bounds)) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (this.options.noClip) {\n\t\t\tthis._parts = this._rings;\n\t\t\treturn;\n\t\t}\n\n\t\tfor (var i = 0, len = this._rings.length, clipped; i < len; i++) {\n\t\t\tclipped = clipPolygon(this._rings[i], bounds, true);\n\t\t\tif (clipped.length) {\n\t\t\t\tthis._parts.push(clipped);\n\t\t\t}\n\t\t}\n\t},\n\n\t_updatePath: function () {\n\t\tthis._renderer._updatePoly(this, true);\n\t},\n\n\t// Needed by the `Canvas` renderer for interactivity\n\t_containsPoint: function (p) {\n\t\tvar inside = false,\n\t\t    part, p1, p2, i, j, k, len, len2;\n\n\t\tif (!this._pxBounds || !this._pxBounds.contains(p)) { return false; }\n\n\t\t// ray casting algorithm for detecting if point is in polygon\n\t\tfor (i = 0, len = this._parts.length; i < len; i++) {\n\t\t\tpart = this._parts[i];\n\n\t\t\tfor (j = 0, len2 = part.length, k = len2 - 1; j < len2; k = j++) {\n\t\t\t\tp1 = part[j];\n\t\t\t\tp2 = part[k];\n\n\t\t\t\tif (((p1.y > p.y) !== (p2.y > p.y)) && (p.x < (p2.x - p1.x) * (p.y - p1.y) / (p2.y - p1.y) + p1.x)) {\n\t\t\t\t\tinside = !inside;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// also check if it's on polygon stroke\n\t\treturn inside || Polyline.prototype._containsPoint.call(this, p, true);\n\t}\n\n});\n\n/*\r\n * @class GeoJSON\r\n * @aka L.GeoJSON\r\n * @inherits FeatureGroup\r\n *\r\n * Represents a GeoJSON object or an array of GeoJSON objects. Allows you to parse\r\n * GeoJSON data and display it on the map. Extends `FeatureGroup`.\r\n *\r\n * @example\r\n *\r\n * ```js\r\n * L.geoJSON(data, {\r\n * \tstyle: function (feature) {\r\n * \t\treturn {color: feature.properties.color};\r\n * \t}\r\n * }).bindPopup(function (layer) {\r\n * \treturn layer.feature.properties.description;\r\n * }).addTo(map);\r\n * ```\r\n */\r\n\r\nvar GeoJSON = FeatureGroup.extend({\r\n\r\n\t/* @section\r\n\t * @aka GeoJSON options\r\n\t *\r\n\t * @option pointToLayer: Function = *\r\n\t * A `Function` defining how GeoJSON points spawn Leaflet layers. It is internally\r\n\t * called when data is added, passing the GeoJSON point feature and its `LatLng`.\r\n\t * The default is to spawn a default `Marker`:\r\n\t * ```js\r\n\t * function(geoJsonPoint, latlng) {\r\n\t * \treturn L.marker(latlng);\r\n\t * }\r\n\t * ```\r\n\t *\r\n\t * @option style: Function = *\r\n\t * A `Function` defining the `Path options` for styling GeoJSON lines and polygons,\r\n\t * called internally when data is added.\r\n\t * The default value is to not override any defaults:\r\n\t * ```js\r\n\t * function (geoJsonFeature) {\r\n\t * \treturn {}\r\n\t * }\r\n\t * ```\r\n\t *\r\n\t * @option onEachFeature: Function = *\r\n\t * A `Function` that will be called once for each created `Feature`, after it has\r\n\t * been created and styled. Useful for attaching events and popups to features.\r\n\t * The default is to do nothing with the newly created layers:\r\n\t * ```js\r\n\t * function (feature, layer) {}\r\n\t * ```\r\n\t *\r\n\t * @option filter: Function = *\r\n\t * A `Function` that will be used to decide whether to include a feature or not.\r\n\t * The default is to include all features:\r\n\t * ```js\r\n\t * function (geoJsonFeature) {\r\n\t * \treturn true;\r\n\t * }\r\n\t * ```\r\n\t * Note: dynamically changing the `filter` option will have effect only on newly\r\n\t * added data. It will _not_ re-evaluate already included features.\r\n\t *\r\n\t * @option coordsToLatLng: Function = *\r\n\t * A `Function` that will be used for converting GeoJSON coordinates to `LatLng`s.\r\n\t * The default is the `coordsToLatLng` static method.\r\n\t *\r\n\t * @option markersInheritOptions: Boolean = false\r\n\t * Whether default Markers for \"Point\" type Features inherit from group options.\r\n\t */\r\n\r\n\tinitialize: function (geojson, options) {\r\n\t\tsetOptions(this, options);\r\n\r\n\t\tthis._layers = {};\r\n\r\n\t\tif (geojson) {\r\n\t\t\tthis.addData(geojson);\r\n\t\t}\r\n\t},\r\n\r\n\t// @method addData( <GeoJSON> data ): this\r\n\t// Adds a GeoJSON object to the layer.\r\n\taddData: function (geojson) {\r\n\t\tvar features = isArray(geojson) ? geojson : geojson.features,\r\n\t\t    i, len, feature;\r\n\r\n\t\tif (features) {\r\n\t\t\tfor (i = 0, len = features.length; i < len; i++) {\r\n\t\t\t\t// only add this if geometry or geometries are set and not null\r\n\t\t\t\tfeature = features[i];\r\n\t\t\t\tif (feature.geometries || feature.geometry || feature.features || feature.coordinates) {\r\n\t\t\t\t\tthis.addData(feature);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn this;\r\n\t\t}\r\n\r\n\t\tvar options = this.options;\r\n\r\n\t\tif (options.filter && !options.filter(geojson)) { return this; }\r\n\r\n\t\tvar layer = geometryToLayer(geojson, options);\r\n\t\tif (!layer) {\r\n\t\t\treturn this;\r\n\t\t}\r\n\t\tlayer.feature = asFeature(geojson);\r\n\r\n\t\tlayer.defaultOptions = layer.options;\r\n\t\tthis.resetStyle(layer);\r\n\r\n\t\tif (options.onEachFeature) {\r\n\t\t\toptions.onEachFeature(geojson, layer);\r\n\t\t}\r\n\r\n\t\treturn this.addLayer(layer);\r\n\t},\r\n\r\n\t// @method resetStyle( <Path> layer? ): this\r\n\t// Resets the given vector layer's style to the original GeoJSON style, useful for resetting style after hover events.\r\n\t// If `layer` is omitted, the style of all features in the current layer is reset.\r\n\tresetStyle: function (layer) {\r\n\t\tif (layer === undefined) {\r\n\t\t\treturn this.eachLayer(this.resetStyle, this);\r\n\t\t}\r\n\t\t// reset any custom styles\r\n\t\tlayer.options = extend({}, layer.defaultOptions);\r\n\t\tthis._setLayerStyle(layer, this.options.style);\r\n\t\treturn this;\r\n\t},\r\n\r\n\t// @method setStyle( <Function> style ): this\r\n\t// Changes styles of GeoJSON vector layers with the given style function.\r\n\tsetStyle: function (style) {\r\n\t\treturn this.eachLayer(function (layer) {\r\n\t\t\tthis._setLayerStyle(layer, style);\r\n\t\t}, this);\r\n\t},\r\n\r\n\t_setLayerStyle: function (layer, style) {\r\n\t\tif (layer.setStyle) {\r\n\t\t\tif (typeof style === 'function') {\r\n\t\t\t\tstyle = style(layer.feature);\r\n\t\t\t}\r\n\t\t\tlayer.setStyle(style);\r\n\t\t}\r\n\t}\r\n});\r\n\r\n// @section\r\n// There are several static functions which can be called without instantiating L.GeoJSON:\r\n\r\n// @function geometryToLayer(featureData: Object, options?: GeoJSON options): Layer\r\n// Creates a `Layer` from a given GeoJSON feature. Can use a custom\r\n// [`pointToLayer`](#geojson-pointtolayer) and/or [`coordsToLatLng`](#geojson-coordstolatlng)\r\n// functions if provided as options.\r\nfunction geometryToLayer(geojson, options) {\r\n\r\n\tvar geometry = geojson.type === 'Feature' ? geojson.geometry : geojson,\r\n\t    coords = geometry ? geometry.coordinates : null,\r\n\t    layers = [],\r\n\t    pointToLayer = options && options.pointToLayer,\r\n\t    _coordsToLatLng = options && options.coordsToLatLng || coordsToLatLng,\r\n\t    latlng, latlngs, i, len;\r\n\r\n\tif (!coords && !geometry) {\r\n\t\treturn null;\r\n\t}\r\n\r\n\tswitch (geometry.type) {\r\n\tcase 'Point':\r\n\t\tlatlng = _coordsToLatLng(coords);\r\n\t\treturn _pointToLayer(pointToLayer, geojson, latlng, options);\r\n\r\n\tcase 'MultiPoint':\r\n\t\tfor (i = 0, len = coords.length; i < len; i++) {\r\n\t\t\tlatlng = _coordsToLatLng(coords[i]);\r\n\t\t\tlayers.push(_pointToLayer(pointToLayer, geojson, latlng, options));\r\n\t\t}\r\n\t\treturn new FeatureGroup(layers);\r\n\r\n\tcase 'LineString':\r\n\tcase 'MultiLineString':\r\n\t\tlatlngs = coordsToLatLngs(coords, geometry.type === 'LineString' ? 0 : 1, _coordsToLatLng);\r\n\t\treturn new Polyline(latlngs, options);\r\n\r\n\tcase 'Polygon':\r\n\tcase 'MultiPolygon':\r\n\t\tlatlngs = coordsToLatLngs(coords, geometry.type === 'Polygon' ? 1 : 2, _coordsToLatLng);\r\n\t\treturn new Polygon(latlngs, options);\r\n\r\n\tcase 'GeometryCollection':\r\n\t\tfor (i = 0, len = geometry.geometries.length; i < len; i++) {\r\n\t\t\tvar layer = geometryToLayer({\r\n\t\t\t\tgeometry: geometry.geometries[i],\r\n\t\t\t\ttype: 'Feature',\r\n\t\t\t\tproperties: geojson.properties\r\n\t\t\t}, options);\r\n\r\n\t\t\tif (layer) {\r\n\t\t\t\tlayers.push(layer);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn new FeatureGroup(layers);\r\n\r\n\tdefault:\r\n\t\tthrow new Error('Invalid GeoJSON object.');\r\n\t}\r\n}\r\n\r\nfunction _pointToLayer(pointToLayerFn, geojson, latlng, options) {\r\n\treturn pointToLayerFn ?\r\n\t\tpointToLayerFn(geojson, latlng) :\r\n\t\tnew Marker(latlng, options && options.markersInheritOptions && options);\r\n}\r\n\r\n// @function coordsToLatLng(coords: Array): LatLng\r\n// Creates a `LatLng` object from an array of 2 numbers (longitude, latitude)\r\n// or 3 numbers (longitude, latitude, altitude) used in GeoJSON for points.\r\nfunction coordsToLatLng(coords) {\r\n\treturn new LatLng(coords[1], coords[0], coords[2]);\r\n}\r\n\r\n// @function coordsToLatLngs(coords: Array, levelsDeep?: Number, coordsToLatLng?: Function): Array\r\n// Creates a multidimensional array of `LatLng`s from a GeoJSON coordinates array.\r\n// `levelsDeep` specifies the nesting level (0 is for an array of points, 1 for an array of arrays of points, etc., 0 by default).\r\n// Can use a custom [`coordsToLatLng`](#geojson-coordstolatlng) function.\r\nfunction coordsToLatLngs(coords, levelsDeep, _coordsToLatLng) {\r\n\tvar latlngs = [];\r\n\r\n\tfor (var i = 0, len = coords.length, latlng; i < len; i++) {\r\n\t\tlatlng = levelsDeep ?\r\n\t\t\tcoordsToLatLngs(coords[i], levelsDeep - 1, _coordsToLatLng) :\r\n\t\t\t(_coordsToLatLng || coordsToLatLng)(coords[i]);\r\n\r\n\t\tlatlngs.push(latlng);\r\n\t}\r\n\r\n\treturn latlngs;\r\n}\r\n\r\n// @function latLngToCoords(latlng: LatLng, precision?: Number): Array\r\n// Reverse of [`coordsToLatLng`](#geojson-coordstolatlng)\r\nfunction latLngToCoords(latlng, precision) {\r\n\tprecision = typeof precision === 'number' ? precision : 6;\r\n\treturn latlng.alt !== undefined ?\r\n\t\t[formatNum(latlng.lng, precision), formatNum(latlng.lat, precision), formatNum(latlng.alt, precision)] :\r\n\t\t[formatNum(latlng.lng, precision), formatNum(latlng.lat, precision)];\r\n}\r\n\r\n// @function latLngsToCoords(latlngs: Array, levelsDeep?: Number, closed?: Boolean): Array\r\n// Reverse of [`coordsToLatLngs`](#geojson-coordstolatlngs)\r\n// `closed` determines whether the first point should be appended to the end of the array to close the feature, only used when `levelsDeep` is 0. False by default.\r\nfunction latLngsToCoords(latlngs, levelsDeep, closed, precision) {\r\n\tvar coords = [];\r\n\r\n\tfor (var i = 0, len = latlngs.length; i < len; i++) {\r\n\t\tcoords.push(levelsDeep ?\r\n\t\t\tlatLngsToCoords(latlngs[i], levelsDeep - 1, closed, precision) :\r\n\t\t\tlatLngToCoords(latlngs[i], precision));\r\n\t}\r\n\r\n\tif (!levelsDeep && closed) {\r\n\t\tcoords.push(coords[0]);\r\n\t}\r\n\r\n\treturn coords;\r\n}\r\n\r\nfunction getFeature(layer, newGeometry) {\r\n\treturn layer.feature ?\r\n\t\textend({}, layer.feature, {geometry: newGeometry}) :\r\n\t\tasFeature(newGeometry);\r\n}\r\n\r\n// @function asFeature(geojson: Object): Object\r\n// Normalize GeoJSON geometries/features into GeoJSON features.\r\nfunction asFeature(geojson) {\r\n\tif (geojson.type === 'Feature' || geojson.type === 'FeatureCollection') {\r\n\t\treturn geojson;\r\n\t}\r\n\r\n\treturn {\r\n\t\ttype: 'Feature',\r\n\t\tproperties: {},\r\n\t\tgeometry: geojson\r\n\t};\r\n}\r\n\r\nvar PointToGeoJSON = {\r\n\ttoGeoJSON: function (precision) {\r\n\t\treturn getFeature(this, {\r\n\t\t\ttype: 'Point',\r\n\t\t\tcoordinates: latLngToCoords(this.getLatLng(), precision)\r\n\t\t});\r\n\t}\r\n};\r\n\r\n// @namespace Marker\r\n// @section Other methods\r\n// @method toGeoJSON(precision?: Number): Object\r\n// `precision` is the number of decimal places for coordinates.\r\n// The default value is 6 places.\r\n// Returns a [`GeoJSON`](http://en.wikipedia.org/wiki/GeoJSON) representation of the marker (as a GeoJSON `Point` Feature).\r\nMarker.include(PointToGeoJSON);\r\n\r\n// @namespace CircleMarker\r\n// @method toGeoJSON(precision?: Number): Object\r\n// `precision` is the number of decimal places for coordinates.\r\n// The default value is 6 places.\r\n// Returns a [`GeoJSON`](http://en.wikipedia.org/wiki/GeoJSON) representation of the circle marker (as a GeoJSON `Point` Feature).\r\nCircle.include(PointToGeoJSON);\r\nCircleMarker.include(PointToGeoJSON);\r\n\r\n\r\n// @namespace Polyline\r\n// @method toGeoJSON(precision?: Number): Object\r\n// `precision` is the number of decimal places for coordinates.\r\n// The default value is 6 places.\r\n// Returns a [`GeoJSON`](http://en.wikipedia.org/wiki/GeoJSON) representation of the polyline (as a GeoJSON `LineString` or `MultiLineString` Feature).\r\nPolyline.include({\r\n\ttoGeoJSON: function (precision) {\r\n\t\tvar multi = !isFlat(this._latlngs);\r\n\r\n\t\tvar coords = latLngsToCoords(this._latlngs, multi ? 1 : 0, false, precision);\r\n\r\n\t\treturn getFeature(this, {\r\n\t\t\ttype: (multi ? 'Multi' : '') + 'LineString',\r\n\t\t\tcoordinates: coords\r\n\t\t});\r\n\t}\r\n});\r\n\r\n// @namespace Polygon\r\n// @method toGeoJSON(precision?: Number): Object\r\n// `precision` is the number of decimal places for coordinates.\r\n// The default value is 6 places.\r\n// Returns a [`GeoJSON`](http://en.wikipedia.org/wiki/GeoJSON) representation of the polygon (as a GeoJSON `Polygon` or `MultiPolygon` Feature).\r\nPolygon.include({\r\n\ttoGeoJSON: function (precision) {\r\n\t\tvar holes = !isFlat(this._latlngs),\r\n\t\t    multi = holes && !isFlat(this._latlngs[0]);\r\n\r\n\t\tvar coords = latLngsToCoords(this._latlngs, multi ? 2 : holes ? 1 : 0, true, precision);\r\n\r\n\t\tif (!holes) {\r\n\t\t\tcoords = [coords];\r\n\t\t}\r\n\r\n\t\treturn getFeature(this, {\r\n\t\t\ttype: (multi ? 'Multi' : '') + 'Polygon',\r\n\t\t\tcoordinates: coords\r\n\t\t});\r\n\t}\r\n});\r\n\r\n\r\n// @namespace LayerGroup\r\nLayerGroup.include({\r\n\ttoMultiPoint: function (precision) {\r\n\t\tvar coords = [];\r\n\r\n\t\tthis.eachLayer(function (layer) {\r\n\t\t\tcoords.push(layer.toGeoJSON(precision).geometry.coordinates);\r\n\t\t});\r\n\r\n\t\treturn getFeature(this, {\r\n\t\t\ttype: 'MultiPoint',\r\n\t\t\tcoordinates: coords\r\n\t\t});\r\n\t},\r\n\r\n\t// @method toGeoJSON(precision?: Number): Object\r\n\t// `precision` is the number of decimal places for coordinates.\r\n\t// The default value is 6 places.\r\n\t// Returns a [`GeoJSON`](http://en.wikipedia.org/wiki/GeoJSON) representation of the layer group (as a GeoJSON `FeatureCollection`, `GeometryCollection`, or `MultiPoint`).\r\n\ttoGeoJSON: function (precision) {\r\n\r\n\t\tvar type = this.feature && this.feature.geometry && this.feature.geometry.type;\r\n\r\n\t\tif (type === 'MultiPoint') {\r\n\t\t\treturn this.toMultiPoint(precision);\r\n\t\t}\r\n\r\n\t\tvar isGeometryCollection = type === 'GeometryCollection',\r\n\t\t    jsons = [];\r\n\r\n\t\tthis.eachLayer(function (layer) {\r\n\t\t\tif (layer.toGeoJSON) {\r\n\t\t\t\tvar json = layer.toGeoJSON(precision);\r\n\t\t\t\tif (isGeometryCollection) {\r\n\t\t\t\t\tjsons.push(json.geometry);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tvar feature = asFeature(json);\r\n\t\t\t\t\t// Squash nested feature collections\r\n\t\t\t\t\tif (feature.type === 'FeatureCollection') {\r\n\t\t\t\t\t\tjsons.push.apply(jsons, feature.features);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tjsons.push(feature);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tif (isGeometryCollection) {\r\n\t\t\treturn getFeature(this, {\r\n\t\t\t\tgeometries: jsons,\r\n\t\t\t\ttype: 'GeometryCollection'\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\treturn {\r\n\t\t\ttype: 'FeatureCollection',\r\n\t\t\tfeatures: jsons\r\n\t\t};\r\n\t}\r\n});\r\n\n/*\r\n * @class ImageOverlay\r\n * @aka L.ImageOverlay\r\n * @inherits Interactive layer\r\n *\r\n * Used to load and display a single image over specific bounds of the map. Extends `Layer`.\r\n *\r\n * @example\r\n *\r\n * ```js\r\n * var imageUrl = 'http://www.lib.utexas.edu/maps/historical/newark_nj_1922.jpg',\r\n * \timageBounds = [[40.712216, -74.22655], [40.773941, -74.12544]];\r\n * L.imageOverlay(imageUrl, imageBounds).addTo(map);\r\n * ```\r\n */\r\n\r\nvar ImageOverlay = Layer.extend({\r\n\r\n\t// @section\r\n\t// @aka ImageOverlay options\r\n\toptions: {\r\n\t\t// @option opacity: Number = 1.0\r\n\t\t// The opacity of the image overlay.\r\n\t\topacity: 1,\r\n\r\n\t\t// @option alt: String = ''\r\n\t\t// Text for the `alt` attribute of the image (useful for accessibility).\r\n\t\talt: '',\r\n\r\n\t\t// @option interactive: Boolean = false\r\n\t\t// If `true`, the image overlay will emit [mouse events](#interactive-layer) when clicked or hovered.\r\n\t\tinteractive: false,\r\n\r\n\t\t// @option crossOrigin: Boolean|String = false\r\n\t\t// Whether the crossOrigin attribute will be added to the image.\r\n\t\t// If a String is provided, the image will have its crossOrigin attribute set to the String provided. This is needed if you want to access image pixel data.\r\n\t\t// Refer to [CORS Settings](https://developer.mozilla.org/en-US/docs/Web/HTML/CORS_settings_attributes) for valid String values.\r\n\t\tcrossOrigin: false,\r\n\r\n\t\t// @option errorOverlayUrl: String = ''\r\n\t\t// URL to the overlay image to show in place of the overlay that failed to load.\r\n\t\terrorOverlayUrl: '',\r\n\r\n\t\t// @option zIndex: Number = 1\r\n\t\t// The explicit [zIndex](https://developer.mozilla.org/docs/Web/CSS/CSS_Positioning/Understanding_z_index) of the overlay layer.\r\n\t\tzIndex: 1,\r\n\r\n\t\t// @option className: String = ''\r\n\t\t// A custom class name to assign to the image. Empty by default.\r\n\t\tclassName: ''\r\n\t},\r\n\r\n\tinitialize: function (url, bounds, options) { // (String, LatLngBounds, Object)\r\n\t\tthis._url = url;\r\n\t\tthis._bounds = toLatLngBounds(bounds);\r\n\r\n\t\tsetOptions(this, options);\r\n\t},\r\n\r\n\tonAdd: function () {\r\n\t\tif (!this._image) {\r\n\t\t\tthis._initImage();\r\n\r\n\t\t\tif (this.options.opacity < 1) {\r\n\t\t\t\tthis._updateOpacity();\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (this.options.interactive) {\r\n\t\t\taddClass(this._image, 'leaflet-interactive');\r\n\t\t\tthis.addInteractiveTarget(this._image);\r\n\t\t}\r\n\r\n\t\tthis.getPane().appendChild(this._image);\r\n\t\tthis._reset();\r\n\t},\r\n\r\n\tonRemove: function () {\r\n\t\tremove(this._image);\r\n\t\tif (this.options.interactive) {\r\n\t\t\tthis.removeInteractiveTarget(this._image);\r\n\t\t}\r\n\t},\r\n\r\n\t// @method setOpacity(opacity: Number): this\r\n\t// Sets the opacity of the overlay.\r\n\tsetOpacity: function (opacity) {\r\n\t\tthis.options.opacity = opacity;\r\n\r\n\t\tif (this._image) {\r\n\t\t\tthis._updateOpacity();\r\n\t\t}\r\n\t\treturn this;\r\n\t},\r\n\r\n\tsetStyle: function (styleOpts) {\r\n\t\tif (styleOpts.opacity) {\r\n\t\t\tthis.setOpacity(styleOpts.opacity);\r\n\t\t}\r\n\t\treturn this;\r\n\t},\r\n\r\n\t// @method bringToFront(): this\r\n\t// Brings the layer to the top of all overlays.\r\n\tbringToFront: function () {\r\n\t\tif (this._map) {\r\n\t\t\ttoFront(this._image);\r\n\t\t}\r\n\t\treturn this;\r\n\t},\r\n\r\n\t// @method bringToBack(): this\r\n\t// Brings the layer to the bottom of all overlays.\r\n\tbringToBack: function () {\r\n\t\tif (this._map) {\r\n\t\t\ttoBack(this._image);\r\n\t\t}\r\n\t\treturn this;\r\n\t},\r\n\r\n\t// @method setUrl(url: String): this\r\n\t// Changes the URL of the image.\r\n\tsetUrl: function (url) {\r\n\t\tthis._url = url;\r\n\r\n\t\tif (this._image) {\r\n\t\t\tthis._image.src = url;\r\n\t\t}\r\n\t\treturn this;\r\n\t},\r\n\r\n\t// @method setBounds(bounds: LatLngBounds): this\r\n\t// Update the bounds that this ImageOverlay covers\r\n\tsetBounds: function (bounds) {\r\n\t\tthis._bounds = toLatLngBounds(bounds);\r\n\r\n\t\tif (this._map) {\r\n\t\t\tthis._reset();\r\n\t\t}\r\n\t\treturn this;\r\n\t},\r\n\r\n\tgetEvents: function () {\r\n\t\tvar events = {\r\n\t\t\tzoom: this._reset,\r\n\t\t\tviewreset: this._reset\r\n\t\t};\r\n\r\n\t\tif (this._zoomAnimated) {\r\n\t\t\tevents.zoomanim = this._animateZoom;\r\n\t\t}\r\n\r\n\t\treturn events;\r\n\t},\r\n\r\n\t// @method setZIndex(value: Number): this\r\n\t// Changes the [zIndex](#imageoverlay-zindex) of the image overlay.\r\n\tsetZIndex: function (value) {\r\n\t\tthis.options.zIndex = value;\r\n\t\tthis._updateZIndex();\r\n\t\treturn this;\r\n\t},\r\n\r\n\t// @method getBounds(): LatLngBounds\r\n\t// Get the bounds that this ImageOverlay covers\r\n\tgetBounds: function () {\r\n\t\treturn this._bounds;\r\n\t},\r\n\r\n\t// @method getElement(): HTMLElement\r\n\t// Returns the instance of [`HTMLImageElement`](https://developer.mozilla.org/docs/Web/API/HTMLImageElement)\r\n\t// used by this overlay.\r\n\tgetElement: function () {\r\n\t\treturn this._image;\r\n\t},\r\n\r\n\t_initImage: function () {\r\n\t\tvar wasElementSupplied = this._url.tagName === 'IMG';\r\n\t\tvar img = this._image = wasElementSupplied ? this._url : create$1('img');\r\n\r\n\t\taddClass(img, 'leaflet-image-layer');\r\n\t\tif (this._zoomAnimated) { addClass(img, 'leaflet-zoom-animated'); }\r\n\t\tif (this.options.className) { addClass(img, this.options.className); }\r\n\r\n\t\timg.onselectstart = falseFn;\r\n\t\timg.onmousemove = falseFn;\r\n\r\n\t\t// @event load: Event\r\n\t\t// Fired when the ImageOverlay layer has loaded its image\r\n\t\timg.onload = bind(this.fire, this, 'load');\r\n\t\timg.onerror = bind(this._overlayOnError, this, 'error');\r\n\r\n\t\tif (this.options.crossOrigin || this.options.crossOrigin === '') {\r\n\t\t\timg.crossOrigin = this.options.crossOrigin === true ? '' : this.options.crossOrigin;\r\n\t\t}\r\n\r\n\t\tif (this.options.zIndex) {\r\n\t\t\tthis._updateZIndex();\r\n\t\t}\r\n\r\n\t\tif (wasElementSupplied) {\r\n\t\t\tthis._url = img.src;\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\timg.src = this._url;\r\n\t\timg.alt = this.options.alt;\r\n\t},\r\n\r\n\t_animateZoom: function (e) {\r\n\t\tvar scale = this._map.getZoomScale(e.zoom),\r\n\t\t    offset = this._map._latLngBoundsToNewLayerBounds(this._bounds, e.zoom, e.center).min;\r\n\r\n\t\tsetTransform(this._image, offset, scale);\r\n\t},\r\n\r\n\t_reset: function () {\r\n\t\tvar image = this._image,\r\n\t\t    bounds = new Bounds(\r\n\t\t        this._map.latLngToLayerPoint(this._bounds.getNorthWest()),\r\n\t\t        this._map.latLngToLayerPoint(this._bounds.getSouthEast())),\r\n\t\t    size = bounds.getSize();\r\n\r\n\t\tsetPosition(image, bounds.min);\r\n\r\n\t\timage.style.width  = size.x + 'px';\r\n\t\timage.style.height = size.y + 'px';\r\n\t},\r\n\r\n\t_updateOpacity: function () {\r\n\t\tsetOpacity(this._image, this.options.opacity);\r\n\t},\r\n\r\n\t_updateZIndex: function () {\r\n\t\tif (this._image && this.options.zIndex !== undefined && this.options.zIndex !== null) {\r\n\t\t\tthis._image.style.zIndex = this.options.zIndex;\r\n\t\t}\r\n\t},\r\n\r\n\t_overlayOnError: function () {\r\n\t\t// @event error: Event\r\n\t\t// Fired when the ImageOverlay layer fails to load its image\r\n\t\tthis.fire('error');\r\n\r\n\t\tvar errorUrl = this.options.errorOverlayUrl;\r\n\t\tif (errorUrl && this._url !== errorUrl) {\r\n\t\t\tthis._url = errorUrl;\r\n\t\t\tthis._image.src = errorUrl;\r\n\t\t}\r\n\t}\r\n});\r\n\n/*\r\n * @class VideoOverlay\r\n * @aka L.VideoOverlay\r\n * @inherits ImageOverlay\r\n *\r\n * Used to load and display a video player over specific bounds of the map. Extends `ImageOverlay`.\r\n *\r\n * A video overlay uses the [`<video>`](https://developer.mozilla.org/docs/Web/HTML/Element/video)\r\n * HTML5 element.\r\n *\r\n * @example\r\n *\r\n * ```js\r\n * var videoUrl = 'https://www.mapbox.com/bites/00188/patricia_nasa.webm',\r\n * \tvideoBounds = [[ 32, -130], [ 13, -100]];\r\n * L.videoOverlay(videoUrl, videoBounds ).addTo(map);\r\n * ```\r\n */\r\n\r\nvar VideoOverlay = ImageOverlay.extend({\r\n\r\n\t// @section\r\n\t// @aka VideoOverlay options\r\n\toptions: {\r\n\t\t// @option autoplay: Boolean = true\r\n\t\t// Whether the video starts playing automatically when loaded.\r\n\t\tautoplay: true,\r\n\r\n\t\t// @option loop: Boolean = true\r\n\t\t// Whether the video will loop back to the beginning when played.\r\n\t\tloop: true,\r\n\r\n\t\t// @option keepAspectRatio: Boolean = true\r\n\t\t// Whether the video will save aspect ratio after the projection.\r\n\t\t// Relevant for supported browsers. Browser compatibility- https://developer.mozilla.org/en-US/docs/Web/CSS/object-fit\r\n\t\tkeepAspectRatio: true,\r\n\r\n\t\t// @option muted: Boolean = false\r\n\t\t// Whether the video starts on mute when loaded.\r\n\t\tmuted: false\r\n\t},\r\n\r\n\t_initImage: function () {\r\n\t\tvar wasElementSupplied = this._url.tagName === 'VIDEO';\r\n\t\tvar vid = this._image = wasElementSupplied ? this._url : create$1('video');\r\n\r\n\t\taddClass(vid, 'leaflet-image-layer');\r\n\t\tif (this._zoomAnimated) { addClass(vid, 'leaflet-zoom-animated'); }\r\n\t\tif (this.options.className) { addClass(vid, this.options.className); }\r\n\r\n\t\tvid.onselectstart = falseFn;\r\n\t\tvid.onmousemove = falseFn;\r\n\r\n\t\t// @event load: Event\r\n\t\t// Fired when the video has finished loading the first frame\r\n\t\tvid.onloadeddata = bind(this.fire, this, 'load');\r\n\r\n\t\tif (wasElementSupplied) {\r\n\t\t\tvar sourceElements = vid.getElementsByTagName('source');\r\n\t\t\tvar sources = [];\r\n\t\t\tfor (var j = 0; j < sourceElements.length; j++) {\r\n\t\t\t\tsources.push(sourceElements[j].src);\r\n\t\t\t}\r\n\r\n\t\t\tthis._url = (sourceElements.length > 0) ? sources : [vid.src];\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif (!isArray(this._url)) { this._url = [this._url]; }\r\n\r\n\t\tif (!this.options.keepAspectRatio && Object.prototype.hasOwnProperty.call(vid.style, 'objectFit')) {\r\n\t\t\tvid.style['objectFit'] = 'fill';\r\n\t\t}\r\n\t\tvid.autoplay = !!this.options.autoplay;\r\n\t\tvid.loop = !!this.options.loop;\r\n\t\tvid.muted = !!this.options.muted;\r\n\t\tfor (var i = 0; i < this._url.length; i++) {\r\n\t\t\tvar source = create$1('source');\r\n\t\t\tsource.src = this._url[i];\r\n\t\t\tvid.appendChild(source);\r\n\t\t}\r\n\t}\r\n\r\n\t// @method getElement(): HTMLVideoElement\r\n\t// Returns the instance of [`HTMLVideoElement`](https://developer.mozilla.org/docs/Web/API/HTMLVideoElement)\r\n\t// used by this overlay.\r\n});\r\n\n/*\n * @class SVGOverlay\n * @aka L.SVGOverlay\n * @inherits ImageOverlay\n *\n * Used to load, display and provide DOM access to an SVG file over specific bounds of the map. Extends `ImageOverlay`.\n *\n * An SVG overlay uses the [`<svg>`](https://developer.mozilla.org/docs/Web/SVG/Element/svg) element.\n *\n * @example\n *\n * ```js\n * var svgElement = document.createElementNS(\"http://www.w3.org/2000/svg\", \"svg\");\n * svgElement.setAttribute('xmlns', \"http://www.w3.org/2000/svg\");\n * svgElement.setAttribute('viewBox', \"0 0 200 200\");\n * svgElement.innerHTML = '<rect width=\"200\" height=\"200\"/><rect x=\"75\" y=\"23\" width=\"50\" height=\"50\" style=\"fill:red\"/><rect x=\"75\" y=\"123\" width=\"50\" height=\"50\" style=\"fill:#0013ff\"/>';\n * var svgElementBounds = [ [ 32, -130 ], [ 13, -100 ] ];\n * L.svgOverlay(svgElement, svgElementBounds).addTo(map);\n * ```\n */\n\nvar SVGOverlay = ImageOverlay.extend({\n\t_initImage: function () {\n\t\tvar el = this._image = this._url;\n\n\t\taddClass(el, 'leaflet-image-layer');\n\t\tif (this._zoomAnimated) { addClass(el, 'leaflet-zoom-animated'); }\n\t\tif (this.options.className) { addClass(el, this.options.className); }\n\n\t\tel.onselectstart = falseFn;\n\t\tel.onmousemove = falseFn;\n\t}\n\n\t// @method getElement(): SVGElement\n\t// Returns the instance of [`SVGElement`](https://developer.mozilla.org/docs/Web/API/SVGElement)\n\t// used by this overlay.\n});\n\n/*\r\n * @class DivOverlay\r\n * @inherits Layer\r\n * @aka L.DivOverlay\r\n * Base model for L.Popup and L.Tooltip. Inherit from it for custom popup like plugins.\r\n */\r\n\r\n// @namespace DivOverlay\r\nvar DivOverlay = Layer.extend({\r\n\r\n\t// @section\r\n\t// @aka DivOverlay options\r\n\toptions: {\r\n\t\t// @option offset: Point = Point(0, 7)\r\n\t\t// The offset of the popup position. Useful to control the anchor\r\n\t\t// of the popup when opening it on some overlays.\r\n\t\toffset: [0, 7],\r\n\r\n\t\t// @option className: String = ''\r\n\t\t// A custom CSS class name to assign to the popup.\r\n\t\tclassName: '',\r\n\r\n\t\t// @option pane: String = 'popupPane'\r\n\t\t// `Map pane` where the popup will be added.\r\n\t\tpane: 'popupPane'\r\n\t},\r\n\r\n\tinitialize: function (options, source) {\r\n\t\tsetOptions(this, options);\r\n\r\n\t\tthis._source = source;\r\n\t},\r\n\r\n\tonAdd: function (map) {\r\n\t\tthis._zoomAnimated = map._zoomAnimated;\r\n\r\n\t\tif (!this._container) {\r\n\t\t\tthis._initLayout();\r\n\t\t}\r\n\r\n\t\tif (map._fadeAnimated) {\r\n\t\t\tsetOpacity(this._container, 0);\r\n\t\t}\r\n\r\n\t\tclearTimeout(this._removeTimeout);\r\n\t\tthis.getPane().appendChild(this._container);\r\n\t\tthis.update();\r\n\r\n\t\tif (map._fadeAnimated) {\r\n\t\t\tsetOpacity(this._container, 1);\r\n\t\t}\r\n\r\n\t\tthis.bringToFront();\r\n\t},\r\n\r\n\tonRemove: function (map) {\r\n\t\tif (map._fadeAnimated) {\r\n\t\t\tsetOpacity(this._container, 0);\r\n\t\t\tthis._removeTimeout = setTimeout(bind(remove, undefined, this._container), 200);\r\n\t\t} else {\r\n\t\t\tremove(this._container);\r\n\t\t}\r\n\t},\r\n\r\n\t// @namespace Popup\r\n\t// @method getLatLng: LatLng\r\n\t// Returns the geographical point of popup.\r\n\tgetLatLng: function () {\r\n\t\treturn this._latlng;\r\n\t},\r\n\r\n\t// @method setLatLng(latlng: LatLng): this\r\n\t// Sets the geographical point where the popup will open.\r\n\tsetLatLng: function (latlng) {\r\n\t\tthis._latlng = toLatLng(latlng);\r\n\t\tif (this._map) {\r\n\t\t\tthis._updatePosition();\r\n\t\t\tthis._adjustPan();\r\n\t\t}\r\n\t\treturn this;\r\n\t},\r\n\r\n\t// @method getContent: String|HTMLElement\r\n\t// Returns the content of the popup.\r\n\tgetContent: function () {\r\n\t\treturn this._content;\r\n\t},\r\n\r\n\t// @method setContent(htmlContent: String|HTMLElement|Function): this\r\n\t// Sets the HTML content of the popup. If a function is passed the source layer will be passed to the function. The function should return a `String` or `HTMLElement` to be used in the popup.\r\n\tsetContent: function (content) {\r\n\t\tthis._content = content;\r\n\t\tthis.update();\r\n\t\treturn this;\r\n\t},\r\n\r\n\t// @method getElement: String|HTMLElement\r\n\t// Returns the HTML container of the popup.\r\n\tgetElement: function () {\r\n\t\treturn this._container;\r\n\t},\r\n\r\n\t// @method update: null\r\n\t// Updates the popup content, layout and position. Useful for updating the popup after something inside changed, e.g. image loaded.\r\n\tupdate: function () {\r\n\t\tif (!this._map) { return; }\r\n\r\n\t\tthis._container.style.visibility = 'hidden';\r\n\r\n\t\tthis._updateContent();\r\n\t\tthis._updateLayout();\r\n\t\tthis._updatePosition();\r\n\r\n\t\tthis._container.style.visibility = '';\r\n\r\n\t\tthis._adjustPan();\r\n\t},\r\n\r\n\tgetEvents: function () {\r\n\t\tvar events = {\r\n\t\t\tzoom: this._updatePosition,\r\n\t\t\tviewreset: this._updatePosition\r\n\t\t};\r\n\r\n\t\tif (this._zoomAnimated) {\r\n\t\t\tevents.zoomanim = this._animateZoom;\r\n\t\t}\r\n\t\treturn events;\r\n\t},\r\n\r\n\t// @method isOpen: Boolean\r\n\t// Returns `true` when the popup is visible on the map.\r\n\tisOpen: function () {\r\n\t\treturn !!this._map && this._map.hasLayer(this);\r\n\t},\r\n\r\n\t// @method bringToFront: this\r\n\t// Brings this popup in front of other popups (in the same map pane).\r\n\tbringToFront: function () {\r\n\t\tif (this._map) {\r\n\t\t\ttoFront(this._container);\r\n\t\t}\r\n\t\treturn this;\r\n\t},\r\n\r\n\t// @method bringToBack: this\r\n\t// Brings this popup to the back of other popups (in the same map pane).\r\n\tbringToBack: function () {\r\n\t\tif (this._map) {\r\n\t\t\ttoBack(this._container);\r\n\t\t}\r\n\t\treturn this;\r\n\t},\r\n\r\n\t_prepareOpen: function (parent, layer, latlng) {\r\n\t\tif (!(layer instanceof Layer)) {\r\n\t\t\tlatlng = layer;\r\n\t\t\tlayer = parent;\r\n\t\t}\r\n\r\n\t\tif (layer instanceof FeatureGroup) {\r\n\t\t\tfor (var id in parent._layers) {\r\n\t\t\t\tlayer = parent._layers[id];\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (!latlng) {\r\n\t\t\tif (layer.getCenter) {\r\n\t\t\t\tlatlng = layer.getCenter();\r\n\t\t\t} else if (layer.getLatLng) {\r\n\t\t\t\tlatlng = layer.getLatLng();\r\n\t\t\t} else {\r\n\t\t\t\tthrow new Error('Unable to get source layer LatLng.');\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// set overlay source to this layer\r\n\t\tthis._source = layer;\r\n\r\n\t\t// update the overlay (content, layout, ect...)\r\n\t\tthis.update();\r\n\r\n\t\treturn latlng;\r\n\t},\r\n\r\n\t_updateContent: function () {\r\n\t\tif (!this._content) { return; }\r\n\r\n\t\tvar node = this._contentNode;\r\n\t\tvar content = (typeof this._content === 'function') ? this._content(this._source || this) : this._content;\r\n\r\n\t\tif (typeof content === 'string') {\r\n\t\t\tnode.innerHTML = content;\r\n\t\t} else {\r\n\t\t\twhile (node.hasChildNodes()) {\r\n\t\t\t\tnode.removeChild(node.firstChild);\r\n\t\t\t}\r\n\t\t\tnode.appendChild(content);\r\n\t\t}\r\n\t\tthis.fire('contentupdate');\r\n\t},\r\n\r\n\t_updatePosition: function () {\r\n\t\tif (!this._map) { return; }\r\n\r\n\t\tvar pos = this._map.latLngToLayerPoint(this._latlng),\r\n\t\t    offset = toPoint(this.options.offset),\r\n\t\t    anchor = this._getAnchor();\r\n\r\n\t\tif (this._zoomAnimated) {\r\n\t\t\tsetPosition(this._container, pos.add(anchor));\r\n\t\t} else {\r\n\t\t\toffset = offset.add(pos).add(anchor);\r\n\t\t}\r\n\r\n\t\tvar bottom = this._containerBottom = -offset.y,\r\n\t\t    left = this._containerLeft = -Math.round(this._containerWidth / 2) + offset.x;\r\n\r\n\t\t// bottom position the popup in case the height of the popup changes (images loading etc)\r\n\t\tthis._container.style.bottom = bottom + 'px';\r\n\t\tthis._container.style.left = left + 'px';\r\n\t},\r\n\r\n\t_getAnchor: function () {\r\n\t\treturn [0, 0];\r\n\t}\r\n\r\n});\n\n/*\r\n * @class Popup\r\n * @inherits DivOverlay\r\n * @aka L.Popup\r\n * Used to open popups in certain places of the map. Use [Map.openPopup](#map-openpopup) to\r\n * open popups while making sure that only one popup is open at one time\r\n * (recommended for usability), or use [Map.addLayer](#map-addlayer) to open as many as you want.\r\n *\r\n * @example\r\n *\r\n * If you want to just bind a popup to marker click and then open it, it's really easy:\r\n *\r\n * ```js\r\n * marker.bindPopup(popupContent).openPopup();\r\n * ```\r\n * Path overlays like polylines also have a `bindPopup` method.\r\n * Here's a more complicated way to open a popup on a map:\r\n *\r\n * ```js\r\n * var popup = L.popup()\r\n * \t.setLatLng(latlng)\r\n * \t.setContent('<p>Hello world!<br />This is a nice popup.</p>')\r\n * \t.openOn(map);\r\n * ```\r\n */\r\n\r\n\r\n// @namespace Popup\r\nvar Popup = DivOverlay.extend({\r\n\r\n\t// @section\r\n\t// @aka Popup options\r\n\toptions: {\r\n\t\t// @option maxWidth: Number = 300\r\n\t\t// Max width of the popup, in pixels.\r\n\t\tmaxWidth: 300,\r\n\r\n\t\t// @option minWidth: Number = 50\r\n\t\t// Min width of the popup, in pixels.\r\n\t\tminWidth: 50,\r\n\r\n\t\t// @option maxHeight: Number = null\r\n\t\t// If set, creates a scrollable container of the given height\r\n\t\t// inside a popup if its content exceeds it.\r\n\t\tmaxHeight: null,\r\n\r\n\t\t// @option autoPan: Boolean = true\r\n\t\t// Set it to `false` if you don't want the map to do panning animation\r\n\t\t// to fit the opened popup.\r\n\t\tautoPan: true,\r\n\r\n\t\t// @option autoPanPaddingTopLeft: Point = null\r\n\t\t// The margin between the popup and the top left corner of the map\r\n\t\t// view after autopanning was performed.\r\n\t\tautoPanPaddingTopLeft: null,\r\n\r\n\t\t// @option autoPanPaddingBottomRight: Point = null\r\n\t\t// The margin between the popup and the bottom right corner of the map\r\n\t\t// view after autopanning was performed.\r\n\t\tautoPanPaddingBottomRight: null,\r\n\r\n\t\t// @option autoPanPadding: Point = Point(5, 5)\r\n\t\t// Equivalent of setting both top left and bottom right autopan padding to the same value.\r\n\t\tautoPanPadding: [5, 5],\r\n\r\n\t\t// @option keepInView: Boolean = false\r\n\t\t// Set it to `true` if you want to prevent users from panning the popup\r\n\t\t// off of the screen while it is open.\r\n\t\tkeepInView: false,\r\n\r\n\t\t// @option closeButton: Boolean = true\r\n\t\t// Controls the presence of a close button in the popup.\r\n\t\tcloseButton: true,\r\n\r\n\t\t// @option autoClose: Boolean = true\r\n\t\t// Set it to `false` if you want to override the default behavior of\r\n\t\t// the popup closing when another popup is opened.\r\n\t\tautoClose: true,\r\n\r\n\t\t// @option closeOnEscapeKey: Boolean = true\r\n\t\t// Set it to `false` if you want to override the default behavior of\r\n\t\t// the ESC key for closing of the popup.\r\n\t\tcloseOnEscapeKey: true,\r\n\r\n\t\t// @option closeOnClick: Boolean = *\r\n\t\t// Set it if you want to override the default behavior of the popup closing when user clicks\r\n\t\t// on the map. Defaults to the map's [`closePopupOnClick`](#map-closepopuponclick) option.\r\n\r\n\t\t// @option className: String = ''\r\n\t\t// A custom CSS class name to assign to the popup.\r\n\t\tclassName: ''\r\n\t},\r\n\r\n\t// @namespace Popup\r\n\t// @method openOn(map: Map): this\r\n\t// Adds the popup to the map and closes the previous one. The same as `map.openPopup(popup)`.\r\n\topenOn: function (map) {\r\n\t\tmap.openPopup(this);\r\n\t\treturn this;\r\n\t},\r\n\r\n\tonAdd: function (map) {\r\n\t\tDivOverlay.prototype.onAdd.call(this, map);\r\n\r\n\t\t// @namespace Map\r\n\t\t// @section Popup events\r\n\t\t// @event popupopen: PopupEvent\r\n\t\t// Fired when a popup is opened in the map\r\n\t\tmap.fire('popupopen', {popup: this});\r\n\r\n\t\tif (this._source) {\r\n\t\t\t// @namespace Layer\r\n\t\t\t// @section Popup events\r\n\t\t\t// @event popupopen: PopupEvent\r\n\t\t\t// Fired when a popup bound to this layer is opened\r\n\t\t\tthis._source.fire('popupopen', {popup: this}, true);\r\n\t\t\t// For non-path layers, we toggle the popup when clicking\r\n\t\t\t// again the layer, so prevent the map to reopen it.\r\n\t\t\tif (!(this._source instanceof Path)) {\r\n\t\t\t\tthis._source.on('preclick', stopPropagation);\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\r\n\tonRemove: function (map) {\r\n\t\tDivOverlay.prototype.onRemove.call(this, map);\r\n\r\n\t\t// @namespace Map\r\n\t\t// @section Popup events\r\n\t\t// @event popupclose: PopupEvent\r\n\t\t// Fired when a popup in the map is closed\r\n\t\tmap.fire('popupclose', {popup: this});\r\n\r\n\t\tif (this._source) {\r\n\t\t\t// @namespace Layer\r\n\t\t\t// @section Popup events\r\n\t\t\t// @event popupclose: PopupEvent\r\n\t\t\t// Fired when a popup bound to this layer is closed\r\n\t\t\tthis._source.fire('popupclose', {popup: this}, true);\r\n\t\t\tif (!(this._source instanceof Path)) {\r\n\t\t\t\tthis._source.off('preclick', stopPropagation);\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\r\n\tgetEvents: function () {\r\n\t\tvar events = DivOverlay.prototype.getEvents.call(this);\r\n\r\n\t\tif (this.options.closeOnClick !== undefined ? this.options.closeOnClick : this._map.options.closePopupOnClick) {\r\n\t\t\tevents.preclick = this._close;\r\n\t\t}\r\n\r\n\t\tif (this.options.keepInView) {\r\n\t\t\tevents.moveend = this._adjustPan;\r\n\t\t}\r\n\r\n\t\treturn events;\r\n\t},\r\n\r\n\t_close: function () {\r\n\t\tif (this._map) {\r\n\t\t\tthis._map.closePopup(this);\r\n\t\t}\r\n\t},\r\n\r\n\t_initLayout: function () {\r\n\t\tvar prefix = 'leaflet-popup',\r\n\t\t    container = this._container = create$1('div',\r\n\t\t\tprefix + ' ' + (this.options.className || '') +\r\n\t\t\t' leaflet-zoom-animated');\r\n\r\n\t\tvar wrapper = this._wrapper = create$1('div', prefix + '-content-wrapper', container);\r\n\t\tthis._contentNode = create$1('div', prefix + '-content', wrapper);\r\n\r\n\t\tdisableClickPropagation(container);\r\n\t\tdisableScrollPropagation(this._contentNode);\r\n\t\ton(container, 'contextmenu', stopPropagation);\r\n\r\n\t\tthis._tipContainer = create$1('div', prefix + '-tip-container', container);\r\n\t\tthis._tip = create$1('div', prefix + '-tip', this._tipContainer);\r\n\r\n\t\tif (this.options.closeButton) {\r\n\t\t\tvar closeButton = this._closeButton = create$1('a', prefix + '-close-button', container);\r\n\t\t\tcloseButton.href = '#close';\r\n\t\t\tcloseButton.innerHTML = '&#215;';\r\n\r\n\t\t\ton(closeButton, 'click', this._onCloseButtonClick, this);\r\n\t\t}\r\n\t},\r\n\r\n\t_updateLayout: function () {\r\n\t\tvar container = this._contentNode,\r\n\t\t    style = container.style;\r\n\r\n\t\tstyle.width = '';\r\n\t\tstyle.whiteSpace = 'nowrap';\r\n\r\n\t\tvar width = container.offsetWidth;\r\n\t\twidth = Math.min(width, this.options.maxWidth);\r\n\t\twidth = Math.max(width, this.options.minWidth);\r\n\r\n\t\tstyle.width = (width + 1) + 'px';\r\n\t\tstyle.whiteSpace = '';\r\n\r\n\t\tstyle.height = '';\r\n\r\n\t\tvar height = container.offsetHeight,\r\n\t\t    maxHeight = this.options.maxHeight,\r\n\t\t    scrolledClass = 'leaflet-popup-scrolled';\r\n\r\n\t\tif (maxHeight && height > maxHeight) {\r\n\t\t\tstyle.height = maxHeight + 'px';\r\n\t\t\taddClass(container, scrolledClass);\r\n\t\t} else {\r\n\t\t\tremoveClass(container, scrolledClass);\r\n\t\t}\r\n\r\n\t\tthis._containerWidth = this._container.offsetWidth;\r\n\t},\r\n\r\n\t_animateZoom: function (e) {\r\n\t\tvar pos = this._map._latLngToNewLayerPoint(this._latlng, e.zoom, e.center),\r\n\t\t    anchor = this._getAnchor();\r\n\t\tsetPosition(this._container, pos.add(anchor));\r\n\t},\r\n\r\n\t_adjustPan: function () {\r\n\t\tif (!this.options.autoPan) { return; }\r\n\t\tif (this._map._panAnim) { this._map._panAnim.stop(); }\r\n\r\n\t\tvar map = this._map,\r\n\t\t    marginBottom = parseInt(getStyle(this._container, 'marginBottom'), 10) || 0,\r\n\t\t    containerHeight = this._container.offsetHeight + marginBottom,\r\n\t\t    containerWidth = this._containerWidth,\r\n\t\t    layerPos = new Point(this._containerLeft, -containerHeight - this._containerBottom);\r\n\r\n\t\tlayerPos._add(getPosition(this._container));\r\n\r\n\t\tvar containerPos = map.layerPointToContainerPoint(layerPos),\r\n\t\t    padding = toPoint(this.options.autoPanPadding),\r\n\t\t    paddingTL = toPoint(this.options.autoPanPaddingTopLeft || padding),\r\n\t\t    paddingBR = toPoint(this.options.autoPanPaddingBottomRight || padding),\r\n\t\t    size = map.getSize(),\r\n\t\t    dx = 0,\r\n\t\t    dy = 0;\r\n\r\n\t\tif (containerPos.x + containerWidth + paddingBR.x > size.x) { // right\r\n\t\t\tdx = containerPos.x + containerWidth - size.x + paddingBR.x;\r\n\t\t}\r\n\t\tif (containerPos.x - dx - paddingTL.x < 0) { // left\r\n\t\t\tdx = containerPos.x - paddingTL.x;\r\n\t\t}\r\n\t\tif (containerPos.y + containerHeight + paddingBR.y > size.y) { // bottom\r\n\t\t\tdy = containerPos.y + containerHeight - size.y + paddingBR.y;\r\n\t\t}\r\n\t\tif (containerPos.y - dy - paddingTL.y < 0) { // top\r\n\t\t\tdy = containerPos.y - paddingTL.y;\r\n\t\t}\r\n\r\n\t\t// @namespace Map\r\n\t\t// @section Popup events\r\n\t\t// @event autopanstart: Event\r\n\t\t// Fired when the map starts autopanning when opening a popup.\r\n\t\tif (dx || dy) {\r\n\t\t\tmap\r\n\t\t\t    .fire('autopanstart')\r\n\t\t\t    .panBy([dx, dy]);\r\n\t\t}\r\n\t},\r\n\r\n\t_onCloseButtonClick: function (e) {\r\n\t\tthis._close();\r\n\t\tstop(e);\r\n\t},\r\n\r\n\t_getAnchor: function () {\r\n\t\t// Where should we anchor the popup on the source layer?\r\n\t\treturn toPoint(this._source && this._source._getPopupAnchor ? this._source._getPopupAnchor() : [0, 0]);\r\n\t}\r\n\r\n});\r\n\r\n\r\n/* @namespace Map\r\n * @section Interaction Options\r\n * @option closePopupOnClick: Boolean = true\r\n * Set it to `false` if you don't want popups to close when user clicks the map.\r\n */\r\nMap.mergeOptions({\r\n\tclosePopupOnClick: true\r\n});\r\n\r\n\r\n// @namespace Map\r\n// @section Methods for Layers and Controls\r\nMap.include({\r\n\t// @method openPopup(popup: Popup): this\r\n\t// Opens the specified popup while closing the previously opened (to make sure only one is opened at one time for usability).\r\n\t// @alternative\r\n\t// @method openPopup(content: String|HTMLElement, latlng: LatLng, options?: Popup options): this\r\n\t// Creates a popup with the specified content and options and opens it in the given point on a map.\r\n\topenPopup: function (popup, latlng, options) {\r\n\t\tif (!(popup instanceof Popup)) {\r\n\t\t\tpopup = new Popup(options).setContent(popup);\r\n\t\t}\r\n\r\n\t\tif (latlng) {\r\n\t\t\tpopup.setLatLng(latlng);\r\n\t\t}\r\n\r\n\t\tif (this.hasLayer(popup)) {\r\n\t\t\treturn this;\r\n\t\t}\r\n\r\n\t\tif (this._popup && this._popup.options.autoClose) {\r\n\t\t\tthis.closePopup();\r\n\t\t}\r\n\r\n\t\tthis._popup = popup;\r\n\t\treturn this.addLayer(popup);\r\n\t},\r\n\r\n\t// @method closePopup(popup?: Popup): this\r\n\t// Closes the popup previously opened with [openPopup](#map-openpopup) (or the given one).\r\n\tclosePopup: function (popup) {\r\n\t\tif (!popup || popup === this._popup) {\r\n\t\t\tpopup = this._popup;\r\n\t\t\tthis._popup = null;\r\n\t\t}\r\n\t\tif (popup) {\r\n\t\t\tthis.removeLayer(popup);\r\n\t\t}\r\n\t\treturn this;\r\n\t}\r\n});\r\n\r\n/*\r\n * @namespace Layer\r\n * @section Popup methods example\r\n *\r\n * All layers share a set of methods convenient for binding popups to it.\r\n *\r\n * ```js\r\n * var layer = L.Polygon(latlngs).bindPopup('Hi There!').addTo(map);\r\n * layer.openPopup();\r\n * layer.closePopup();\r\n * ```\r\n *\r\n * Popups will also be automatically opened when the layer is clicked on and closed when the layer is removed from the map or another popup is opened.\r\n */\r\n\r\n// @section Popup methods\r\nLayer.include({\r\n\r\n\t// @method bindPopup(content: String|HTMLElement|Function|Popup, options?: Popup options): this\r\n\t// Binds a popup to the layer with the passed `content` and sets up the\r\n\t// necessary event listeners. If a `Function` is passed it will receive\r\n\t// the layer as the first argument and should return a `String` or `HTMLElement`.\r\n\tbindPopup: function (content, options) {\r\n\r\n\t\tif (content instanceof Popup) {\r\n\t\t\tsetOptions(content, options);\r\n\t\t\tthis._popup = content;\r\n\t\t\tcontent._source = this;\r\n\t\t} else {\r\n\t\t\tif (!this._popup || options) {\r\n\t\t\t\tthis._popup = new Popup(options, this);\r\n\t\t\t}\r\n\t\t\tthis._popup.setContent(content);\r\n\t\t}\r\n\r\n\t\tif (!this._popupHandlersAdded) {\r\n\t\t\tthis.on({\r\n\t\t\t\tclick: this._openPopup,\r\n\t\t\t\tkeypress: this._onKeyPress,\r\n\t\t\t\tremove: this.closePopup,\r\n\t\t\t\tmove: this._movePopup\r\n\t\t\t});\r\n\t\t\tthis._popupHandlersAdded = true;\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\t},\r\n\r\n\t// @method unbindPopup(): this\r\n\t// Removes the popup previously bound with `bindPopup`.\r\n\tunbindPopup: function () {\r\n\t\tif (this._popup) {\r\n\t\t\tthis.off({\r\n\t\t\t\tclick: this._openPopup,\r\n\t\t\t\tkeypress: this._onKeyPress,\r\n\t\t\t\tremove: this.closePopup,\r\n\t\t\t\tmove: this._movePopup\r\n\t\t\t});\r\n\t\t\tthis._popupHandlersAdded = false;\r\n\t\t\tthis._popup = null;\r\n\t\t}\r\n\t\treturn this;\r\n\t},\r\n\r\n\t// @method openPopup(latlng?: LatLng): this\r\n\t// Opens the bound popup at the specified `latlng` or at the default popup anchor if no `latlng` is passed.\r\n\topenPopup: function (layer, latlng) {\r\n\t\tif (this._popup && this._map) {\r\n\t\t\tlatlng = this._popup._prepareOpen(this, layer, latlng);\r\n\r\n\t\t\t// open the popup on the map\r\n\t\t\tthis._map.openPopup(this._popup, latlng);\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\t},\r\n\r\n\t// @method closePopup(): this\r\n\t// Closes the popup bound to this layer if it is open.\r\n\tclosePopup: function () {\r\n\t\tif (this._popup) {\r\n\t\t\tthis._popup._close();\r\n\t\t}\r\n\t\treturn this;\r\n\t},\r\n\r\n\t// @method togglePopup(): this\r\n\t// Opens or closes the popup bound to this layer depending on its current state.\r\n\ttogglePopup: function (target) {\r\n\t\tif (this._popup) {\r\n\t\t\tif (this._popup._map) {\r\n\t\t\t\tthis.closePopup();\r\n\t\t\t} else {\r\n\t\t\t\tthis.openPopup(target);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn this;\r\n\t},\r\n\r\n\t// @method isPopupOpen(): boolean\r\n\t// Returns `true` if the popup bound to this layer is currently open.\r\n\tisPopupOpen: function () {\r\n\t\treturn (this._popup ? this._popup.isOpen() : false);\r\n\t},\r\n\r\n\t// @method setPopupContent(content: String|HTMLElement|Popup): this\r\n\t// Sets the content of the popup bound to this layer.\r\n\tsetPopupContent: function (content) {\r\n\t\tif (this._popup) {\r\n\t\t\tthis._popup.setContent(content);\r\n\t\t}\r\n\t\treturn this;\r\n\t},\r\n\r\n\t// @method getPopup(): Popup\r\n\t// Returns the popup bound to this layer.\r\n\tgetPopup: function () {\r\n\t\treturn this._popup;\r\n\t},\r\n\r\n\t_openPopup: function (e) {\r\n\t\tvar layer = e.layer || e.target;\r\n\r\n\t\tif (!this._popup) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif (!this._map) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\t// prevent map click\r\n\t\tstop(e);\r\n\r\n\t\t// if this inherits from Path its a vector and we can just\r\n\t\t// open the popup at the new location\r\n\t\tif (layer instanceof Path) {\r\n\t\t\tthis.openPopup(e.layer || e.target, e.latlng);\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\t// otherwise treat it like a marker and figure out\r\n\t\t// if we should toggle it open/closed\r\n\t\tif (this._map.hasLayer(this._popup) && this._popup._source === layer) {\r\n\t\t\tthis.closePopup();\r\n\t\t} else {\r\n\t\t\tthis.openPopup(layer, e.latlng);\r\n\t\t}\r\n\t},\r\n\r\n\t_movePopup: function (e) {\r\n\t\tthis._popup.setLatLng(e.latlng);\r\n\t},\r\n\r\n\t_onKeyPress: function (e) {\r\n\t\tif (e.originalEvent.keyCode === 13) {\r\n\t\t\tthis._openPopup(e);\r\n\t\t}\r\n\t}\r\n});\n\n/*\n * @class Tooltip\n * @inherits DivOverlay\n * @aka L.Tooltip\n * Used to display small texts on top of map layers.\n *\n * @example\n *\n * ```js\n * marker.bindTooltip(\"my tooltip text\").openTooltip();\n * ```\n * Note about tooltip offset. Leaflet takes two options in consideration\n * for computing tooltip offsetting:\n * - the `offset` Tooltip option: it defaults to [0, 0], and it's specific to one tooltip.\n *   Add a positive x offset to move the tooltip to the right, and a positive y offset to\n *   move it to the bottom. Negatives will move to the left and top.\n * - the `tooltipAnchor` Icon option: this will only be considered for Marker. You\n *   should adapt this value if you use a custom icon.\n */\n\n\n// @namespace Tooltip\nvar Tooltip = DivOverlay.extend({\n\n\t// @section\n\t// @aka Tooltip options\n\toptions: {\n\t\t// @option pane: String = 'tooltipPane'\n\t\t// `Map pane` where the tooltip will be added.\n\t\tpane: 'tooltipPane',\n\n\t\t// @option offset: Point = Point(0, 0)\n\t\t// Optional offset of the tooltip position.\n\t\toffset: [0, 0],\n\n\t\t// @option direction: String = 'auto'\n\t\t// Direction where to open the tooltip. Possible values are: `right`, `left`,\n\t\t// `top`, `bottom`, `center`, `auto`.\n\t\t// `auto` will dynamically switch between `right` and `left` according to the tooltip\n\t\t// position on the map.\n\t\tdirection: 'auto',\n\n\t\t// @option permanent: Boolean = false\n\t\t// Whether to open the tooltip permanently or only on mouseover.\n\t\tpermanent: false,\n\n\t\t// @option sticky: Boolean = false\n\t\t// If true, the tooltip will follow the mouse instead of being fixed at the feature center.\n\t\tsticky: false,\n\n\t\t// @option interactive: Boolean = false\n\t\t// If true, the tooltip will listen to the feature events.\n\t\tinteractive: false,\n\n\t\t// @option opacity: Number = 0.9\n\t\t// Tooltip container opacity.\n\t\topacity: 0.9\n\t},\n\n\tonAdd: function (map) {\n\t\tDivOverlay.prototype.onAdd.call(this, map);\n\t\tthis.setOpacity(this.options.opacity);\n\n\t\t// @namespace Map\n\t\t// @section Tooltip events\n\t\t// @event tooltipopen: TooltipEvent\n\t\t// Fired when a tooltip is opened in the map.\n\t\tmap.fire('tooltipopen', {tooltip: this});\n\n\t\tif (this._source) {\n\t\t\t// @namespace Layer\n\t\t\t// @section Tooltip events\n\t\t\t// @event tooltipopen: TooltipEvent\n\t\t\t// Fired when a tooltip bound to this layer is opened.\n\t\t\tthis._source.fire('tooltipopen', {tooltip: this}, true);\n\t\t}\n\t},\n\n\tonRemove: function (map) {\n\t\tDivOverlay.prototype.onRemove.call(this, map);\n\n\t\t// @namespace Map\n\t\t// @section Tooltip events\n\t\t// @event tooltipclose: TooltipEvent\n\t\t// Fired when a tooltip in the map is closed.\n\t\tmap.fire('tooltipclose', {tooltip: this});\n\n\t\tif (this._source) {\n\t\t\t// @namespace Layer\n\t\t\t// @section Tooltip events\n\t\t\t// @event tooltipclose: TooltipEvent\n\t\t\t// Fired when a tooltip bound to this layer is closed.\n\t\t\tthis._source.fire('tooltipclose', {tooltip: this}, true);\n\t\t}\n\t},\n\n\tgetEvents: function () {\n\t\tvar events = DivOverlay.prototype.getEvents.call(this);\n\n\t\tif (touch && !this.options.permanent) {\n\t\t\tevents.preclick = this._close;\n\t\t}\n\n\t\treturn events;\n\t},\n\n\t_close: function () {\n\t\tif (this._map) {\n\t\t\tthis._map.closeTooltip(this);\n\t\t}\n\t},\n\n\t_initLayout: function () {\n\t\tvar prefix = 'leaflet-tooltip',\n\t\t    className = prefix + ' ' + (this.options.className || '') + ' leaflet-zoom-' + (this._zoomAnimated ? 'animated' : 'hide');\n\n\t\tthis._contentNode = this._container = create$1('div', className);\n\t},\n\n\t_updateLayout: function () {},\n\n\t_adjustPan: function () {},\n\n\t_setPosition: function (pos) {\n\t\tvar subX, subY,\n\t\t    map = this._map,\n\t\t    container = this._container,\n\t\t    centerPoint = map.latLngToContainerPoint(map.getCenter()),\n\t\t    tooltipPoint = map.layerPointToContainerPoint(pos),\n\t\t    direction = this.options.direction,\n\t\t    tooltipWidth = container.offsetWidth,\n\t\t    tooltipHeight = container.offsetHeight,\n\t\t    offset = toPoint(this.options.offset),\n\t\t    anchor = this._getAnchor();\n\n\t\tif (direction === 'top') {\n\t\t\tsubX = tooltipWidth / 2;\n\t\t\tsubY = tooltipHeight;\n\t\t} else if (direction === 'bottom') {\n\t\t\tsubX = tooltipWidth / 2;\n\t\t\tsubY = 0;\n\t\t} else if (direction === 'center') {\n\t\t\tsubX = tooltipWidth / 2;\n\t\t\tsubY = tooltipHeight / 2;\n\t\t} else if (direction === 'right') {\n\t\t\tsubX = 0;\n\t\t\tsubY = tooltipHeight / 2;\n\t\t} else if (direction === 'left') {\n\t\t\tsubX = tooltipWidth;\n\t\t\tsubY = tooltipHeight / 2;\n\t\t} else if (tooltipPoint.x < centerPoint.x) {\n\t\t\tdirection = 'right';\n\t\t\tsubX = 0;\n\t\t\tsubY = tooltipHeight / 2;\n\t\t} else {\n\t\t\tdirection = 'left';\n\t\t\tsubX = tooltipWidth + (offset.x + anchor.x) * 2;\n\t\t\tsubY = tooltipHeight / 2;\n\t\t}\n\n\t\tpos = pos.subtract(toPoint(subX, subY, true)).add(offset).add(anchor);\n\n\t\tremoveClass(container, 'leaflet-tooltip-right');\n\t\tremoveClass(container, 'leaflet-tooltip-left');\n\t\tremoveClass(container, 'leaflet-tooltip-top');\n\t\tremoveClass(container, 'leaflet-tooltip-bottom');\n\t\taddClass(container, 'leaflet-tooltip-' + direction);\n\t\tsetPosition(container, pos);\n\t},\n\n\t_updatePosition: function () {\n\t\tvar pos = this._map.latLngToLayerPoint(this._latlng);\n\t\tthis._setPosition(pos);\n\t},\n\n\tsetOpacity: function (opacity) {\n\t\tthis.options.opacity = opacity;\n\n\t\tif (this._container) {\n\t\t\tsetOpacity(this._container, opacity);\n\t\t}\n\t},\n\n\t_animateZoom: function (e) {\n\t\tvar pos = this._map._latLngToNewLayerPoint(this._latlng, e.zoom, e.center);\n\t\tthis._setPosition(pos);\n\t},\n\n\t_getAnchor: function () {\n\t\t// Where should we anchor the tooltip on the source layer?\n\t\treturn toPoint(this._source && this._source._getTooltipAnchor && !this.options.sticky ? this._source._getTooltipAnchor() : [0, 0]);\n\t}\n\n});\n\n// @namespace Map\n// @section Methods for Layers and Controls\nMap.include({\n\n\t// @method openTooltip(tooltip: Tooltip): this\n\t// Opens the specified tooltip.\n\t// @alternative\n\t// @method openTooltip(content: String|HTMLElement, latlng: LatLng, options?: Tooltip options): this\n\t// Creates a tooltip with the specified content and options and open it.\n\topenTooltip: function (tooltip, latlng, options) {\n\t\tif (!(tooltip instanceof Tooltip)) {\n\t\t\ttooltip = new Tooltip(options).setContent(tooltip);\n\t\t}\n\n\t\tif (latlng) {\n\t\t\ttooltip.setLatLng(latlng);\n\t\t}\n\n\t\tif (this.hasLayer(tooltip)) {\n\t\t\treturn this;\n\t\t}\n\n\t\treturn this.addLayer(tooltip);\n\t},\n\n\t// @method closeTooltip(tooltip?: Tooltip): this\n\t// Closes the tooltip given as parameter.\n\tcloseTooltip: function (tooltip) {\n\t\tif (tooltip) {\n\t\t\tthis.removeLayer(tooltip);\n\t\t}\n\t\treturn this;\n\t}\n\n});\n\n/*\n * @namespace Layer\n * @section Tooltip methods example\n *\n * All layers share a set of methods convenient for binding tooltips to it.\n *\n * ```js\n * var layer = L.Polygon(latlngs).bindTooltip('Hi There!').addTo(map);\n * layer.openTooltip();\n * layer.closeTooltip();\n * ```\n */\n\n// @section Tooltip methods\nLayer.include({\n\n\t// @method bindTooltip(content: String|HTMLElement|Function|Tooltip, options?: Tooltip options): this\n\t// Binds a tooltip to the layer with the passed `content` and sets up the\n\t// necessary event listeners. If a `Function` is passed it will receive\n\t// the layer as the first argument and should return a `String` or `HTMLElement`.\n\tbindTooltip: function (content, options) {\n\n\t\tif (content instanceof Tooltip) {\n\t\t\tsetOptions(content, options);\n\t\t\tthis._tooltip = content;\n\t\t\tcontent._source = this;\n\t\t} else {\n\t\t\tif (!this._tooltip || options) {\n\t\t\t\tthis._tooltip = new Tooltip(options, this);\n\t\t\t}\n\t\t\tthis._tooltip.setContent(content);\n\n\t\t}\n\n\t\tthis._initTooltipInteractions();\n\n\t\tif (this._tooltip.options.permanent && this._map && this._map.hasLayer(this)) {\n\t\t\tthis.openTooltip();\n\t\t}\n\n\t\treturn this;\n\t},\n\n\t// @method unbindTooltip(): this\n\t// Removes the tooltip previously bound with `bindTooltip`.\n\tunbindTooltip: function () {\n\t\tif (this._tooltip) {\n\t\t\tthis._initTooltipInteractions(true);\n\t\t\tthis.closeTooltip();\n\t\t\tthis._tooltip = null;\n\t\t}\n\t\treturn this;\n\t},\n\n\t_initTooltipInteractions: function (remove$$1) {\n\t\tif (!remove$$1 && this._tooltipHandlersAdded) { return; }\n\t\tvar onOff = remove$$1 ? 'off' : 'on',\n\t\t    events = {\n\t\t\tremove: this.closeTooltip,\n\t\t\tmove: this._moveTooltip\n\t\t    };\n\t\tif (!this._tooltip.options.permanent) {\n\t\t\tevents.mouseover = this._openTooltip;\n\t\t\tevents.mouseout = this.closeTooltip;\n\t\t\tif (this._tooltip.options.sticky) {\n\t\t\t\tevents.mousemove = this._moveTooltip;\n\t\t\t}\n\t\t\tif (touch) {\n\t\t\t\tevents.click = this._openTooltip;\n\t\t\t}\n\t\t} else {\n\t\t\tevents.add = this._openTooltip;\n\t\t}\n\t\tthis[onOff](events);\n\t\tthis._tooltipHandlersAdded = !remove$$1;\n\t},\n\n\t// @method openTooltip(latlng?: LatLng): this\n\t// Opens the bound tooltip at the specified `latlng` or at the default tooltip anchor if no `latlng` is passed.\n\topenTooltip: function (layer, latlng) {\n\t\tif (this._tooltip && this._map) {\n\t\t\tlatlng = this._tooltip._prepareOpen(this, layer, latlng);\n\n\t\t\t// open the tooltip on the map\n\t\t\tthis._map.openTooltip(this._tooltip, latlng);\n\n\t\t\t// Tooltip container may not be defined if not permanent and never\n\t\t\t// opened.\n\t\t\tif (this._tooltip.options.interactive && this._tooltip._container) {\n\t\t\t\taddClass(this._tooltip._container, 'leaflet-clickable');\n\t\t\t\tthis.addInteractiveTarget(this._tooltip._container);\n\t\t\t}\n\t\t}\n\n\t\treturn this;\n\t},\n\n\t// @method closeTooltip(): this\n\t// Closes the tooltip bound to this layer if it is open.\n\tcloseTooltip: function () {\n\t\tif (this._tooltip) {\n\t\t\tthis._tooltip._close();\n\t\t\tif (this._tooltip.options.interactive && this._tooltip._container) {\n\t\t\t\tremoveClass(this._tooltip._container, 'leaflet-clickable');\n\t\t\t\tthis.removeInteractiveTarget(this._tooltip._container);\n\t\t\t}\n\t\t}\n\t\treturn this;\n\t},\n\n\t// @method toggleTooltip(): this\n\t// Opens or closes the tooltip bound to this layer depending on its current state.\n\ttoggleTooltip: function (target) {\n\t\tif (this._tooltip) {\n\t\t\tif (this._tooltip._map) {\n\t\t\t\tthis.closeTooltip();\n\t\t\t} else {\n\t\t\t\tthis.openTooltip(target);\n\t\t\t}\n\t\t}\n\t\treturn this;\n\t},\n\n\t// @method isTooltipOpen(): boolean\n\t// Returns `true` if the tooltip bound to this layer is currently open.\n\tisTooltipOpen: function () {\n\t\treturn this._tooltip.isOpen();\n\t},\n\n\t// @method setTooltipContent(content: String|HTMLElement|Tooltip): this\n\t// Sets the content of the tooltip bound to this layer.\n\tsetTooltipContent: function (content) {\n\t\tif (this._tooltip) {\n\t\t\tthis._tooltip.setContent(content);\n\t\t}\n\t\treturn this;\n\t},\n\n\t// @method getTooltip(): Tooltip\n\t// Returns the tooltip bound to this layer.\n\tgetTooltip: function () {\n\t\treturn this._tooltip;\n\t},\n\n\t_openTooltip: function (e) {\n\t\tvar layer = e.layer || e.target;\n\n\t\tif (!this._tooltip || !this._map) {\n\t\t\treturn;\n\t\t}\n\t\tthis.openTooltip(layer, this._tooltip.options.sticky ? e.latlng : undefined);\n\t},\n\n\t_moveTooltip: function (e) {\n\t\tvar latlng = e.latlng, containerPoint, layerPoint;\n\t\tif (this._tooltip.options.sticky && e.originalEvent) {\n\t\t\tcontainerPoint = this._map.mouseEventToContainerPoint(e.originalEvent);\n\t\t\tlayerPoint = this._map.containerPointToLayerPoint(containerPoint);\n\t\t\tlatlng = this._map.layerPointToLatLng(layerPoint);\n\t\t}\n\t\tthis._tooltip.setLatLng(latlng);\n\t}\n});\n\n/*\n * @class DivIcon\n * @aka L.DivIcon\n * @inherits Icon\n *\n * Represents a lightweight icon for markers that uses a simple `<div>`\n * element instead of an image. Inherits from `Icon` but ignores the `iconUrl` and shadow options.\n *\n * @example\n * ```js\n * var myIcon = L.divIcon({className: 'my-div-icon'});\n * // you can set .my-div-icon styles in CSS\n *\n * L.marker([50.505, 30.57], {icon: myIcon}).addTo(map);\n * ```\n *\n * By default, it has a 'leaflet-div-icon' CSS class and is styled as a little white square with a shadow.\n */\n\nvar DivIcon = Icon.extend({\n\toptions: {\n\t\t// @section\n\t\t// @aka DivIcon options\n\t\ticonSize: [12, 12], // also can be set through CSS\n\n\t\t// iconAnchor: (Point),\n\t\t// popupAnchor: (Point),\n\n\t\t// @option html: String|HTMLElement = ''\n\t\t// Custom HTML code to put inside the div element, empty by default. Alternatively,\n\t\t// an instance of `HTMLElement`.\n\t\thtml: false,\n\n\t\t// @option bgPos: Point = [0, 0]\n\t\t// Optional relative position of the background, in pixels\n\t\tbgPos: null,\n\n\t\tclassName: 'leaflet-div-icon'\n\t},\n\n\tcreateIcon: function (oldIcon) {\n\t\tvar div = (oldIcon && oldIcon.tagName === 'DIV') ? oldIcon : document.createElement('div'),\n\t\t    options = this.options;\n\n\t\tif (options.html instanceof Element) {\n\t\t\tempty(div);\n\t\t\tdiv.appendChild(options.html);\n\t\t} else {\n\t\t\tdiv.innerHTML = options.html !== false ? options.html : '';\n\t\t}\n\n\t\tif (options.bgPos) {\n\t\t\tvar bgPos = toPoint(options.bgPos);\n\t\t\tdiv.style.backgroundPosition = (-bgPos.x) + 'px ' + (-bgPos.y) + 'px';\n\t\t}\n\t\tthis._setIconStyles(div, 'icon');\n\n\t\treturn div;\n\t},\n\n\tcreateShadow: function () {\n\t\treturn null;\n\t}\n});\n\n// @factory L.divIcon(options: DivIcon options)\n// Creates a `DivIcon` instance with the given options.\nfunction divIcon(options) {\n\treturn new DivIcon(options);\n}\n\nIcon.Default = IconDefault;\n\n/*\n * @class GridLayer\n * @inherits Layer\n * @aka L.GridLayer\n *\n * Generic class for handling a tiled grid of HTML elements. This is the base class for all tile layers and replaces `TileLayer.Canvas`.\n * GridLayer can be extended to create a tiled grid of HTML elements like `<canvas>`, `<img>` or `<div>`. GridLayer will handle creating and animating these DOM elements for you.\n *\n *\n * @section Synchronous usage\n * @example\n *\n * To create a custom layer, extend GridLayer and implement the `createTile()` method, which will be passed a `Point` object with the `x`, `y`, and `z` (zoom level) coordinates to draw your tile.\n *\n * ```js\n * var CanvasLayer = L.GridLayer.extend({\n *     createTile: function(coords){\n *         // create a <canvas> element for drawing\n *         var tile = L.DomUtil.create('canvas', 'leaflet-tile');\n *\n *         // setup tile width and height according to the options\n *         var size = this.getTileSize();\n *         tile.width = size.x;\n *         tile.height = size.y;\n *\n *         // get a canvas context and draw something on it using coords.x, coords.y and coords.z\n *         var ctx = tile.getContext('2d');\n *\n *         // return the tile so it can be rendered on screen\n *         return tile;\n *     }\n * });\n * ```\n *\n * @section Asynchronous usage\n * @example\n *\n * Tile creation can also be asynchronous, this is useful when using a third-party drawing library. Once the tile is finished drawing it can be passed to the `done()` callback.\n *\n * ```js\n * var CanvasLayer = L.GridLayer.extend({\n *     createTile: function(coords, done){\n *         var error;\n *\n *         // create a <canvas> element for drawing\n *         var tile = L.DomUtil.create('canvas', 'leaflet-tile');\n *\n *         // setup tile width and height according to the options\n *         var size = this.getTileSize();\n *         tile.width = size.x;\n *         tile.height = size.y;\n *\n *         // draw something asynchronously and pass the tile to the done() callback\n *         setTimeout(function() {\n *             done(error, tile);\n *         }, 1000);\n *\n *         return tile;\n *     }\n * });\n * ```\n *\n * @section\n */\n\n\nvar GridLayer = Layer.extend({\n\n\t// @section\n\t// @aka GridLayer options\n\toptions: {\n\t\t// @option tileSize: Number|Point = 256\n\t\t// Width and height of tiles in the grid. Use a number if width and height are equal, or `L.point(width, height)` otherwise.\n\t\ttileSize: 256,\n\n\t\t// @option opacity: Number = 1.0\n\t\t// Opacity of the tiles. Can be used in the `createTile()` function.\n\t\topacity: 1,\n\n\t\t// @option updateWhenIdle: Boolean = (depends)\n\t\t// Load new tiles only when panning ends.\n\t\t// `true` by default on mobile browsers, in order to avoid too many requests and keep smooth navigation.\n\t\t// `false` otherwise in order to display new tiles _during_ panning, since it is easy to pan outside the\n\t\t// [`keepBuffer`](#gridlayer-keepbuffer) option in desktop browsers.\n\t\tupdateWhenIdle: mobile,\n\n\t\t// @option updateWhenZooming: Boolean = true\n\t\t// By default, a smooth zoom animation (during a [touch zoom](#map-touchzoom) or a [`flyTo()`](#map-flyto)) will update grid layers every integer zoom level. Setting this option to `false` will update the grid layer only when the smooth animation ends.\n\t\tupdateWhenZooming: true,\n\n\t\t// @option updateInterval: Number = 200\n\t\t// Tiles will not update more than once every `updateInterval` milliseconds when panning.\n\t\tupdateInterval: 200,\n\n\t\t// @option zIndex: Number = 1\n\t\t// The explicit zIndex of the tile layer.\n\t\tzIndex: 1,\n\n\t\t// @option bounds: LatLngBounds = undefined\n\t\t// If set, tiles will only be loaded inside the set `LatLngBounds`.\n\t\tbounds: null,\n\n\t\t// @option minZoom: Number = 0\n\t\t// The minimum zoom level down to which this layer will be displayed (inclusive).\n\t\tminZoom: 0,\n\n\t\t// @option maxZoom: Number = undefined\n\t\t// The maximum zoom level up to which this layer will be displayed (inclusive).\n\t\tmaxZoom: undefined,\n\n\t\t// @option maxNativeZoom: Number = undefined\n\t\t// Maximum zoom number the tile source has available. If it is specified,\n\t\t// the tiles on all zoom levels higher than `maxNativeZoom` will be loaded\n\t\t// from `maxNativeZoom` level and auto-scaled.\n\t\tmaxNativeZoom: undefined,\n\n\t\t// @option minNativeZoom: Number = undefined\n\t\t// Minimum zoom number the tile source has available. If it is specified,\n\t\t// the tiles on all zoom levels lower than `minNativeZoom` will be loaded\n\t\t// from `minNativeZoom` level and auto-scaled.\n\t\tminNativeZoom: undefined,\n\n\t\t// @option noWrap: Boolean = false\n\t\t// Whether the layer is wrapped around the antimeridian. If `true`, the\n\t\t// GridLayer will only be displayed once at low zoom levels. Has no\n\t\t// effect when the [map CRS](#map-crs) doesn't wrap around. Can be used\n\t\t// in combination with [`bounds`](#gridlayer-bounds) to prevent requesting\n\t\t// tiles outside the CRS limits.\n\t\tnoWrap: false,\n\n\t\t// @option pane: String = 'tilePane'\n\t\t// `Map pane` where the grid layer will be added.\n\t\tpane: 'tilePane',\n\n\t\t// @option className: String = ''\n\t\t// A custom class name to assign to the tile layer. Empty by default.\n\t\tclassName: '',\n\n\t\t// @option keepBuffer: Number = 2\n\t\t// When panning the map, keep this many rows and columns of tiles before unloading them.\n\t\tkeepBuffer: 2\n\t},\n\n\tinitialize: function (options) {\n\t\tsetOptions(this, options);\n\t},\n\n\tonAdd: function () {\n\t\tthis._initContainer();\n\n\t\tthis._levels = {};\n\t\tthis._tiles = {};\n\n\t\tthis._resetView();\n\t\tthis._update();\n\t},\n\n\tbeforeAdd: function (map) {\n\t\tmap._addZoomLimit(this);\n\t},\n\n\tonRemove: function (map) {\n\t\tthis._removeAllTiles();\n\t\tremove(this._container);\n\t\tmap._removeZoomLimit(this);\n\t\tthis._container = null;\n\t\tthis._tileZoom = undefined;\n\t},\n\n\t// @method bringToFront: this\n\t// Brings the tile layer to the top of all tile layers.\n\tbringToFront: function () {\n\t\tif (this._map) {\n\t\t\ttoFront(this._container);\n\t\t\tthis._setAutoZIndex(Math.max);\n\t\t}\n\t\treturn this;\n\t},\n\n\t// @method bringToBack: this\n\t// Brings the tile layer to the bottom of all tile layers.\n\tbringToBack: function () {\n\t\tif (this._map) {\n\t\t\ttoBack(this._container);\n\t\t\tthis._setAutoZIndex(Math.min);\n\t\t}\n\t\treturn this;\n\t},\n\n\t// @method getContainer: HTMLElement\n\t// Returns the HTML element that contains the tiles for this layer.\n\tgetContainer: function () {\n\t\treturn this._container;\n\t},\n\n\t// @method setOpacity(opacity: Number): this\n\t// Changes the [opacity](#gridlayer-opacity) of the grid layer.\n\tsetOpacity: function (opacity) {\n\t\tthis.options.opacity = opacity;\n\t\tthis._updateOpacity();\n\t\treturn this;\n\t},\n\n\t// @method setZIndex(zIndex: Number): this\n\t// Changes the [zIndex](#gridlayer-zindex) of the grid layer.\n\tsetZIndex: function (zIndex) {\n\t\tthis.options.zIndex = zIndex;\n\t\tthis._updateZIndex();\n\n\t\treturn this;\n\t},\n\n\t// @method isLoading: Boolean\n\t// Returns `true` if any tile in the grid layer has not finished loading.\n\tisLoading: function () {\n\t\treturn this._loading;\n\t},\n\n\t// @method redraw: this\n\t// Causes the layer to clear all the tiles and request them again.\n\tredraw: function () {\n\t\tif (this._map) {\n\t\t\tthis._removeAllTiles();\n\t\t\tthis._update();\n\t\t}\n\t\treturn this;\n\t},\n\n\tgetEvents: function () {\n\t\tvar events = {\n\t\t\tviewprereset: this._invalidateAll,\n\t\t\tviewreset: this._resetView,\n\t\t\tzoom: this._resetView,\n\t\t\tmoveend: this._onMoveEnd\n\t\t};\n\n\t\tif (!this.options.updateWhenIdle) {\n\t\t\t// update tiles on move, but not more often than once per given interval\n\t\t\tif (!this._onMove) {\n\t\t\t\tthis._onMove = throttle(this._onMoveEnd, this.options.updateInterval, this);\n\t\t\t}\n\n\t\t\tevents.move = this._onMove;\n\t\t}\n\n\t\tif (this._zoomAnimated) {\n\t\t\tevents.zoomanim = this._animateZoom;\n\t\t}\n\n\t\treturn events;\n\t},\n\n\t// @section Extension methods\n\t// Layers extending `GridLayer` shall reimplement the following method.\n\t// @method createTile(coords: Object, done?: Function): HTMLElement\n\t// Called only internally, must be overridden by classes extending `GridLayer`.\n\t// Returns the `HTMLElement` corresponding to the given `coords`. If the `done` callback\n\t// is specified, it must be called when the tile has finished loading and drawing.\n\tcreateTile: function () {\n\t\treturn document.createElement('div');\n\t},\n\n\t// @section\n\t// @method getTileSize: Point\n\t// Normalizes the [tileSize option](#gridlayer-tilesize) into a point. Used by the `createTile()` method.\n\tgetTileSize: function () {\n\t\tvar s = this.options.tileSize;\n\t\treturn s instanceof Point ? s : new Point(s, s);\n\t},\n\n\t_updateZIndex: function () {\n\t\tif (this._container && this.options.zIndex !== undefined && this.options.zIndex !== null) {\n\t\t\tthis._container.style.zIndex = this.options.zIndex;\n\t\t}\n\t},\n\n\t_setAutoZIndex: function (compare) {\n\t\t// go through all other layers of the same pane, set zIndex to max + 1 (front) or min - 1 (back)\n\n\t\tvar layers = this.getPane().children,\n\t\t    edgeZIndex = -compare(-Infinity, Infinity); // -Infinity for max, Infinity for min\n\n\t\tfor (var i = 0, len = layers.length, zIndex; i < len; i++) {\n\n\t\t\tzIndex = layers[i].style.zIndex;\n\n\t\t\tif (layers[i] !== this._container && zIndex) {\n\t\t\t\tedgeZIndex = compare(edgeZIndex, +zIndex);\n\t\t\t}\n\t\t}\n\n\t\tif (isFinite(edgeZIndex)) {\n\t\t\tthis.options.zIndex = edgeZIndex + compare(-1, 1);\n\t\t\tthis._updateZIndex();\n\t\t}\n\t},\n\n\t_updateOpacity: function () {\n\t\tif (!this._map) { return; }\n\n\t\t// IE doesn't inherit filter opacity properly, so we're forced to set it on tiles\n\t\tif (ielt9) { return; }\n\n\t\tsetOpacity(this._container, this.options.opacity);\n\n\t\tvar now = +new Date(),\n\t\t    nextFrame = false,\n\t\t    willPrune = false;\n\n\t\tfor (var key in this._tiles) {\n\t\t\tvar tile = this._tiles[key];\n\t\t\tif (!tile.current || !tile.loaded) { continue; }\n\n\t\t\tvar fade = Math.min(1, (now - tile.loaded) / 200);\n\n\t\t\tsetOpacity(tile.el, fade);\n\t\t\tif (fade < 1) {\n\t\t\t\tnextFrame = true;\n\t\t\t} else {\n\t\t\t\tif (tile.active) {\n\t\t\t\t\twillPrune = true;\n\t\t\t\t} else {\n\t\t\t\t\tthis._onOpaqueTile(tile);\n\t\t\t\t}\n\t\t\t\ttile.active = true;\n\t\t\t}\n\t\t}\n\n\t\tif (willPrune && !this._noPrune) { this._pruneTiles(); }\n\n\t\tif (nextFrame) {\n\t\t\tcancelAnimFrame(this._fadeFrame);\n\t\t\tthis._fadeFrame = requestAnimFrame(this._updateOpacity, this);\n\t\t}\n\t},\n\n\t_onOpaqueTile: falseFn,\n\n\t_initContainer: function () {\n\t\tif (this._container) { return; }\n\n\t\tthis._container = create$1('div', 'leaflet-layer ' + (this.options.className || ''));\n\t\tthis._updateZIndex();\n\n\t\tif (this.options.opacity < 1) {\n\t\t\tthis._updateOpacity();\n\t\t}\n\n\t\tthis.getPane().appendChild(this._container);\n\t},\n\n\t_updateLevels: function () {\n\n\t\tvar zoom = this._tileZoom,\n\t\t    maxZoom = this.options.maxZoom;\n\n\t\tif (zoom === undefined) { return undefined; }\n\n\t\tfor (var z in this._levels) {\n\t\t\tz = Number(z);\n\t\t\tif (this._levels[z].el.children.length || z === zoom) {\n\t\t\t\tthis._levels[z].el.style.zIndex = maxZoom - Math.abs(zoom - z);\n\t\t\t\tthis._onUpdateLevel(z);\n\t\t\t} else {\n\t\t\t\tremove(this._levels[z].el);\n\t\t\t\tthis._removeTilesAtZoom(z);\n\t\t\t\tthis._onRemoveLevel(z);\n\t\t\t\tdelete this._levels[z];\n\t\t\t}\n\t\t}\n\n\t\tvar level = this._levels[zoom],\n\t\t    map = this._map;\n\n\t\tif (!level) {\n\t\t\tlevel = this._levels[zoom] = {};\n\n\t\t\tlevel.el = create$1('div', 'leaflet-tile-container leaflet-zoom-animated', this._container);\n\t\t\tlevel.el.style.zIndex = maxZoom;\n\n\t\t\tlevel.origin = map.project(map.unproject(map.getPixelOrigin()), zoom).round();\n\t\t\tlevel.zoom = zoom;\n\n\t\t\tthis._setZoomTransform(level, map.getCenter(), map.getZoom());\n\n\t\t\tthis._onCreateLevel(level);\n\t\t}\n\n\t\tthis._level = level;\n\n\t\treturn level;\n\t},\n\n\t_onUpdateLevel: falseFn,\n\n\t_onRemoveLevel: falseFn,\n\n\t_onCreateLevel: falseFn,\n\n\t_pruneTiles: function () {\n\t\tif (!this._map) {\n\t\t\treturn;\n\t\t}\n\n\t\tvar key, tile;\n\n\t\tvar zoom = this._map.getZoom();\n\t\tif (zoom > this.options.maxZoom ||\n\t\t\tzoom < this.options.minZoom) {\n\t\t\tthis._removeAllTiles();\n\t\t\treturn;\n\t\t}\n\n\t\tfor (key in this._tiles) {\n\t\t\ttile = this._tiles[key];\n\t\t\ttile.retain = tile.current;\n\t\t}\n\n\t\tfor (key in this._tiles) {\n\t\t\ttile = this._tiles[key];\n\t\t\tif (tile.current && !tile.active) {\n\t\t\t\tvar coords = tile.coords;\n\t\t\t\tif (!this._retainParent(coords.x, coords.y, coords.z, coords.z - 5)) {\n\t\t\t\t\tthis._retainChildren(coords.x, coords.y, coords.z, coords.z + 2);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tfor (key in this._tiles) {\n\t\t\tif (!this._tiles[key].retain) {\n\t\t\t\tthis._removeTile(key);\n\t\t\t}\n\t\t}\n\t},\n\n\t_removeTilesAtZoom: function (zoom) {\n\t\tfor (var key in this._tiles) {\n\t\t\tif (this._tiles[key].coords.z !== zoom) {\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tthis._removeTile(key);\n\t\t}\n\t},\n\n\t_removeAllTiles: function () {\n\t\tfor (var key in this._tiles) {\n\t\t\tthis._removeTile(key);\n\t\t}\n\t},\n\n\t_invalidateAll: function () {\n\t\tfor (var z in this._levels) {\n\t\t\tremove(this._levels[z].el);\n\t\t\tthis._onRemoveLevel(Number(z));\n\t\t\tdelete this._levels[z];\n\t\t}\n\t\tthis._removeAllTiles();\n\n\t\tthis._tileZoom = undefined;\n\t},\n\n\t_retainParent: function (x, y, z, minZoom) {\n\t\tvar x2 = Math.floor(x / 2),\n\t\t    y2 = Math.floor(y / 2),\n\t\t    z2 = z - 1,\n\t\t    coords2 = new Point(+x2, +y2);\n\t\tcoords2.z = +z2;\n\n\t\tvar key = this._tileCoordsToKey(coords2),\n\t\t    tile = this._tiles[key];\n\n\t\tif (tile && tile.active) {\n\t\t\ttile.retain = true;\n\t\t\treturn true;\n\n\t\t} else if (tile && tile.loaded) {\n\t\t\ttile.retain = true;\n\t\t}\n\n\t\tif (z2 > minZoom) {\n\t\t\treturn this._retainParent(x2, y2, z2, minZoom);\n\t\t}\n\n\t\treturn false;\n\t},\n\n\t_retainChildren: function (x, y, z, maxZoom) {\n\n\t\tfor (var i = 2 * x; i < 2 * x + 2; i++) {\n\t\t\tfor (var j = 2 * y; j < 2 * y + 2; j++) {\n\n\t\t\t\tvar coords = new Point(i, j);\n\t\t\t\tcoords.z = z + 1;\n\n\t\t\t\tvar key = this._tileCoordsToKey(coords),\n\t\t\t\t    tile = this._tiles[key];\n\n\t\t\t\tif (tile && tile.active) {\n\t\t\t\t\ttile.retain = true;\n\t\t\t\t\tcontinue;\n\n\t\t\t\t} else if (tile && tile.loaded) {\n\t\t\t\t\ttile.retain = true;\n\t\t\t\t}\n\n\t\t\t\tif (z + 1 < maxZoom) {\n\t\t\t\t\tthis._retainChildren(i, j, z + 1, maxZoom);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\n\t_resetView: function (e) {\n\t\tvar animating = e && (e.pinch || e.flyTo);\n\t\tthis._setView(this._map.getCenter(), this._map.getZoom(), animating, animating);\n\t},\n\n\t_animateZoom: function (e) {\n\t\tthis._setView(e.center, e.zoom, true, e.noUpdate);\n\t},\n\n\t_clampZoom: function (zoom) {\n\t\tvar options = this.options;\n\n\t\tif (undefined !== options.minNativeZoom && zoom < options.minNativeZoom) {\n\t\t\treturn options.minNativeZoom;\n\t\t}\n\n\t\tif (undefined !== options.maxNativeZoom && options.maxNativeZoom < zoom) {\n\t\t\treturn options.maxNativeZoom;\n\t\t}\n\n\t\treturn zoom;\n\t},\n\n\t_setView: function (center, zoom, noPrune, noUpdate) {\n\t\tvar tileZoom = Math.round(zoom);\n\t\tif ((this.options.maxZoom !== undefined && tileZoom > this.options.maxZoom) ||\n\t\t    (this.options.minZoom !== undefined && tileZoom < this.options.minZoom)) {\n\t\t\ttileZoom = undefined;\n\t\t} else {\n\t\t\ttileZoom = this._clampZoom(tileZoom);\n\t\t}\n\n\t\tvar tileZoomChanged = this.options.updateWhenZooming && (tileZoom !== this._tileZoom);\n\n\t\tif (!noUpdate || tileZoomChanged) {\n\n\t\t\tthis._tileZoom = tileZoom;\n\n\t\t\tif (this._abortLoading) {\n\t\t\t\tthis._abortLoading();\n\t\t\t}\n\n\t\t\tthis._updateLevels();\n\t\t\tthis._resetGrid();\n\n\t\t\tif (tileZoom !== undefined) {\n\t\t\t\tthis._update(center);\n\t\t\t}\n\n\t\t\tif (!noPrune) {\n\t\t\t\tthis._pruneTiles();\n\t\t\t}\n\n\t\t\t// Flag to prevent _updateOpacity from pruning tiles during\n\t\t\t// a zoom anim or a pinch gesture\n\t\t\tthis._noPrune = !!noPrune;\n\t\t}\n\n\t\tthis._setZoomTransforms(center, zoom);\n\t},\n\n\t_setZoomTransforms: function (center, zoom) {\n\t\tfor (var i in this._levels) {\n\t\t\tthis._setZoomTransform(this._levels[i], center, zoom);\n\t\t}\n\t},\n\n\t_setZoomTransform: function (level, center, zoom) {\n\t\tvar scale = this._map.getZoomScale(zoom, level.zoom),\n\t\t    translate = level.origin.multiplyBy(scale)\n\t\t        .subtract(this._map._getNewPixelOrigin(center, zoom)).round();\n\n\t\tif (any3d) {\n\t\t\tsetTransform(level.el, translate, scale);\n\t\t} else {\n\t\t\tsetPosition(level.el, translate);\n\t\t}\n\t},\n\n\t_resetGrid: function () {\n\t\tvar map = this._map,\n\t\t    crs = map.options.crs,\n\t\t    tileSize = this._tileSize = this.getTileSize(),\n\t\t    tileZoom = this._tileZoom;\n\n\t\tvar bounds = this._map.getPixelWorldBounds(this._tileZoom);\n\t\tif (bounds) {\n\t\t\tthis._globalTileRange = this._pxBoundsToTileRange(bounds);\n\t\t}\n\n\t\tthis._wrapX = crs.wrapLng && !this.options.noWrap && [\n\t\t\tMath.floor(map.project([0, crs.wrapLng[0]], tileZoom).x / tileSize.x),\n\t\t\tMath.ceil(map.project([0, crs.wrapLng[1]], tileZoom).x / tileSize.y)\n\t\t];\n\t\tthis._wrapY = crs.wrapLat && !this.options.noWrap && [\n\t\t\tMath.floor(map.project([crs.wrapLat[0], 0], tileZoom).y / tileSize.x),\n\t\t\tMath.ceil(map.project([crs.wrapLat[1], 0], tileZoom).y / tileSize.y)\n\t\t];\n\t},\n\n\t_onMoveEnd: function () {\n\t\tif (!this._map || this._map._animatingZoom) { return; }\n\n\t\tthis._update();\n\t},\n\n\t_getTiledPixelBounds: function (center) {\n\t\tvar map = this._map,\n\t\t    mapZoom = map._animatingZoom ? Math.max(map._animateToZoom, map.getZoom()) : map.getZoom(),\n\t\t    scale = map.getZoomScale(mapZoom, this._tileZoom),\n\t\t    pixelCenter = map.project(center, this._tileZoom).floor(),\n\t\t    halfSize = map.getSize().divideBy(scale * 2);\n\n\t\treturn new Bounds(pixelCenter.subtract(halfSize), pixelCenter.add(halfSize));\n\t},\n\n\t// Private method to load tiles in the grid's active zoom level according to map bounds\n\t_update: function (center) {\n\t\tvar map = this._map;\n\t\tif (!map) { return; }\n\t\tvar zoom = this._clampZoom(map.getZoom());\n\n\t\tif (center === undefined) { center = map.getCenter(); }\n\t\tif (this._tileZoom === undefined) { return; }\t// if out of minzoom/maxzoom\n\n\t\tvar pixelBounds = this._getTiledPixelBounds(center),\n\t\t    tileRange = this._pxBoundsToTileRange(pixelBounds),\n\t\t    tileCenter = tileRange.getCenter(),\n\t\t    queue = [],\n\t\t    margin = this.options.keepBuffer,\n\t\t    noPruneRange = new Bounds(tileRange.getBottomLeft().subtract([margin, -margin]),\n\t\t                              tileRange.getTopRight().add([margin, -margin]));\n\n\t\t// Sanity check: panic if the tile range contains Infinity somewhere.\n\t\tif (!(isFinite(tileRange.min.x) &&\n\t\t      isFinite(tileRange.min.y) &&\n\t\t      isFinite(tileRange.max.x) &&\n\t\t      isFinite(tileRange.max.y))) { throw new Error('Attempted to load an infinite number of tiles'); }\n\n\t\tfor (var key in this._tiles) {\n\t\t\tvar c = this._tiles[key].coords;\n\t\t\tif (c.z !== this._tileZoom || !noPruneRange.contains(new Point(c.x, c.y))) {\n\t\t\t\tthis._tiles[key].current = false;\n\t\t\t}\n\t\t}\n\n\t\t// _update just loads more tiles. If the tile zoom level differs too much\n\t\t// from the map's, let _setView reset levels and prune old tiles.\n\t\tif (Math.abs(zoom - this._tileZoom) > 1) { this._setView(center, zoom); return; }\n\n\t\t// create a queue of coordinates to load tiles from\n\t\tfor (var j = tileRange.min.y; j <= tileRange.max.y; j++) {\n\t\t\tfor (var i = tileRange.min.x; i <= tileRange.max.x; i++) {\n\t\t\t\tvar coords = new Point(i, j);\n\t\t\t\tcoords.z = this._tileZoom;\n\n\t\t\t\tif (!this._isValidTile(coords)) { continue; }\n\n\t\t\t\tvar tile = this._tiles[this._tileCoordsToKey(coords)];\n\t\t\t\tif (tile) {\n\t\t\t\t\ttile.current = true;\n\t\t\t\t} else {\n\t\t\t\t\tqueue.push(coords);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// sort tile queue to load tiles in order of their distance to center\n\t\tqueue.sort(function (a, b) {\n\t\t\treturn a.distanceTo(tileCenter) - b.distanceTo(tileCenter);\n\t\t});\n\n\t\tif (queue.length !== 0) {\n\t\t\t// if it's the first batch of tiles to load\n\t\t\tif (!this._loading) {\n\t\t\t\tthis._loading = true;\n\t\t\t\t// @event loading: Event\n\t\t\t\t// Fired when the grid layer starts loading tiles.\n\t\t\t\tthis.fire('loading');\n\t\t\t}\n\n\t\t\t// create DOM fragment to append tiles in one batch\n\t\t\tvar fragment = document.createDocumentFragment();\n\n\t\t\tfor (i = 0; i < queue.length; i++) {\n\t\t\t\tthis._addTile(queue[i], fragment);\n\t\t\t}\n\n\t\t\tthis._level.el.appendChild(fragment);\n\t\t}\n\t},\n\n\t_isValidTile: function (coords) {\n\t\tvar crs = this._map.options.crs;\n\n\t\tif (!crs.infinite) {\n\t\t\t// don't load tile if it's out of bounds and not wrapped\n\t\t\tvar bounds = this._globalTileRange;\n\t\t\tif ((!crs.wrapLng && (coords.x < bounds.min.x || coords.x > bounds.max.x)) ||\n\t\t\t    (!crs.wrapLat && (coords.y < bounds.min.y || coords.y > bounds.max.y))) { return false; }\n\t\t}\n\n\t\tif (!this.options.bounds) { return true; }\n\n\t\t// don't load tile if it doesn't intersect the bounds in options\n\t\tvar tileBounds = this._tileCoordsToBounds(coords);\n\t\treturn toLatLngBounds(this.options.bounds).overlaps(tileBounds);\n\t},\n\n\t_keyToBounds: function (key) {\n\t\treturn this._tileCoordsToBounds(this._keyToTileCoords(key));\n\t},\n\n\t_tileCoordsToNwSe: function (coords) {\n\t\tvar map = this._map,\n\t\t    tileSize = this.getTileSize(),\n\t\t    nwPoint = coords.scaleBy(tileSize),\n\t\t    sePoint = nwPoint.add(tileSize),\n\t\t    nw = map.unproject(nwPoint, coords.z),\n\t\t    se = map.unproject(sePoint, coords.z);\n\t\treturn [nw, se];\n\t},\n\n\t// converts tile coordinates to its geographical bounds\n\t_tileCoordsToBounds: function (coords) {\n\t\tvar bp = this._tileCoordsToNwSe(coords),\n\t\t    bounds = new LatLngBounds(bp[0], bp[1]);\n\n\t\tif (!this.options.noWrap) {\n\t\t\tbounds = this._map.wrapLatLngBounds(bounds);\n\t\t}\n\t\treturn bounds;\n\t},\n\t// converts tile coordinates to key for the tile cache\n\t_tileCoordsToKey: function (coords) {\n\t\treturn coords.x + ':' + coords.y + ':' + coords.z;\n\t},\n\n\t// converts tile cache key to coordinates\n\t_keyToTileCoords: function (key) {\n\t\tvar k = key.split(':'),\n\t\t    coords = new Point(+k[0], +k[1]);\n\t\tcoords.z = +k[2];\n\t\treturn coords;\n\t},\n\n\t_removeTile: function (key) {\n\t\tvar tile = this._tiles[key];\n\t\tif (!tile) { return; }\n\n\t\tremove(tile.el);\n\n\t\tdelete this._tiles[key];\n\n\t\t// @event tileunload: TileEvent\n\t\t// Fired when a tile is removed (e.g. when a tile goes off the screen).\n\t\tthis.fire('tileunload', {\n\t\t\ttile: tile.el,\n\t\t\tcoords: this._keyToTileCoords(key)\n\t\t});\n\t},\n\n\t_initTile: function (tile) {\n\t\taddClass(tile, 'leaflet-tile');\n\n\t\tvar tileSize = this.getTileSize();\n\t\ttile.style.width = tileSize.x + 'px';\n\t\ttile.style.height = tileSize.y + 'px';\n\n\t\ttile.onselectstart = falseFn;\n\t\ttile.onmousemove = falseFn;\n\n\t\t// update opacity on tiles in IE7-8 because of filter inheritance problems\n\t\tif (ielt9 && this.options.opacity < 1) {\n\t\t\tsetOpacity(tile, this.options.opacity);\n\t\t}\n\n\t\t// without this hack, tiles disappear after zoom on Chrome for Android\n\t\t// https://github.com/Leaflet/Leaflet/issues/2078\n\t\tif (android && !android23) {\n\t\t\ttile.style.WebkitBackfaceVisibility = 'hidden';\n\t\t}\n\t},\n\n\t_addTile: function (coords, container) {\n\t\tvar tilePos = this._getTilePos(coords),\n\t\t    key = this._tileCoordsToKey(coords);\n\n\t\tvar tile = this.createTile(this._wrapCoords(coords), bind(this._tileReady, this, coords));\n\n\t\tthis._initTile(tile);\n\n\t\t// if createTile is defined with a second argument (\"done\" callback),\n\t\t// we know that tile is async and will be ready later; otherwise\n\t\tif (this.createTile.length < 2) {\n\t\t\t// mark tile as ready, but delay one frame for opacity animation to happen\n\t\t\trequestAnimFrame(bind(this._tileReady, this, coords, null, tile));\n\t\t}\n\n\t\tsetPosition(tile, tilePos);\n\n\t\t// save tile in cache\n\t\tthis._tiles[key] = {\n\t\t\tel: tile,\n\t\t\tcoords: coords,\n\t\t\tcurrent: true\n\t\t};\n\n\t\tcontainer.appendChild(tile);\n\t\t// @event tileloadstart: TileEvent\n\t\t// Fired when a tile is requested and starts loading.\n\t\tthis.fire('tileloadstart', {\n\t\t\ttile: tile,\n\t\t\tcoords: coords\n\t\t});\n\t},\n\n\t_tileReady: function (coords, err, tile) {\n\t\tif (err) {\n\t\t\t// @event tileerror: TileErrorEvent\n\t\t\t// Fired when there is an error loading a tile.\n\t\t\tthis.fire('tileerror', {\n\t\t\t\terror: err,\n\t\t\t\ttile: tile,\n\t\t\t\tcoords: coords\n\t\t\t});\n\t\t}\n\n\t\tvar key = this._tileCoordsToKey(coords);\n\n\t\ttile = this._tiles[key];\n\t\tif (!tile) { return; }\n\n\t\ttile.loaded = +new Date();\n\t\tif (this._map._fadeAnimated) {\n\t\t\tsetOpacity(tile.el, 0);\n\t\t\tcancelAnimFrame(this._fadeFrame);\n\t\t\tthis._fadeFrame = requestAnimFrame(this._updateOpacity, this);\n\t\t} else {\n\t\t\ttile.active = true;\n\t\t\tthis._pruneTiles();\n\t\t}\n\n\t\tif (!err) {\n\t\t\taddClass(tile.el, 'leaflet-tile-loaded');\n\n\t\t\t// @event tileload: TileEvent\n\t\t\t// Fired when a tile loads.\n\t\t\tthis.fire('tileload', {\n\t\t\t\ttile: tile.el,\n\t\t\t\tcoords: coords\n\t\t\t});\n\t\t}\n\n\t\tif (this._noTilesToLoad()) {\n\t\t\tthis._loading = false;\n\t\t\t// @event load: Event\n\t\t\t// Fired when the grid layer loaded all visible tiles.\n\t\t\tthis.fire('load');\n\n\t\t\tif (ielt9 || !this._map._fadeAnimated) {\n\t\t\t\trequestAnimFrame(this._pruneTiles, this);\n\t\t\t} else {\n\t\t\t\t// Wait a bit more than 0.2 secs (the duration of the tile fade-in)\n\t\t\t\t// to trigger a pruning.\n\t\t\t\tsetTimeout(bind(this._pruneTiles, this), 250);\n\t\t\t}\n\t\t}\n\t},\n\n\t_getTilePos: function (coords) {\n\t\treturn coords.scaleBy(this.getTileSize()).subtract(this._level.origin);\n\t},\n\n\t_wrapCoords: function (coords) {\n\t\tvar newCoords = new Point(\n\t\t\tthis._wrapX ? wrapNum(coords.x, this._wrapX) : coords.x,\n\t\t\tthis._wrapY ? wrapNum(coords.y, this._wrapY) : coords.y);\n\t\tnewCoords.z = coords.z;\n\t\treturn newCoords;\n\t},\n\n\t_pxBoundsToTileRange: function (bounds) {\n\t\tvar tileSize = this.getTileSize();\n\t\treturn new Bounds(\n\t\t\tbounds.min.unscaleBy(tileSize).floor(),\n\t\t\tbounds.max.unscaleBy(tileSize).ceil().subtract([1, 1]));\n\t},\n\n\t_noTilesToLoad: function () {\n\t\tfor (var key in this._tiles) {\n\t\t\tif (!this._tiles[key].loaded) { return false; }\n\t\t}\n\t\treturn true;\n\t}\n});\n\n/*\r\n * @class TileLayer\r\n * @inherits GridLayer\r\n * @aka L.TileLayer\r\n * Used to load and display tile layers on the map. Note that most tile servers require attribution, which you can set under `Layer`. Extends `GridLayer`.\r\n *\r\n * @example\r\n *\r\n * ```js\r\n * L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png?{foo}', {foo: 'bar', attribution: 'Map data &copy; <a href=\"https://www.openstreetmap.org/\">OpenStreetMap</a> contributors, <a href=\"https://creativecommons.org/licenses/by-sa/2.0/\">CC-BY-SA</a>'}).addTo(map);\r\n * ```\r\n *\r\n * @section URL template\r\n * @example\r\n *\r\n * A string of the following form:\r\n *\r\n * ```\r\n * 'http://{s}.somedomain.com/blabla/{z}/{x}/{y}{r}.png'\r\n * ```\r\n *\r\n * `{s}` means one of the available subdomains (used sequentially to help with browser parallel requests per domain limitation; subdomain values are specified in options; `a`, `b` or `c` by default, can be omitted), `{z}`  zoom level, `{x}` and `{y}`  tile coordinates. `{r}` can be used to add \"&commat;2x\" to the URL to load retina tiles.\r\n *\r\n * You can use custom keys in the template, which will be [evaluated](#util-template) from TileLayer options, like this:\r\n *\r\n * ```\r\n * L.tileLayer('http://{s}.somedomain.com/{foo}/{z}/{x}/{y}.png', {foo: 'bar'});\r\n * ```\r\n */\r\n\r\n\r\nvar TileLayer = GridLayer.extend({\r\n\r\n\t// @section\r\n\t// @aka TileLayer options\r\n\toptions: {\r\n\t\t// @option minZoom: Number = 0\r\n\t\t// The minimum zoom level down to which this layer will be displayed (inclusive).\r\n\t\tminZoom: 0,\r\n\r\n\t\t// @option maxZoom: Number = 18\r\n\t\t// The maximum zoom level up to which this layer will be displayed (inclusive).\r\n\t\tmaxZoom: 18,\r\n\r\n\t\t// @option subdomains: String|String[] = 'abc'\r\n\t\t// Subdomains of the tile service. Can be passed in the form of one string (where each letter is a subdomain name) or an array of strings.\r\n\t\tsubdomains: 'abc',\r\n\r\n\t\t// @option errorTileUrl: String = ''\r\n\t\t// URL to the tile image to show in place of the tile that failed to load.\r\n\t\terrorTileUrl: '',\r\n\r\n\t\t// @option zoomOffset: Number = 0\r\n\t\t// The zoom number used in tile URLs will be offset with this value.\r\n\t\tzoomOffset: 0,\r\n\r\n\t\t// @option tms: Boolean = false\r\n\t\t// If `true`, inverses Y axis numbering for tiles (turn this on for [TMS](https://en.wikipedia.org/wiki/Tile_Map_Service) services).\r\n\t\ttms: false,\r\n\r\n\t\t// @option zoomReverse: Boolean = false\r\n\t\t// If set to true, the zoom number used in tile URLs will be reversed (`maxZoom - zoom` instead of `zoom`)\r\n\t\tzoomReverse: false,\r\n\r\n\t\t// @option detectRetina: Boolean = false\r\n\t\t// If `true` and user is on a retina display, it will request four tiles of half the specified size and a bigger zoom level in place of one to utilize the high resolution.\r\n\t\tdetectRetina: false,\r\n\r\n\t\t// @option crossOrigin: Boolean|String = false\r\n\t\t// Whether the crossOrigin attribute will be added to the tiles.\r\n\t\t// If a String is provided, all tiles will have their crossOrigin attribute set to the String provided. This is needed if you want to access tile pixel data.\r\n\t\t// Refer to [CORS Settings](https://developer.mozilla.org/en-US/docs/Web/HTML/CORS_settings_attributes) for valid String values.\r\n\t\tcrossOrigin: false\r\n\t},\r\n\r\n\tinitialize: function (url, options) {\r\n\r\n\t\tthis._url = url;\r\n\r\n\t\toptions = setOptions(this, options);\r\n\r\n\t\t// detecting retina displays, adjusting tileSize and zoom levels\r\n\t\tif (options.detectRetina && retina && options.maxZoom > 0) {\r\n\r\n\t\t\toptions.tileSize = Math.floor(options.tileSize / 2);\r\n\r\n\t\t\tif (!options.zoomReverse) {\r\n\t\t\t\toptions.zoomOffset++;\r\n\t\t\t\toptions.maxZoom--;\r\n\t\t\t} else {\r\n\t\t\t\toptions.zoomOffset--;\r\n\t\t\t\toptions.minZoom++;\r\n\t\t\t}\r\n\r\n\t\t\toptions.minZoom = Math.max(0, options.minZoom);\r\n\t\t}\r\n\r\n\t\tif (typeof options.subdomains === 'string') {\r\n\t\t\toptions.subdomains = options.subdomains.split('');\r\n\t\t}\r\n\r\n\t\t// for https://github.com/Leaflet/Leaflet/issues/137\r\n\t\tif (!android) {\r\n\t\t\tthis.on('tileunload', this._onTileRemove);\r\n\t\t}\r\n\t},\r\n\r\n\t// @method setUrl(url: String, noRedraw?: Boolean): this\r\n\t// Updates the layer's URL template and redraws it (unless `noRedraw` is set to `true`).\r\n\t// If the URL does not change, the layer will not be redrawn unless\r\n\t// the noRedraw parameter is set to false.\r\n\tsetUrl: function (url, noRedraw) {\r\n\t\tif (this._url === url && noRedraw === undefined) {\r\n\t\t\tnoRedraw = true;\r\n\t\t}\r\n\r\n\t\tthis._url = url;\r\n\r\n\t\tif (!noRedraw) {\r\n\t\t\tthis.redraw();\r\n\t\t}\r\n\t\treturn this;\r\n\t},\r\n\r\n\t// @method createTile(coords: Object, done?: Function): HTMLElement\r\n\t// Called only internally, overrides GridLayer's [`createTile()`](#gridlayer-createtile)\r\n\t// to return an `<img>` HTML element with the appropriate image URL given `coords`. The `done`\r\n\t// callback is called when the tile has been loaded.\r\n\tcreateTile: function (coords, done) {\r\n\t\tvar tile = document.createElement('img');\r\n\r\n\t\ton(tile, 'load', bind(this._tileOnLoad, this, done, tile));\r\n\t\ton(tile, 'error', bind(this._tileOnError, this, done, tile));\r\n\r\n\t\tif (this.options.crossOrigin || this.options.crossOrigin === '') {\r\n\t\t\ttile.crossOrigin = this.options.crossOrigin === true ? '' : this.options.crossOrigin;\r\n\t\t}\r\n\r\n\t\t/*\r\n\t\t Alt tag is set to empty string to keep screen readers from reading URL and for compliance reasons\r\n\t\t http://www.w3.org/TR/WCAG20-TECHS/H67\r\n\t\t*/\r\n\t\ttile.alt = '';\r\n\r\n\t\t/*\r\n\t\t Set role=\"presentation\" to force screen readers to ignore this\r\n\t\t https://www.w3.org/TR/wai-aria/roles#textalternativecomputation\r\n\t\t*/\r\n\t\ttile.setAttribute('role', 'presentation');\r\n\r\n\t\ttile.src = this.getTileUrl(coords);\r\n\r\n\t\treturn tile;\r\n\t},\r\n\r\n\t// @section Extension methods\r\n\t// @uninheritable\r\n\t// Layers extending `TileLayer` might reimplement the following method.\r\n\t// @method getTileUrl(coords: Object): String\r\n\t// Called only internally, returns the URL for a tile given its coordinates.\r\n\t// Classes extending `TileLayer` can override this function to provide custom tile URL naming schemes.\r\n\tgetTileUrl: function (coords) {\r\n\t\tvar data = {\r\n\t\t\tr: retina ? '@2x' : '',\r\n\t\t\ts: this._getSubdomain(coords),\r\n\t\t\tx: coords.x,\r\n\t\t\ty: coords.y,\r\n\t\t\tz: this._getZoomForUrl()\r\n\t\t};\r\n\t\tif (this._map && !this._map.options.crs.infinite) {\r\n\t\t\tvar invertedY = this._globalTileRange.max.y - coords.y;\r\n\t\t\tif (this.options.tms) {\r\n\t\t\t\tdata['y'] = invertedY;\r\n\t\t\t}\r\n\t\t\tdata['-y'] = invertedY;\r\n\t\t}\r\n\r\n\t\treturn template(this._url, extend(data, this.options));\r\n\t},\r\n\r\n\t_tileOnLoad: function (done, tile) {\r\n\t\t// For https://github.com/Leaflet/Leaflet/issues/3332\r\n\t\tif (ielt9) {\r\n\t\t\tsetTimeout(bind(done, this, null, tile), 0);\r\n\t\t} else {\r\n\t\t\tdone(null, tile);\r\n\t\t}\r\n\t},\r\n\r\n\t_tileOnError: function (done, tile, e) {\r\n\t\tvar errorUrl = this.options.errorTileUrl;\r\n\t\tif (errorUrl && tile.getAttribute('src') !== errorUrl) {\r\n\t\t\ttile.src = errorUrl;\r\n\t\t}\r\n\t\tdone(e, tile);\r\n\t},\r\n\r\n\t_onTileRemove: function (e) {\r\n\t\te.tile.onload = null;\r\n\t},\r\n\r\n\t_getZoomForUrl: function () {\r\n\t\tvar zoom = this._tileZoom,\r\n\t\tmaxZoom = this.options.maxZoom,\r\n\t\tzoomReverse = this.options.zoomReverse,\r\n\t\tzoomOffset = this.options.zoomOffset;\r\n\r\n\t\tif (zoomReverse) {\r\n\t\t\tzoom = maxZoom - zoom;\r\n\t\t}\r\n\r\n\t\treturn zoom + zoomOffset;\r\n\t},\r\n\r\n\t_getSubdomain: function (tilePoint) {\r\n\t\tvar index = Math.abs(tilePoint.x + tilePoint.y) % this.options.subdomains.length;\r\n\t\treturn this.options.subdomains[index];\r\n\t},\r\n\r\n\t// stops loading all tiles in the background layer\r\n\t_abortLoading: function () {\r\n\t\tvar i, tile;\r\n\t\tfor (i in this._tiles) {\r\n\t\t\tif (this._tiles[i].coords.z !== this._tileZoom) {\r\n\t\t\t\ttile = this._tiles[i].el;\r\n\r\n\t\t\t\ttile.onload = falseFn;\r\n\t\t\t\ttile.onerror = falseFn;\r\n\r\n\t\t\t\tif (!tile.complete) {\r\n\t\t\t\t\ttile.src = emptyImageUrl;\r\n\t\t\t\t\tremove(tile);\r\n\t\t\t\t\tdelete this._tiles[i];\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\r\n\t_removeTile: function (key) {\r\n\t\tvar tile = this._tiles[key];\r\n\t\tif (!tile) { return; }\r\n\r\n\t\t// Cancels any pending http requests associated with the tile\r\n\t\t// unless we're on Android's stock browser,\r\n\t\t// see https://github.com/Leaflet/Leaflet/issues/137\r\n\t\tif (!androidStock) {\r\n\t\t\ttile.el.setAttribute('src', emptyImageUrl);\r\n\t\t}\r\n\r\n\t\treturn GridLayer.prototype._removeTile.call(this, key);\r\n\t},\r\n\r\n\t_tileReady: function (coords, err, tile) {\r\n\t\tif (!this._map || (tile && tile.getAttribute('src') === emptyImageUrl)) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\treturn GridLayer.prototype._tileReady.call(this, coords, err, tile);\r\n\t}\r\n});\r\n\r\n\r\n// @factory L.tilelayer(urlTemplate: String, options?: TileLayer options)\r\n// Instantiates a tile layer object given a `URL template` and optionally an options object.\r\n\r\nfunction tileLayer(url, options) {\r\n\treturn new TileLayer(url, options);\r\n}\n\n/*\r\n * @class TileLayer.WMS\r\n * @inherits TileLayer\r\n * @aka L.TileLayer.WMS\r\n * Used to display [WMS](https://en.wikipedia.org/wiki/Web_Map_Service) services as tile layers on the map. Extends `TileLayer`.\r\n *\r\n * @example\r\n *\r\n * ```js\r\n * var nexrad = L.tileLayer.wms(\"http://mesonet.agron.iastate.edu/cgi-bin/wms/nexrad/n0r.cgi\", {\r\n * \tlayers: 'nexrad-n0r-900913',\r\n * \tformat: 'image/png',\r\n * \ttransparent: true,\r\n * \tattribution: \"Weather data  2012 IEM Nexrad\"\r\n * });\r\n * ```\r\n */\r\n\r\nvar TileLayerWMS = TileLayer.extend({\r\n\r\n\t// @section\r\n\t// @aka TileLayer.WMS options\r\n\t// If any custom options not documented here are used, they will be sent to the\r\n\t// WMS server as extra parameters in each request URL. This can be useful for\r\n\t// [non-standard vendor WMS parameters](http://docs.geoserver.org/stable/en/user/services/wms/vendor.html).\r\n\tdefaultWmsParams: {\r\n\t\tservice: 'WMS',\r\n\t\trequest: 'GetMap',\r\n\r\n\t\t// @option layers: String = ''\r\n\t\t// **(required)** Comma-separated list of WMS layers to show.\r\n\t\tlayers: '',\r\n\r\n\t\t// @option styles: String = ''\r\n\t\t// Comma-separated list of WMS styles.\r\n\t\tstyles: '',\r\n\r\n\t\t// @option format: String = 'image/jpeg'\r\n\t\t// WMS image format (use `'image/png'` for layers with transparency).\r\n\t\tformat: 'image/jpeg',\r\n\r\n\t\t// @option transparent: Boolean = false\r\n\t\t// If `true`, the WMS service will return images with transparency.\r\n\t\ttransparent: false,\r\n\r\n\t\t// @option version: String = '1.1.1'\r\n\t\t// Version of the WMS service to use\r\n\t\tversion: '1.1.1'\r\n\t},\r\n\r\n\toptions: {\r\n\t\t// @option crs: CRS = null\r\n\t\t// Coordinate Reference System to use for the WMS requests, defaults to\r\n\t\t// map CRS. Don't change this if you're not sure what it means.\r\n\t\tcrs: null,\r\n\r\n\t\t// @option uppercase: Boolean = false\r\n\t\t// If `true`, WMS request parameter keys will be uppercase.\r\n\t\tuppercase: false\r\n\t},\r\n\r\n\tinitialize: function (url, options) {\r\n\r\n\t\tthis._url = url;\r\n\r\n\t\tvar wmsParams = extend({}, this.defaultWmsParams);\r\n\r\n\t\t// all keys that are not TileLayer options go to WMS params\r\n\t\tfor (var i in options) {\r\n\t\t\tif (!(i in this.options)) {\r\n\t\t\t\twmsParams[i] = options[i];\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\toptions = setOptions(this, options);\r\n\r\n\t\tvar realRetina = options.detectRetina && retina ? 2 : 1;\r\n\t\tvar tileSize = this.getTileSize();\r\n\t\twmsParams.width = tileSize.x * realRetina;\r\n\t\twmsParams.height = tileSize.y * realRetina;\r\n\r\n\t\tthis.wmsParams = wmsParams;\r\n\t},\r\n\r\n\tonAdd: function (map) {\r\n\r\n\t\tthis._crs = this.options.crs || map.options.crs;\r\n\t\tthis._wmsVersion = parseFloat(this.wmsParams.version);\r\n\r\n\t\tvar projectionKey = this._wmsVersion >= 1.3 ? 'crs' : 'srs';\r\n\t\tthis.wmsParams[projectionKey] = this._crs.code;\r\n\r\n\t\tTileLayer.prototype.onAdd.call(this, map);\r\n\t},\r\n\r\n\tgetTileUrl: function (coords) {\r\n\r\n\t\tvar tileBounds = this._tileCoordsToNwSe(coords),\r\n\t\t    crs = this._crs,\r\n\t\t    bounds = toBounds(crs.project(tileBounds[0]), crs.project(tileBounds[1])),\r\n\t\t    min = bounds.min,\r\n\t\t    max = bounds.max,\r\n\t\t    bbox = (this._wmsVersion >= 1.3 && this._crs === EPSG4326 ?\r\n\t\t    [min.y, min.x, max.y, max.x] :\r\n\t\t    [min.x, min.y, max.x, max.y]).join(','),\r\n\t\t    url = TileLayer.prototype.getTileUrl.call(this, coords);\r\n\t\treturn url +\r\n\t\t\tgetParamString(this.wmsParams, url, this.options.uppercase) +\r\n\t\t\t(this.options.uppercase ? '&BBOX=' : '&bbox=') + bbox;\r\n\t},\r\n\r\n\t// @method setParams(params: Object, noRedraw?: Boolean): this\r\n\t// Merges an object with the new parameters and re-requests tiles on the current screen (unless `noRedraw` was set to true).\r\n\tsetParams: function (params, noRedraw) {\r\n\r\n\t\textend(this.wmsParams, params);\r\n\r\n\t\tif (!noRedraw) {\r\n\t\t\tthis.redraw();\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\t}\r\n});\r\n\r\n\r\n// @factory L.tileLayer.wms(baseUrl: String, options: TileLayer.WMS options)\r\n// Instantiates a WMS tile layer object given a base URL of the WMS service and a WMS parameters/options object.\r\nfunction tileLayerWMS(url, options) {\r\n\treturn new TileLayerWMS(url, options);\r\n}\n\nTileLayer.WMS = TileLayerWMS;\ntileLayer.wms = tileLayerWMS;\n\n/*\n * @class Renderer\n * @inherits Layer\n * @aka L.Renderer\n *\n * Base class for vector renderer implementations (`SVG`, `Canvas`). Handles the\n * DOM container of the renderer, its bounds, and its zoom animation.\n *\n * A `Renderer` works as an implicit layer group for all `Path`s - the renderer\n * itself can be added or removed to the map. All paths use a renderer, which can\n * be implicit (the map will decide the type of renderer and use it automatically)\n * or explicit (using the [`renderer`](#path-renderer) option of the path).\n *\n * Do not use this class directly, use `SVG` and `Canvas` instead.\n *\n * @event update: Event\n * Fired when the renderer updates its bounds, center and zoom, for example when\n * its map has moved\n */\n\nvar Renderer = Layer.extend({\n\n\t// @section\n\t// @aka Renderer options\n\toptions: {\n\t\t// @option padding: Number = 0.1\n\t\t// How much to extend the clip area around the map view (relative to its size)\n\t\t// e.g. 0.1 would be 10% of map view in each direction\n\t\tpadding: 0.1,\n\n\t\t// @option tolerance: Number = 0\n\t\t// How much to extend click tolerance round a path/object on the map\n\t\ttolerance : 0\n\t},\n\n\tinitialize: function (options) {\n\t\tsetOptions(this, options);\n\t\tstamp(this);\n\t\tthis._layers = this._layers || {};\n\t},\n\n\tonAdd: function () {\n\t\tif (!this._container) {\n\t\t\tthis._initContainer(); // defined by renderer implementations\n\n\t\t\tif (this._zoomAnimated) {\n\t\t\t\taddClass(this._container, 'leaflet-zoom-animated');\n\t\t\t}\n\t\t}\n\n\t\tthis.getPane().appendChild(this._container);\n\t\tthis._update();\n\t\tthis.on('update', this._updatePaths, this);\n\t},\n\n\tonRemove: function () {\n\t\tthis.off('update', this._updatePaths, this);\n\t\tthis._destroyContainer();\n\t},\n\n\tgetEvents: function () {\n\t\tvar events = {\n\t\t\tviewreset: this._reset,\n\t\t\tzoom: this._onZoom,\n\t\t\tmoveend: this._update,\n\t\t\tzoomend: this._onZoomEnd\n\t\t};\n\t\tif (this._zoomAnimated) {\n\t\t\tevents.zoomanim = this._onAnimZoom;\n\t\t}\n\t\treturn events;\n\t},\n\n\t_onAnimZoom: function (ev) {\n\t\tthis._updateTransform(ev.center, ev.zoom);\n\t},\n\n\t_onZoom: function () {\n\t\tthis._updateTransform(this._map.getCenter(), this._map.getZoom());\n\t},\n\n\t_updateTransform: function (center, zoom) {\n\t\tvar scale = this._map.getZoomScale(zoom, this._zoom),\n\t\t    position = getPosition(this._container),\n\t\t    viewHalf = this._map.getSize().multiplyBy(0.5 + this.options.padding),\n\t\t    currentCenterPoint = this._map.project(this._center, zoom),\n\t\t    destCenterPoint = this._map.project(center, zoom),\n\t\t    centerOffset = destCenterPoint.subtract(currentCenterPoint),\n\n\t\t    topLeftOffset = viewHalf.multiplyBy(-scale).add(position).add(viewHalf).subtract(centerOffset);\n\n\t\tif (any3d) {\n\t\t\tsetTransform(this._container, topLeftOffset, scale);\n\t\t} else {\n\t\t\tsetPosition(this._container, topLeftOffset);\n\t\t}\n\t},\n\n\t_reset: function () {\n\t\tthis._update();\n\t\tthis._updateTransform(this._center, this._zoom);\n\n\t\tfor (var id in this._layers) {\n\t\t\tthis._layers[id]._reset();\n\t\t}\n\t},\n\n\t_onZoomEnd: function () {\n\t\tfor (var id in this._layers) {\n\t\t\tthis._layers[id]._project();\n\t\t}\n\t},\n\n\t_updatePaths: function () {\n\t\tfor (var id in this._layers) {\n\t\t\tthis._layers[id]._update();\n\t\t}\n\t},\n\n\t_update: function () {\n\t\t// Update pixel bounds of renderer container (for positioning/sizing/clipping later)\n\t\t// Subclasses are responsible of firing the 'update' event.\n\t\tvar p = this.options.padding,\n\t\t    size = this._map.getSize(),\n\t\t    min = this._map.containerPointToLayerPoint(size.multiplyBy(-p)).round();\n\n\t\tthis._bounds = new Bounds(min, min.add(size.multiplyBy(1 + p * 2)).round());\n\n\t\tthis._center = this._map.getCenter();\n\t\tthis._zoom = this._map.getZoom();\n\t}\n});\n\n/*\n * @class Canvas\n * @inherits Renderer\n * @aka L.Canvas\n *\n * Allows vector layers to be displayed with [`<canvas>`](https://developer.mozilla.org/docs/Web/API/Canvas_API).\n * Inherits `Renderer`.\n *\n * Due to [technical limitations](http://caniuse.com/#search=canvas), Canvas is not\n * available in all web browsers, notably IE8, and overlapping geometries might\n * not display properly in some edge cases.\n *\n * @example\n *\n * Use Canvas by default for all paths in the map:\n *\n * ```js\n * var map = L.map('map', {\n * \trenderer: L.canvas()\n * });\n * ```\n *\n * Use a Canvas renderer with extra padding for specific vector geometries:\n *\n * ```js\n * var map = L.map('map');\n * var myRenderer = L.canvas({ padding: 0.5 });\n * var line = L.polyline( coordinates, { renderer: myRenderer } );\n * var circle = L.circle( center, { renderer: myRenderer } );\n * ```\n */\n\nvar Canvas = Renderer.extend({\n\tgetEvents: function () {\n\t\tvar events = Renderer.prototype.getEvents.call(this);\n\t\tevents.viewprereset = this._onViewPreReset;\n\t\treturn events;\n\t},\n\n\t_onViewPreReset: function () {\n\t\t// Set a flag so that a viewprereset+moveend+viewreset only updates&redraws once\n\t\tthis._postponeUpdatePaths = true;\n\t},\n\n\tonAdd: function () {\n\t\tRenderer.prototype.onAdd.call(this);\n\n\t\t// Redraw vectors since canvas is cleared upon removal,\n\t\t// in case of removing the renderer itself from the map.\n\t\tthis._draw();\n\t},\n\n\t_initContainer: function () {\n\t\tvar container = this._container = document.createElement('canvas');\n\n\t\ton(container, 'mousemove', this._onMouseMove, this);\n\t\ton(container, 'click dblclick mousedown mouseup contextmenu', this._onClick, this);\n\t\ton(container, 'mouseout', this._handleMouseOut, this);\n\n\t\tthis._ctx = container.getContext('2d');\n\t},\n\n\t_destroyContainer: function () {\n\t\tcancelAnimFrame(this._redrawRequest);\n\t\tdelete this._ctx;\n\t\tremove(this._container);\n\t\toff(this._container);\n\t\tdelete this._container;\n\t},\n\n\t_updatePaths: function () {\n\t\tif (this._postponeUpdatePaths) { return; }\n\n\t\tvar layer;\n\t\tthis._redrawBounds = null;\n\t\tfor (var id in this._layers) {\n\t\t\tlayer = this._layers[id];\n\t\t\tlayer._update();\n\t\t}\n\t\tthis._redraw();\n\t},\n\n\t_update: function () {\n\t\tif (this._map._animatingZoom && this._bounds) { return; }\n\n\t\tRenderer.prototype._update.call(this);\n\n\t\tvar b = this._bounds,\n\t\t    container = this._container,\n\t\t    size = b.getSize(),\n\t\t    m = retina ? 2 : 1;\n\n\t\tsetPosition(container, b.min);\n\n\t\t// set canvas size (also clearing it); use double size on retina\n\t\tcontainer.width = m * size.x;\n\t\tcontainer.height = m * size.y;\n\t\tcontainer.style.width = size.x + 'px';\n\t\tcontainer.style.height = size.y + 'px';\n\n\t\tif (retina) {\n\t\t\tthis._ctx.scale(2, 2);\n\t\t}\n\n\t\t// translate so we use the same path coordinates after canvas element moves\n\t\tthis._ctx.translate(-b.min.x, -b.min.y);\n\n\t\t// Tell paths to redraw themselves\n\t\tthis.fire('update');\n\t},\n\n\t_reset: function () {\n\t\tRenderer.prototype._reset.call(this);\n\n\t\tif (this._postponeUpdatePaths) {\n\t\t\tthis._postponeUpdatePaths = false;\n\t\t\tthis._updatePaths();\n\t\t}\n\t},\n\n\t_initPath: function (layer) {\n\t\tthis._updateDashArray(layer);\n\t\tthis._layers[stamp(layer)] = layer;\n\n\t\tvar order = layer._order = {\n\t\t\tlayer: layer,\n\t\t\tprev: this._drawLast,\n\t\t\tnext: null\n\t\t};\n\t\tif (this._drawLast) { this._drawLast.next = order; }\n\t\tthis._drawLast = order;\n\t\tthis._drawFirst = this._drawFirst || this._drawLast;\n\t},\n\n\t_addPath: function (layer) {\n\t\tthis._requestRedraw(layer);\n\t},\n\n\t_removePath: function (layer) {\n\t\tvar order = layer._order;\n\t\tvar next = order.next;\n\t\tvar prev = order.prev;\n\n\t\tif (next) {\n\t\t\tnext.prev = prev;\n\t\t} else {\n\t\t\tthis._drawLast = prev;\n\t\t}\n\t\tif (prev) {\n\t\t\tprev.next = next;\n\t\t} else {\n\t\t\tthis._drawFirst = next;\n\t\t}\n\n\t\tdelete layer._order;\n\n\t\tdelete this._layers[stamp(layer)];\n\n\t\tthis._requestRedraw(layer);\n\t},\n\n\t_updatePath: function (layer) {\n\t\t// Redraw the union of the layer's old pixel\n\t\t// bounds and the new pixel bounds.\n\t\tthis._extendRedrawBounds(layer);\n\t\tlayer._project();\n\t\tlayer._update();\n\t\t// The redraw will extend the redraw bounds\n\t\t// with the new pixel bounds.\n\t\tthis._requestRedraw(layer);\n\t},\n\n\t_updateStyle: function (layer) {\n\t\tthis._updateDashArray(layer);\n\t\tthis._requestRedraw(layer);\n\t},\n\n\t_updateDashArray: function (layer) {\n\t\tif (typeof layer.options.dashArray === 'string') {\n\t\t\tvar parts = layer.options.dashArray.split(/[, ]+/),\n\t\t\t    dashArray = [],\n\t\t\t    dashValue,\n\t\t\t    i;\n\t\t\tfor (i = 0; i < parts.length; i++) {\n\t\t\t\tdashValue = Number(parts[i]);\n\t\t\t\t// Ignore dash array containing invalid lengths\n\t\t\t\tif (isNaN(dashValue)) { return; }\n\t\t\t\tdashArray.push(dashValue);\n\t\t\t}\n\t\t\tlayer.options._dashArray = dashArray;\n\t\t} else {\n\t\t\tlayer.options._dashArray = layer.options.dashArray;\n\t\t}\n\t},\n\n\t_requestRedraw: function (layer) {\n\t\tif (!this._map) { return; }\n\n\t\tthis._extendRedrawBounds(layer);\n\t\tthis._redrawRequest = this._redrawRequest || requestAnimFrame(this._redraw, this);\n\t},\n\n\t_extendRedrawBounds: function (layer) {\n\t\tif (layer._pxBounds) {\n\t\t\tvar padding = (layer.options.weight || 0) + 1;\n\t\t\tthis._redrawBounds = this._redrawBounds || new Bounds();\n\t\t\tthis._redrawBounds.extend(layer._pxBounds.min.subtract([padding, padding]));\n\t\t\tthis._redrawBounds.extend(layer._pxBounds.max.add([padding, padding]));\n\t\t}\n\t},\n\n\t_redraw: function () {\n\t\tthis._redrawRequest = null;\n\n\t\tif (this._redrawBounds) {\n\t\t\tthis._redrawBounds.min._floor();\n\t\t\tthis._redrawBounds.max._ceil();\n\t\t}\n\n\t\tthis._clear(); // clear layers in redraw bounds\n\t\tthis._draw(); // draw layers\n\n\t\tthis._redrawBounds = null;\n\t},\n\n\t_clear: function () {\n\t\tvar bounds = this._redrawBounds;\n\t\tif (bounds) {\n\t\t\tvar size = bounds.getSize();\n\t\t\tthis._ctx.clearRect(bounds.min.x, bounds.min.y, size.x, size.y);\n\t\t} else {\n\t\t\tthis._ctx.save();\n\t\t\tthis._ctx.setTransform(1, 0, 0, 1, 0, 0);\n\t\t\tthis._ctx.clearRect(0, 0, this._container.width, this._container.height);\n\t\t\tthis._ctx.restore();\n\t\t}\n\t},\n\n\t_draw: function () {\n\t\tvar layer, bounds = this._redrawBounds;\n\t\tthis._ctx.save();\n\t\tif (bounds) {\n\t\t\tvar size = bounds.getSize();\n\t\t\tthis._ctx.beginPath();\n\t\t\tthis._ctx.rect(bounds.min.x, bounds.min.y, size.x, size.y);\n\t\t\tthis._ctx.clip();\n\t\t}\n\n\t\tthis._drawing = true;\n\n\t\tfor (var order = this._drawFirst; order; order = order.next) {\n\t\t\tlayer = order.layer;\n\t\t\tif (!bounds || (layer._pxBounds && layer._pxBounds.intersects(bounds))) {\n\t\t\t\tlayer._updatePath();\n\t\t\t}\n\t\t}\n\n\t\tthis._drawing = false;\n\n\t\tthis._ctx.restore();  // Restore state before clipping.\n\t},\n\n\t_updatePoly: function (layer, closed) {\n\t\tif (!this._drawing) { return; }\n\n\t\tvar i, j, len2, p,\n\t\t    parts = layer._parts,\n\t\t    len = parts.length,\n\t\t    ctx = this._ctx;\n\n\t\tif (!len) { return; }\n\n\t\tctx.beginPath();\n\n\t\tfor (i = 0; i < len; i++) {\n\t\t\tfor (j = 0, len2 = parts[i].length; j < len2; j++) {\n\t\t\t\tp = parts[i][j];\n\t\t\t\tctx[j ? 'lineTo' : 'moveTo'](p.x, p.y);\n\t\t\t}\n\t\t\tif (closed) {\n\t\t\t\tctx.closePath();\n\t\t\t}\n\t\t}\n\n\t\tthis._fillStroke(ctx, layer);\n\n\t\t// TODO optimization: 1 fill/stroke for all features with equal style instead of 1 for each feature\n\t},\n\n\t_updateCircle: function (layer) {\n\n\t\tif (!this._drawing || layer._empty()) { return; }\n\n\t\tvar p = layer._point,\n\t\t    ctx = this._ctx,\n\t\t    r = Math.max(Math.round(layer._radius), 1),\n\t\t    s = (Math.max(Math.round(layer._radiusY), 1) || r) / r;\n\n\t\tif (s !== 1) {\n\t\t\tctx.save();\n\t\t\tctx.scale(1, s);\n\t\t}\n\n\t\tctx.beginPath();\n\t\tctx.arc(p.x, p.y / s, r, 0, Math.PI * 2, false);\n\n\t\tif (s !== 1) {\n\t\t\tctx.restore();\n\t\t}\n\n\t\tthis._fillStroke(ctx, layer);\n\t},\n\n\t_fillStroke: function (ctx, layer) {\n\t\tvar options = layer.options;\n\n\t\tif (options.fill) {\n\t\t\tctx.globalAlpha = options.fillOpacity;\n\t\t\tctx.fillStyle = options.fillColor || options.color;\n\t\t\tctx.fill(options.fillRule || 'evenodd');\n\t\t}\n\n\t\tif (options.stroke && options.weight !== 0) {\n\t\t\tif (ctx.setLineDash) {\n\t\t\t\tctx.setLineDash(layer.options && layer.options._dashArray || []);\n\t\t\t}\n\t\t\tctx.globalAlpha = options.opacity;\n\t\t\tctx.lineWidth = options.weight;\n\t\t\tctx.strokeStyle = options.color;\n\t\t\tctx.lineCap = options.lineCap;\n\t\t\tctx.lineJoin = options.lineJoin;\n\t\t\tctx.stroke();\n\t\t}\n\t},\n\n\t// Canvas obviously doesn't have mouse events for individual drawn objects,\n\t// so we emulate that by calculating what's under the mouse on mousemove/click manually\n\n\t_onClick: function (e) {\n\t\tvar point = this._map.mouseEventToLayerPoint(e), layer, clickedLayer;\n\n\t\tfor (var order = this._drawFirst; order; order = order.next) {\n\t\t\tlayer = order.layer;\n\t\t\tif (layer.options.interactive && layer._containsPoint(point)) {\n\t\t\t\tif (!(e.type === 'click' || e.type !== 'preclick') || !this._map._draggableMoved(layer)) {\n\t\t\t\t\tclickedLayer = layer;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif (clickedLayer)  {\n\t\t\tfakeStop(e);\n\t\t\tthis._fireEvent([clickedLayer], e);\n\t\t}\n\t},\n\n\t_onMouseMove: function (e) {\n\t\tif (!this._map || this._map.dragging.moving() || this._map._animatingZoom) { return; }\n\n\t\tvar point = this._map.mouseEventToLayerPoint(e);\n\t\tthis._handleMouseHover(e, point);\n\t},\n\n\n\t_handleMouseOut: function (e) {\n\t\tvar layer = this._hoveredLayer;\n\t\tif (layer) {\n\t\t\t// if we're leaving the layer, fire mouseout\n\t\t\tremoveClass(this._container, 'leaflet-interactive');\n\t\t\tthis._fireEvent([layer], e, 'mouseout');\n\t\t\tthis._hoveredLayer = null;\n\t\t\tthis._mouseHoverThrottled = false;\n\t\t}\n\t},\n\n\t_handleMouseHover: function (e, point) {\n\t\tif (this._mouseHoverThrottled) {\n\t\t\treturn;\n\t\t}\n\n\t\tvar layer, candidateHoveredLayer;\n\n\t\tfor (var order = this._drawFirst; order; order = order.next) {\n\t\t\tlayer = order.layer;\n\t\t\tif (layer.options.interactive && layer._containsPoint(point)) {\n\t\t\t\tcandidateHoveredLayer = layer;\n\t\t\t}\n\t\t}\n\n\t\tif (candidateHoveredLayer !== this._hoveredLayer) {\n\t\t\tthis._handleMouseOut(e);\n\n\t\t\tif (candidateHoveredLayer) {\n\t\t\t\taddClass(this._container, 'leaflet-interactive'); // change cursor\n\t\t\t\tthis._fireEvent([candidateHoveredLayer], e, 'mouseover');\n\t\t\t\tthis._hoveredLayer = candidateHoveredLayer;\n\t\t\t}\n\t\t}\n\n\t\tif (this._hoveredLayer) {\n\t\t\tthis._fireEvent([this._hoveredLayer], e);\n\t\t}\n\n\t\tthis._mouseHoverThrottled = true;\n\t\tsetTimeout(bind(function () {\n\t\t\tthis._mouseHoverThrottled = false;\n\t\t}, this), 32);\n\t},\n\n\t_fireEvent: function (layers, e, type) {\n\t\tthis._map._fireDOMEvent(e, type || e.type, layers);\n\t},\n\n\t_bringToFront: function (layer) {\n\t\tvar order = layer._order;\n\n\t\tif (!order) { return; }\n\n\t\tvar next = order.next;\n\t\tvar prev = order.prev;\n\n\t\tif (next) {\n\t\t\tnext.prev = prev;\n\t\t} else {\n\t\t\t// Already last\n\t\t\treturn;\n\t\t}\n\t\tif (prev) {\n\t\t\tprev.next = next;\n\t\t} else if (next) {\n\t\t\t// Update first entry unless this is the\n\t\t\t// single entry\n\t\t\tthis._drawFirst = next;\n\t\t}\n\n\t\torder.prev = this._drawLast;\n\t\tthis._drawLast.next = order;\n\n\t\torder.next = null;\n\t\tthis._drawLast = order;\n\n\t\tthis._requestRedraw(layer);\n\t},\n\n\t_bringToBack: function (layer) {\n\t\tvar order = layer._order;\n\n\t\tif (!order) { return; }\n\n\t\tvar next = order.next;\n\t\tvar prev = order.prev;\n\n\t\tif (prev) {\n\t\t\tprev.next = next;\n\t\t} else {\n\t\t\t// Already first\n\t\t\treturn;\n\t\t}\n\t\tif (next) {\n\t\t\tnext.prev = prev;\n\t\t} else if (prev) {\n\t\t\t// Update last entry unless this is the\n\t\t\t// single entry\n\t\t\tthis._drawLast = prev;\n\t\t}\n\n\t\torder.prev = null;\n\n\t\torder.next = this._drawFirst;\n\t\tthis._drawFirst.prev = order;\n\t\tthis._drawFirst = order;\n\n\t\tthis._requestRedraw(layer);\n\t}\n});\n\n// @factory L.canvas(options?: Renderer options)\n// Creates a Canvas renderer with the given options.\nfunction canvas$1(options) {\n\treturn canvas ? new Canvas(options) : null;\n}\n\n/*\n * Thanks to Dmitry Baranovsky and his Raphael library for inspiration!\n */\n\n\nvar vmlCreate = (function () {\n\ttry {\n\t\tdocument.namespaces.add('lvml', 'urn:schemas-microsoft-com:vml');\n\t\treturn function (name) {\n\t\t\treturn document.createElement('<lvml:' + name + ' class=\"lvml\">');\n\t\t};\n\t} catch (e) {\n\t\treturn function (name) {\n\t\t\treturn document.createElement('<' + name + ' xmlns=\"urn:schemas-microsoft.com:vml\" class=\"lvml\">');\n\t\t};\n\t}\n})();\n\n\n/*\n * @class SVG\n *\n *\n * VML was deprecated in 2012, which means VML functionality exists only for backwards compatibility\n * with old versions of Internet Explorer.\n */\n\n// mixin to redefine some SVG methods to handle VML syntax which is similar but with some differences\nvar vmlMixin = {\n\n\t_initContainer: function () {\n\t\tthis._container = create$1('div', 'leaflet-vml-container');\n\t},\n\n\t_update: function () {\n\t\tif (this._map._animatingZoom) { return; }\n\t\tRenderer.prototype._update.call(this);\n\t\tthis.fire('update');\n\t},\n\n\t_initPath: function (layer) {\n\t\tvar container = layer._container = vmlCreate('shape');\n\n\t\taddClass(container, 'leaflet-vml-shape ' + (this.options.className || ''));\n\n\t\tcontainer.coordsize = '1 1';\n\n\t\tlayer._path = vmlCreate('path');\n\t\tcontainer.appendChild(layer._path);\n\n\t\tthis._updateStyle(layer);\n\t\tthis._layers[stamp(layer)] = layer;\n\t},\n\n\t_addPath: function (layer) {\n\t\tvar container = layer._container;\n\t\tthis._container.appendChild(container);\n\n\t\tif (layer.options.interactive) {\n\t\t\tlayer.addInteractiveTarget(container);\n\t\t}\n\t},\n\n\t_removePath: function (layer) {\n\t\tvar container = layer._container;\n\t\tremove(container);\n\t\tlayer.removeInteractiveTarget(container);\n\t\tdelete this._layers[stamp(layer)];\n\t},\n\n\t_updateStyle: function (layer) {\n\t\tvar stroke = layer._stroke,\n\t\t    fill = layer._fill,\n\t\t    options = layer.options,\n\t\t    container = layer._container;\n\n\t\tcontainer.stroked = !!options.stroke;\n\t\tcontainer.filled = !!options.fill;\n\n\t\tif (options.stroke) {\n\t\t\tif (!stroke) {\n\t\t\t\tstroke = layer._stroke = vmlCreate('stroke');\n\t\t\t}\n\t\t\tcontainer.appendChild(stroke);\n\t\t\tstroke.weight = options.weight + 'px';\n\t\t\tstroke.color = options.color;\n\t\t\tstroke.opacity = options.opacity;\n\n\t\t\tif (options.dashArray) {\n\t\t\t\tstroke.dashStyle = isArray(options.dashArray) ?\n\t\t\t\t    options.dashArray.join(' ') :\n\t\t\t\t    options.dashArray.replace(/( *, *)/g, ' ');\n\t\t\t} else {\n\t\t\t\tstroke.dashStyle = '';\n\t\t\t}\n\t\t\tstroke.endcap = options.lineCap.replace('butt', 'flat');\n\t\t\tstroke.joinstyle = options.lineJoin;\n\n\t\t} else if (stroke) {\n\t\t\tcontainer.removeChild(stroke);\n\t\t\tlayer._stroke = null;\n\t\t}\n\n\t\tif (options.fill) {\n\t\t\tif (!fill) {\n\t\t\t\tfill = layer._fill = vmlCreate('fill');\n\t\t\t}\n\t\t\tcontainer.appendChild(fill);\n\t\t\tfill.color = options.fillColor || options.color;\n\t\t\tfill.opacity = options.fillOpacity;\n\n\t\t} else if (fill) {\n\t\t\tcontainer.removeChild(fill);\n\t\t\tlayer._fill = null;\n\t\t}\n\t},\n\n\t_updateCircle: function (layer) {\n\t\tvar p = layer._point.round(),\n\t\t    r = Math.round(layer._radius),\n\t\t    r2 = Math.round(layer._radiusY || r);\n\n\t\tthis._setPath(layer, layer._empty() ? 'M0 0' :\n\t\t\t'AL ' + p.x + ',' + p.y + ' ' + r + ',' + r2 + ' 0,' + (65535 * 360));\n\t},\n\n\t_setPath: function (layer, path) {\n\t\tlayer._path.v = path;\n\t},\n\n\t_bringToFront: function (layer) {\n\t\ttoFront(layer._container);\n\t},\n\n\t_bringToBack: function (layer) {\n\t\ttoBack(layer._container);\n\t}\n};\n\nvar create$2 = vml ? vmlCreate : svgCreate;\n\n/*\n * @class SVG\n * @inherits Renderer\n * @aka L.SVG\n *\n * Allows vector layers to be displayed with [SVG](https://developer.mozilla.org/docs/Web/SVG).\n * Inherits `Renderer`.\n *\n * Due to [technical limitations](http://caniuse.com/#search=svg), SVG is not\n * available in all web browsers, notably Android 2.x and 3.x.\n *\n * Although SVG is not available on IE7 and IE8, these browsers support\n * [VML](https://en.wikipedia.org/wiki/Vector_Markup_Language)\n * (a now deprecated technology), and the SVG renderer will fall back to VML in\n * this case.\n *\n * @example\n *\n * Use SVG by default for all paths in the map:\n *\n * ```js\n * var map = L.map('map', {\n * \trenderer: L.svg()\n * });\n * ```\n *\n * Use a SVG renderer with extra padding for specific vector geometries:\n *\n * ```js\n * var map = L.map('map');\n * var myRenderer = L.svg({ padding: 0.5 });\n * var line = L.polyline( coordinates, { renderer: myRenderer } );\n * var circle = L.circle( center, { renderer: myRenderer } );\n * ```\n */\n\nvar SVG = Renderer.extend({\n\n\tgetEvents: function () {\n\t\tvar events = Renderer.prototype.getEvents.call(this);\n\t\tevents.zoomstart = this._onZoomStart;\n\t\treturn events;\n\t},\n\n\t_initContainer: function () {\n\t\tthis._container = create$2('svg');\n\n\t\t// makes it possible to click through svg root; we'll reset it back in individual paths\n\t\tthis._container.setAttribute('pointer-events', 'none');\n\n\t\tthis._rootGroup = create$2('g');\n\t\tthis._container.appendChild(this._rootGroup);\n\t},\n\n\t_destroyContainer: function () {\n\t\tremove(this._container);\n\t\toff(this._container);\n\t\tdelete this._container;\n\t\tdelete this._rootGroup;\n\t\tdelete this._svgSize;\n\t},\n\n\t_onZoomStart: function () {\n\t\t// Drag-then-pinch interactions might mess up the center and zoom.\n\t\t// In this case, the easiest way to prevent this is re-do the renderer\n\t\t//   bounds and padding when the zooming starts.\n\t\tthis._update();\n\t},\n\n\t_update: function () {\n\t\tif (this._map._animatingZoom && this._bounds) { return; }\n\n\t\tRenderer.prototype._update.call(this);\n\n\t\tvar b = this._bounds,\n\t\t    size = b.getSize(),\n\t\t    container = this._container;\n\n\t\t// set size of svg-container if changed\n\t\tif (!this._svgSize || !this._svgSize.equals(size)) {\n\t\t\tthis._svgSize = size;\n\t\t\tcontainer.setAttribute('width', size.x);\n\t\t\tcontainer.setAttribute('height', size.y);\n\t\t}\n\n\t\t// movement: update container viewBox so that we don't have to change coordinates of individual layers\n\t\tsetPosition(container, b.min);\n\t\tcontainer.setAttribute('viewBox', [b.min.x, b.min.y, size.x, size.y].join(' '));\n\n\t\tthis.fire('update');\n\t},\n\n\t// methods below are called by vector layers implementations\n\n\t_initPath: function (layer) {\n\t\tvar path = layer._path = create$2('path');\n\n\t\t// @namespace Path\n\t\t// @option className: String = null\n\t\t// Custom class name set on an element. Only for SVG renderer.\n\t\tif (layer.options.className) {\n\t\t\taddClass(path, layer.options.className);\n\t\t}\n\n\t\tif (layer.options.interactive) {\n\t\t\taddClass(path, 'leaflet-interactive');\n\t\t}\n\n\t\tthis._updateStyle(layer);\n\t\tthis._layers[stamp(layer)] = layer;\n\t},\n\n\t_addPath: function (layer) {\n\t\tif (!this._rootGroup) { this._initContainer(); }\n\t\tthis._rootGroup.appendChild(layer._path);\n\t\tlayer.addInteractiveTarget(layer._path);\n\t},\n\n\t_removePath: function (layer) {\n\t\tremove(layer._path);\n\t\tlayer.removeInteractiveTarget(layer._path);\n\t\tdelete this._layers[stamp(layer)];\n\t},\n\n\t_updatePath: function (layer) {\n\t\tlayer._project();\n\t\tlayer._update();\n\t},\n\n\t_updateStyle: function (layer) {\n\t\tvar path = layer._path,\n\t\t    options = layer.options;\n\n\t\tif (!path) { return; }\n\n\t\tif (options.stroke) {\n\t\t\tpath.setAttribute('stroke', options.color);\n\t\t\tpath.setAttribute('stroke-opacity', options.opacity);\n\t\t\tpath.setAttribute('stroke-width', options.weight);\n\t\t\tpath.setAttribute('stroke-linecap', options.lineCap);\n\t\t\tpath.setAttribute('stroke-linejoin', options.lineJoin);\n\n\t\t\tif (options.dashArray) {\n\t\t\t\tpath.setAttribute('stroke-dasharray', options.dashArray);\n\t\t\t} else {\n\t\t\t\tpath.removeAttribute('stroke-dasharray');\n\t\t\t}\n\n\t\t\tif (options.dashOffset) {\n\t\t\t\tpath.setAttribute('stroke-dashoffset', options.dashOffset);\n\t\t\t} else {\n\t\t\t\tpath.removeAttribute('stroke-dashoffset');\n\t\t\t}\n\t\t} else {\n\t\t\tpath.setAttribute('stroke', 'none');\n\t\t}\n\n\t\tif (options.fill) {\n\t\t\tpath.setAttribute('fill', options.fillColor || options.color);\n\t\t\tpath.setAttribute('fill-opacity', options.fillOpacity);\n\t\t\tpath.setAttribute('fill-rule', options.fillRule || 'evenodd');\n\t\t} else {\n\t\t\tpath.setAttribute('fill', 'none');\n\t\t}\n\t},\n\n\t_updatePoly: function (layer, closed) {\n\t\tthis._setPath(layer, pointsToPath(layer._parts, closed));\n\t},\n\n\t_updateCircle: function (layer) {\n\t\tvar p = layer._point,\n\t\t    r = Math.max(Math.round(layer._radius), 1),\n\t\t    r2 = Math.max(Math.round(layer._radiusY), 1) || r,\n\t\t    arc = 'a' + r + ',' + r2 + ' 0 1,0 ';\n\n\t\t// drawing a circle with two half-arcs\n\t\tvar d = layer._empty() ? 'M0 0' :\n\t\t\t'M' + (p.x - r) + ',' + p.y +\n\t\t\tarc + (r * 2) + ',0 ' +\n\t\t\tarc + (-r * 2) + ',0 ';\n\n\t\tthis._setPath(layer, d);\n\t},\n\n\t_setPath: function (layer, path) {\n\t\tlayer._path.setAttribute('d', path);\n\t},\n\n\t// SVG does not have the concept of zIndex so we resort to changing the DOM order of elements\n\t_bringToFront: function (layer) {\n\t\ttoFront(layer._path);\n\t},\n\n\t_bringToBack: function (layer) {\n\t\ttoBack(layer._path);\n\t}\n});\n\nif (vml) {\n\tSVG.include(vmlMixin);\n}\n\n// @namespace SVG\n// @factory L.svg(options?: Renderer options)\n// Creates a SVG renderer with the given options.\nfunction svg$1(options) {\n\treturn svg || vml ? new SVG(options) : null;\n}\n\nMap.include({\n\t// @namespace Map; @method getRenderer(layer: Path): Renderer\n\t// Returns the instance of `Renderer` that should be used to render the given\n\t// `Path`. It will ensure that the `renderer` options of the map and paths\n\t// are respected, and that the renderers do exist on the map.\n\tgetRenderer: function (layer) {\n\t\t// @namespace Path; @option renderer: Renderer\n\t\t// Use this specific instance of `Renderer` for this path. Takes\n\t\t// precedence over the map's [default renderer](#map-renderer).\n\t\tvar renderer = layer.options.renderer || this._getPaneRenderer(layer.options.pane) || this.options.renderer || this._renderer;\n\n\t\tif (!renderer) {\n\t\t\trenderer = this._renderer = this._createRenderer();\n\t\t}\n\n\t\tif (!this.hasLayer(renderer)) {\n\t\t\tthis.addLayer(renderer);\n\t\t}\n\t\treturn renderer;\n\t},\n\n\t_getPaneRenderer: function (name) {\n\t\tif (name === 'overlayPane' || name === undefined) {\n\t\t\treturn false;\n\t\t}\n\n\t\tvar renderer = this._paneRenderers[name];\n\t\tif (renderer === undefined) {\n\t\t\trenderer = this._createRenderer({pane: name});\n\t\t\tthis._paneRenderers[name] = renderer;\n\t\t}\n\t\treturn renderer;\n\t},\n\n\t_createRenderer: function (options) {\n\t\t// @namespace Map; @option preferCanvas: Boolean = false\n\t\t// Whether `Path`s should be rendered on a `Canvas` renderer.\n\t\t// By default, all `Path`s are rendered in a `SVG` renderer.\n\t\treturn (this.options.preferCanvas && canvas$1(options)) || svg$1(options);\n\t}\n});\n\n/*\n * L.Rectangle extends Polygon and creates a rectangle when passed a LatLngBounds object.\n */\n\n/*\n * @class Rectangle\n * @aka L.Rectangle\n * @inherits Polygon\n *\n * A class for drawing rectangle overlays on a map. Extends `Polygon`.\n *\n * @example\n *\n * ```js\n * // define rectangle geographical bounds\n * var bounds = [[54.559322, -5.767822], [56.1210604, -3.021240]];\n *\n * // create an orange rectangle\n * L.rectangle(bounds, {color: \"#ff7800\", weight: 1}).addTo(map);\n *\n * // zoom the map to the rectangle bounds\n * map.fitBounds(bounds);\n * ```\n *\n */\n\n\nvar Rectangle = Polygon.extend({\n\tinitialize: function (latLngBounds, options) {\n\t\tPolygon.prototype.initialize.call(this, this._boundsToLatLngs(latLngBounds), options);\n\t},\n\n\t// @method setBounds(latLngBounds: LatLngBounds): this\n\t// Redraws the rectangle with the passed bounds.\n\tsetBounds: function (latLngBounds) {\n\t\treturn this.setLatLngs(this._boundsToLatLngs(latLngBounds));\n\t},\n\n\t_boundsToLatLngs: function (latLngBounds) {\n\t\tlatLngBounds = toLatLngBounds(latLngBounds);\n\t\treturn [\n\t\t\tlatLngBounds.getSouthWest(),\n\t\t\tlatLngBounds.getNorthWest(),\n\t\t\tlatLngBounds.getNorthEast(),\n\t\t\tlatLngBounds.getSouthEast()\n\t\t];\n\t}\n});\n\nSVG.create = create$2;\nSVG.pointsToPath = pointsToPath;\n\nGeoJSON.geometryToLayer = geometryToLayer;\nGeoJSON.coordsToLatLng = coordsToLatLng;\nGeoJSON.coordsToLatLngs = coordsToLatLngs;\nGeoJSON.latLngToCoords = latLngToCoords;\nGeoJSON.latLngsToCoords = latLngsToCoords;\nGeoJSON.getFeature = getFeature;\nGeoJSON.asFeature = asFeature;\n\n/*\n * L.Handler.BoxZoom is used to add shift-drag zoom interaction to the map\n * (zoom to a selected bounding box), enabled by default.\n */\n\n// @namespace Map\n// @section Interaction Options\nMap.mergeOptions({\n\t// @option boxZoom: Boolean = true\n\t// Whether the map can be zoomed to a rectangular area specified by\n\t// dragging the mouse while pressing the shift key.\n\tboxZoom: true\n});\n\nvar BoxZoom = Handler.extend({\n\tinitialize: function (map) {\n\t\tthis._map = map;\n\t\tthis._container = map._container;\n\t\tthis._pane = map._panes.overlayPane;\n\t\tthis._resetStateTimeout = 0;\n\t\tmap.on('unload', this._destroy, this);\n\t},\n\n\taddHooks: function () {\n\t\ton(this._container, 'mousedown', this._onMouseDown, this);\n\t},\n\n\tremoveHooks: function () {\n\t\toff(this._container, 'mousedown', this._onMouseDown, this);\n\t},\n\n\tmoved: function () {\n\t\treturn this._moved;\n\t},\n\n\t_destroy: function () {\n\t\tremove(this._pane);\n\t\tdelete this._pane;\n\t},\n\n\t_resetState: function () {\n\t\tthis._resetStateTimeout = 0;\n\t\tthis._moved = false;\n\t},\n\n\t_clearDeferredResetState: function () {\n\t\tif (this._resetStateTimeout !== 0) {\n\t\t\tclearTimeout(this._resetStateTimeout);\n\t\t\tthis._resetStateTimeout = 0;\n\t\t}\n\t},\n\n\t_onMouseDown: function (e) {\n\t\tif (!e.shiftKey || ((e.which !== 1) && (e.button !== 1))) { return false; }\n\n\t\t// Clear the deferred resetState if it hasn't executed yet, otherwise it\n\t\t// will interrupt the interaction and orphan a box element in the container.\n\t\tthis._clearDeferredResetState();\n\t\tthis._resetState();\n\n\t\tdisableTextSelection();\n\t\tdisableImageDrag();\n\n\t\tthis._startPoint = this._map.mouseEventToContainerPoint(e);\n\n\t\ton(document, {\n\t\t\tcontextmenu: stop,\n\t\t\tmousemove: this._onMouseMove,\n\t\t\tmouseup: this._onMouseUp,\n\t\t\tkeydown: this._onKeyDown\n\t\t}, this);\n\t},\n\n\t_onMouseMove: function (e) {\n\t\tif (!this._moved) {\n\t\t\tthis._moved = true;\n\n\t\t\tthis._box = create$1('div', 'leaflet-zoom-box', this._container);\n\t\t\taddClass(this._container, 'leaflet-crosshair');\n\n\t\t\tthis._map.fire('boxzoomstart');\n\t\t}\n\n\t\tthis._point = this._map.mouseEventToContainerPoint(e);\n\n\t\tvar bounds = new Bounds(this._point, this._startPoint),\n\t\t    size = bounds.getSize();\n\n\t\tsetPosition(this._box, bounds.min);\n\n\t\tthis._box.style.width  = size.x + 'px';\n\t\tthis._box.style.height = size.y + 'px';\n\t},\n\n\t_finish: function () {\n\t\tif (this._moved) {\n\t\t\tremove(this._box);\n\t\t\tremoveClass(this._container, 'leaflet-crosshair');\n\t\t}\n\n\t\tenableTextSelection();\n\t\tenableImageDrag();\n\n\t\toff(document, {\n\t\t\tcontextmenu: stop,\n\t\t\tmousemove: this._onMouseMove,\n\t\t\tmouseup: this._onMouseUp,\n\t\t\tkeydown: this._onKeyDown\n\t\t}, this);\n\t},\n\n\t_onMouseUp: function (e) {\n\t\tif ((e.which !== 1) && (e.button !== 1)) { return; }\n\n\t\tthis._finish();\n\n\t\tif (!this._moved) { return; }\n\t\t// Postpone to next JS tick so internal click event handling\n\t\t// still see it as \"moved\".\n\t\tthis._clearDeferredResetState();\n\t\tthis._resetStateTimeout = setTimeout(bind(this._resetState, this), 0);\n\n\t\tvar bounds = new LatLngBounds(\n\t\t        this._map.containerPointToLatLng(this._startPoint),\n\t\t        this._map.containerPointToLatLng(this._point));\n\n\t\tthis._map\n\t\t\t.fitBounds(bounds)\n\t\t\t.fire('boxzoomend', {boxZoomBounds: bounds});\n\t},\n\n\t_onKeyDown: function (e) {\n\t\tif (e.keyCode === 27) {\n\t\t\tthis._finish();\n\t\t}\n\t}\n});\n\n// @section Handlers\n// @property boxZoom: Handler\n// Box (shift-drag with mouse) zoom handler.\nMap.addInitHook('addHandler', 'boxZoom', BoxZoom);\n\n/*\n * L.Handler.DoubleClickZoom is used to handle double-click zoom on the map, enabled by default.\n */\n\n// @namespace Map\n// @section Interaction Options\n\nMap.mergeOptions({\n\t// @option doubleClickZoom: Boolean|String = true\n\t// Whether the map can be zoomed in by double clicking on it and\n\t// zoomed out by double clicking while holding shift. If passed\n\t// `'center'`, double-click zoom will zoom to the center of the\n\t//  view regardless of where the mouse was.\n\tdoubleClickZoom: true\n});\n\nvar DoubleClickZoom = Handler.extend({\n\taddHooks: function () {\n\t\tthis._map.on('dblclick', this._onDoubleClick, this);\n\t},\n\n\tremoveHooks: function () {\n\t\tthis._map.off('dblclick', this._onDoubleClick, this);\n\t},\n\n\t_onDoubleClick: function (e) {\n\t\tvar map = this._map,\n\t\t    oldZoom = map.getZoom(),\n\t\t    delta = map.options.zoomDelta,\n\t\t    zoom = e.originalEvent.shiftKey ? oldZoom - delta : oldZoom + delta;\n\n\t\tif (map.options.doubleClickZoom === 'center') {\n\t\t\tmap.setZoom(zoom);\n\t\t} else {\n\t\t\tmap.setZoomAround(e.containerPoint, zoom);\n\t\t}\n\t}\n});\n\n// @section Handlers\n//\n// Map properties include interaction handlers that allow you to control\n// interaction behavior in runtime, enabling or disabling certain features such\n// as dragging or touch zoom (see `Handler` methods). For example:\n//\n// ```js\n// map.doubleClickZoom.disable();\n// ```\n//\n// @property doubleClickZoom: Handler\n// Double click zoom handler.\nMap.addInitHook('addHandler', 'doubleClickZoom', DoubleClickZoom);\n\n/*\n * L.Handler.MapDrag is used to make the map draggable (with panning inertia), enabled by default.\n */\n\n// @namespace Map\n// @section Interaction Options\nMap.mergeOptions({\n\t// @option dragging: Boolean = true\n\t// Whether the map be draggable with mouse/touch or not.\n\tdragging: true,\n\n\t// @section Panning Inertia Options\n\t// @option inertia: Boolean = *\n\t// If enabled, panning of the map will have an inertia effect where\n\t// the map builds momentum while dragging and continues moving in\n\t// the same direction for some time. Feels especially nice on touch\n\t// devices. Enabled by default unless running on old Android devices.\n\tinertia: !android23,\n\n\t// @option inertiaDeceleration: Number = 3000\n\t// The rate with which the inertial movement slows down, in pixels/second.\n\tinertiaDeceleration: 3400, // px/s^2\n\n\t// @option inertiaMaxSpeed: Number = Infinity\n\t// Max speed of the inertial movement, in pixels/second.\n\tinertiaMaxSpeed: Infinity, // px/s\n\n\t// @option easeLinearity: Number = 0.2\n\teaseLinearity: 0.2,\n\n\t// TODO refactor, move to CRS\n\t// @option worldCopyJump: Boolean = false\n\t// With this option enabled, the map tracks when you pan to another \"copy\"\n\t// of the world and seamlessly jumps to the original one so that all overlays\n\t// like markers and vector layers are still visible.\n\tworldCopyJump: false,\n\n\t// @option maxBoundsViscosity: Number = 0.0\n\t// If `maxBounds` is set, this option will control how solid the bounds\n\t// are when dragging the map around. The default value of `0.0` allows the\n\t// user to drag outside the bounds at normal speed, higher values will\n\t// slow down map dragging outside bounds, and `1.0` makes the bounds fully\n\t// solid, preventing the user from dragging outside the bounds.\n\tmaxBoundsViscosity: 0.0\n});\n\nvar Drag = Handler.extend({\n\taddHooks: function () {\n\t\tif (!this._draggable) {\n\t\t\tvar map = this._map;\n\n\t\t\tthis._draggable = new Draggable(map._mapPane, map._container);\n\n\t\t\tthis._draggable.on({\n\t\t\t\tdragstart: this._onDragStart,\n\t\t\t\tdrag: this._onDrag,\n\t\t\t\tdragend: this._onDragEnd\n\t\t\t}, this);\n\n\t\t\tthis._draggable.on('predrag', this._onPreDragLimit, this);\n\t\t\tif (map.options.worldCopyJump) {\n\t\t\t\tthis._draggable.on('predrag', this._onPreDragWrap, this);\n\t\t\t\tmap.on('zoomend', this._onZoomEnd, this);\n\n\t\t\t\tmap.whenReady(this._onZoomEnd, this);\n\t\t\t}\n\t\t}\n\t\taddClass(this._map._container, 'leaflet-grab leaflet-touch-drag');\n\t\tthis._draggable.enable();\n\t\tthis._positions = [];\n\t\tthis._times = [];\n\t},\n\n\tremoveHooks: function () {\n\t\tremoveClass(this._map._container, 'leaflet-grab');\n\t\tremoveClass(this._map._container, 'leaflet-touch-drag');\n\t\tthis._draggable.disable();\n\t},\n\n\tmoved: function () {\n\t\treturn this._draggable && this._draggable._moved;\n\t},\n\n\tmoving: function () {\n\t\treturn this._draggable && this._draggable._moving;\n\t},\n\n\t_onDragStart: function () {\n\t\tvar map = this._map;\n\n\t\tmap._stop();\n\t\tif (this._map.options.maxBounds && this._map.options.maxBoundsViscosity) {\n\t\t\tvar bounds = toLatLngBounds(this._map.options.maxBounds);\n\n\t\t\tthis._offsetLimit = toBounds(\n\t\t\t\tthis._map.latLngToContainerPoint(bounds.getNorthWest()).multiplyBy(-1),\n\t\t\t\tthis._map.latLngToContainerPoint(bounds.getSouthEast()).multiplyBy(-1)\n\t\t\t\t\t.add(this._map.getSize()));\n\n\t\t\tthis._viscosity = Math.min(1.0, Math.max(0.0, this._map.options.maxBoundsViscosity));\n\t\t} else {\n\t\t\tthis._offsetLimit = null;\n\t\t}\n\n\t\tmap\n\t\t    .fire('movestart')\n\t\t    .fire('dragstart');\n\n\t\tif (map.options.inertia) {\n\t\t\tthis._positions = [];\n\t\t\tthis._times = [];\n\t\t}\n\t},\n\n\t_onDrag: function (e) {\n\t\tif (this._map.options.inertia) {\n\t\t\tvar time = this._lastTime = +new Date(),\n\t\t\t    pos = this._lastPos = this._draggable._absPos || this._draggable._newPos;\n\n\t\t\tthis._positions.push(pos);\n\t\t\tthis._times.push(time);\n\n\t\t\tthis._prunePositions(time);\n\t\t}\n\n\t\tthis._map\n\t\t    .fire('move', e)\n\t\t    .fire('drag', e);\n\t},\n\n\t_prunePositions: function (time) {\n\t\twhile (this._positions.length > 1 && time - this._times[0] > 50) {\n\t\t\tthis._positions.shift();\n\t\t\tthis._times.shift();\n\t\t}\n\t},\n\n\t_onZoomEnd: function () {\n\t\tvar pxCenter = this._map.getSize().divideBy(2),\n\t\t    pxWorldCenter = this._map.latLngToLayerPoint([0, 0]);\n\n\t\tthis._initialWorldOffset = pxWorldCenter.subtract(pxCenter).x;\n\t\tthis._worldWidth = this._map.getPixelWorldBounds().getSize().x;\n\t},\n\n\t_viscousLimit: function (value, threshold) {\n\t\treturn value - (value - threshold) * this._viscosity;\n\t},\n\n\t_onPreDragLimit: function () {\n\t\tif (!this._viscosity || !this._offsetLimit) { return; }\n\n\t\tvar offset = this._draggable._newPos.subtract(this._draggable._startPos);\n\n\t\tvar limit = this._offsetLimit;\n\t\tif (offset.x < limit.min.x) { offset.x = this._viscousLimit(offset.x, limit.min.x); }\n\t\tif (offset.y < limit.min.y) { offset.y = this._viscousLimit(offset.y, limit.min.y); }\n\t\tif (offset.x > limit.max.x) { offset.x = this._viscousLimit(offset.x, limit.max.x); }\n\t\tif (offset.y > limit.max.y) { offset.y = this._viscousLimit(offset.y, limit.max.y); }\n\n\t\tthis._draggable._newPos = this._draggable._startPos.add(offset);\n\t},\n\n\t_onPreDragWrap: function () {\n\t\t// TODO refactor to be able to adjust map pane position after zoom\n\t\tvar worldWidth = this._worldWidth,\n\t\t    halfWidth = Math.round(worldWidth / 2),\n\t\t    dx = this._initialWorldOffset,\n\t\t    x = this._draggable._newPos.x,\n\t\t    newX1 = (x - halfWidth + dx) % worldWidth + halfWidth - dx,\n\t\t    newX2 = (x + halfWidth + dx) % worldWidth - halfWidth - dx,\n\t\t    newX = Math.abs(newX1 + dx) < Math.abs(newX2 + dx) ? newX1 : newX2;\n\n\t\tthis._draggable._absPos = this._draggable._newPos.clone();\n\t\tthis._draggable._newPos.x = newX;\n\t},\n\n\t_onDragEnd: function (e) {\n\t\tvar map = this._map,\n\t\t    options = map.options,\n\n\t\t    noInertia = !options.inertia || this._times.length < 2;\n\n\t\tmap.fire('dragend', e);\n\n\t\tif (noInertia) {\n\t\t\tmap.fire('moveend');\n\n\t\t} else {\n\t\t\tthis._prunePositions(+new Date());\n\n\t\t\tvar direction = this._lastPos.subtract(this._positions[0]),\n\t\t\t    duration = (this._lastTime - this._times[0]) / 1000,\n\t\t\t    ease = options.easeLinearity,\n\n\t\t\t    speedVector = direction.multiplyBy(ease / duration),\n\t\t\t    speed = speedVector.distanceTo([0, 0]),\n\n\t\t\t    limitedSpeed = Math.min(options.inertiaMaxSpeed, speed),\n\t\t\t    limitedSpeedVector = speedVector.multiplyBy(limitedSpeed / speed),\n\n\t\t\t    decelerationDuration = limitedSpeed / (options.inertiaDeceleration * ease),\n\t\t\t    offset = limitedSpeedVector.multiplyBy(-decelerationDuration / 2).round();\n\n\t\t\tif (!offset.x && !offset.y) {\n\t\t\t\tmap.fire('moveend');\n\n\t\t\t} else {\n\t\t\t\toffset = map._limitOffset(offset, map.options.maxBounds);\n\n\t\t\t\trequestAnimFrame(function () {\n\t\t\t\t\tmap.panBy(offset, {\n\t\t\t\t\t\tduration: decelerationDuration,\n\t\t\t\t\t\teaseLinearity: ease,\n\t\t\t\t\t\tnoMoveStart: true,\n\t\t\t\t\t\tanimate: true\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}\n});\n\n// @section Handlers\n// @property dragging: Handler\n// Map dragging handler (by both mouse and touch).\nMap.addInitHook('addHandler', 'dragging', Drag);\n\n/*\n * L.Map.Keyboard is handling keyboard interaction with the map, enabled by default.\n */\n\n// @namespace Map\n// @section Keyboard Navigation Options\nMap.mergeOptions({\n\t// @option keyboard: Boolean = true\n\t// Makes the map focusable and allows users to navigate the map with keyboard\n\t// arrows and `+`/`-` keys.\n\tkeyboard: true,\n\n\t// @option keyboardPanDelta: Number = 80\n\t// Amount of pixels to pan when pressing an arrow key.\n\tkeyboardPanDelta: 80\n});\n\nvar Keyboard = Handler.extend({\n\n\tkeyCodes: {\n\t\tleft:    [37],\n\t\tright:   [39],\n\t\tdown:    [40],\n\t\tup:      [38],\n\t\tzoomIn:  [187, 107, 61, 171],\n\t\tzoomOut: [189, 109, 54, 173]\n\t},\n\n\tinitialize: function (map) {\n\t\tthis._map = map;\n\n\t\tthis._setPanDelta(map.options.keyboardPanDelta);\n\t\tthis._setZoomDelta(map.options.zoomDelta);\n\t},\n\n\taddHooks: function () {\n\t\tvar container = this._map._container;\n\n\t\t// make the container focusable by tabbing\n\t\tif (container.tabIndex <= 0) {\n\t\t\tcontainer.tabIndex = '0';\n\t\t}\n\n\t\ton(container, {\n\t\t\tfocus: this._onFocus,\n\t\t\tblur: this._onBlur,\n\t\t\tmousedown: this._onMouseDown\n\t\t}, this);\n\n\t\tthis._map.on({\n\t\t\tfocus: this._addHooks,\n\t\t\tblur: this._removeHooks\n\t\t}, this);\n\t},\n\n\tremoveHooks: function () {\n\t\tthis._removeHooks();\n\n\t\toff(this._map._container, {\n\t\t\tfocus: this._onFocus,\n\t\t\tblur: this._onBlur,\n\t\t\tmousedown: this._onMouseDown\n\t\t}, this);\n\n\t\tthis._map.off({\n\t\t\tfocus: this._addHooks,\n\t\t\tblur: this._removeHooks\n\t\t}, this);\n\t},\n\n\t_onMouseDown: function () {\n\t\tif (this._focused) { return; }\n\n\t\tvar body = document.body,\n\t\t    docEl = document.documentElement,\n\t\t    top = body.scrollTop || docEl.scrollTop,\n\t\t    left = body.scrollLeft || docEl.scrollLeft;\n\n\t\tthis._map._container.focus();\n\n\t\twindow.scrollTo(left, top);\n\t},\n\n\t_onFocus: function () {\n\t\tthis._focused = true;\n\t\tthis._map.fire('focus');\n\t},\n\n\t_onBlur: function () {\n\t\tthis._focused = false;\n\t\tthis._map.fire('blur');\n\t},\n\n\t_setPanDelta: function (panDelta) {\n\t\tvar keys = this._panKeys = {},\n\t\t    codes = this.keyCodes,\n\t\t    i, len;\n\n\t\tfor (i = 0, len = codes.left.length; i < len; i++) {\n\t\t\tkeys[codes.left[i]] = [-1 * panDelta, 0];\n\t\t}\n\t\tfor (i = 0, len = codes.right.length; i < len; i++) {\n\t\t\tkeys[codes.right[i]] = [panDelta, 0];\n\t\t}\n\t\tfor (i = 0, len = codes.down.length; i < len; i++) {\n\t\t\tkeys[codes.down[i]] = [0, panDelta];\n\t\t}\n\t\tfor (i = 0, len = codes.up.length; i < len; i++) {\n\t\t\tkeys[codes.up[i]] = [0, -1 * panDelta];\n\t\t}\n\t},\n\n\t_setZoomDelta: function (zoomDelta) {\n\t\tvar keys = this._zoomKeys = {},\n\t\t    codes = this.keyCodes,\n\t\t    i, len;\n\n\t\tfor (i = 0, len = codes.zoomIn.length; i < len; i++) {\n\t\t\tkeys[codes.zoomIn[i]] = zoomDelta;\n\t\t}\n\t\tfor (i = 0, len = codes.zoomOut.length; i < len; i++) {\n\t\t\tkeys[codes.zoomOut[i]] = -zoomDelta;\n\t\t}\n\t},\n\n\t_addHooks: function () {\n\t\ton(document, 'keydown', this._onKeyDown, this);\n\t},\n\n\t_removeHooks: function () {\n\t\toff(document, 'keydown', this._onKeyDown, this);\n\t},\n\n\t_onKeyDown: function (e) {\n\t\tif (e.altKey || e.ctrlKey || e.metaKey) { return; }\n\n\t\tvar key = e.keyCode,\n\t\t    map = this._map,\n\t\t    offset;\n\n\t\tif (key in this._panKeys) {\n\t\t\tif (!map._panAnim || !map._panAnim._inProgress) {\n\t\t\t\toffset = this._panKeys[key];\n\t\t\t\tif (e.shiftKey) {\n\t\t\t\t\toffset = toPoint(offset).multiplyBy(3);\n\t\t\t\t}\n\n\t\t\t\tmap.panBy(offset);\n\n\t\t\t\tif (map.options.maxBounds) {\n\t\t\t\t\tmap.panInsideBounds(map.options.maxBounds);\n\t\t\t\t}\n\t\t\t}\n\t\t} else if (key in this._zoomKeys) {\n\t\t\tmap.setZoom(map.getZoom() + (e.shiftKey ? 3 : 1) * this._zoomKeys[key]);\n\n\t\t} else if (key === 27 && map._popup && map._popup.options.closeOnEscapeKey) {\n\t\t\tmap.closePopup();\n\n\t\t} else {\n\t\t\treturn;\n\t\t}\n\n\t\tstop(e);\n\t}\n});\n\n// @section Handlers\n// @section Handlers\n// @property keyboard: Handler\n// Keyboard navigation handler.\nMap.addInitHook('addHandler', 'keyboard', Keyboard);\n\n/*\n * L.Handler.ScrollWheelZoom is used by L.Map to enable mouse scroll wheel zoom on the map.\n */\n\n// @namespace Map\n// @section Interaction Options\nMap.mergeOptions({\n\t// @section Mouse wheel options\n\t// @option scrollWheelZoom: Boolean|String = true\n\t// Whether the map can be zoomed by using the mouse wheel. If passed `'center'`,\n\t// it will zoom to the center of the view regardless of where the mouse was.\n\tscrollWheelZoom: true,\n\n\t// @option wheelDebounceTime: Number = 40\n\t// Limits the rate at which a wheel can fire (in milliseconds). By default\n\t// user can't zoom via wheel more often than once per 40 ms.\n\twheelDebounceTime: 40,\n\n\t// @option wheelPxPerZoomLevel: Number = 60\n\t// How many scroll pixels (as reported by [L.DomEvent.getWheelDelta](#domevent-getwheeldelta))\n\t// mean a change of one full zoom level. Smaller values will make wheel-zooming\n\t// faster (and vice versa).\n\twheelPxPerZoomLevel: 60\n});\n\nvar ScrollWheelZoom = Handler.extend({\n\taddHooks: function () {\n\t\ton(this._map._container, 'wheel', this._onWheelScroll, this);\n\n\t\tthis._delta = 0;\n\t},\n\n\tremoveHooks: function () {\n\t\toff(this._map._container, 'wheel', this._onWheelScroll, this);\n\t},\n\n\t_onWheelScroll: function (e) {\n\t\tvar delta = getWheelDelta(e);\n\n\t\tvar debounce = this._map.options.wheelDebounceTime;\n\n\t\tthis._delta += delta;\n\t\tthis._lastMousePos = this._map.mouseEventToContainerPoint(e);\n\n\t\tif (!this._startTime) {\n\t\t\tthis._startTime = +new Date();\n\t\t}\n\n\t\tvar left = Math.max(debounce - (+new Date() - this._startTime), 0);\n\n\t\tclearTimeout(this._timer);\n\t\tthis._timer = setTimeout(bind(this._performZoom, this), left);\n\n\t\tstop(e);\n\t},\n\n\t_performZoom: function () {\n\t\tvar map = this._map,\n\t\t    zoom = map.getZoom(),\n\t\t    snap = this._map.options.zoomSnap || 0;\n\n\t\tmap._stop(); // stop panning and fly animations if any\n\n\t\t// map the delta with a sigmoid function to -4..4 range leaning on -1..1\n\t\tvar d2 = this._delta / (this._map.options.wheelPxPerZoomLevel * 4),\n\t\t    d3 = 4 * Math.log(2 / (1 + Math.exp(-Math.abs(d2)))) / Math.LN2,\n\t\t    d4 = snap ? Math.ceil(d3 / snap) * snap : d3,\n\t\t    delta = map._limitZoom(zoom + (this._delta > 0 ? d4 : -d4)) - zoom;\n\n\t\tthis._delta = 0;\n\t\tthis._startTime = null;\n\n\t\tif (!delta) { return; }\n\n\t\tif (map.options.scrollWheelZoom === 'center') {\n\t\t\tmap.setZoom(zoom + delta);\n\t\t} else {\n\t\t\tmap.setZoomAround(this._lastMousePos, zoom + delta);\n\t\t}\n\t}\n});\n\n// @section Handlers\n// @property scrollWheelZoom: Handler\n// Scroll wheel zoom handler.\nMap.addInitHook('addHandler', 'scrollWheelZoom', ScrollWheelZoom);\n\n/*\n * L.Map.Tap is used to enable mobile hacks like quick taps and long hold.\n */\n\n// @namespace Map\n// @section Interaction Options\nMap.mergeOptions({\n\t// @section Touch interaction options\n\t// @option tap: Boolean = true\n\t// Enables mobile hacks for supporting instant taps (fixing 200ms click\n\t// delay on iOS/Android) and touch holds (fired as `contextmenu` events).\n\ttap: true,\n\n\t// @option tapTolerance: Number = 15\n\t// The max number of pixels a user can shift his finger during touch\n\t// for it to be considered a valid tap.\n\ttapTolerance: 15\n});\n\nvar Tap = Handler.extend({\n\taddHooks: function () {\n\t\ton(this._map._container, 'touchstart', this._onDown, this);\n\t},\n\n\tremoveHooks: function () {\n\t\toff(this._map._container, 'touchstart', this._onDown, this);\n\t},\n\n\t_onDown: function (e) {\n\t\tif (!e.touches) { return; }\n\n\t\tpreventDefault(e);\n\n\t\tthis._fireClick = true;\n\n\t\t// don't simulate click or track longpress if more than 1 touch\n\t\tif (e.touches.length > 1) {\n\t\t\tthis._fireClick = false;\n\t\t\tclearTimeout(this._holdTimeout);\n\t\t\treturn;\n\t\t}\n\n\t\tvar first = e.touches[0],\n\t\t    el = first.target;\n\n\t\tthis._startPos = this._newPos = new Point(first.clientX, first.clientY);\n\n\t\t// if touching a link, highlight it\n\t\tif (el.tagName && el.tagName.toLowerCase() === 'a') {\n\t\t\taddClass(el, 'leaflet-active');\n\t\t}\n\n\t\t// simulate long hold but setting a timeout\n\t\tthis._holdTimeout = setTimeout(bind(function () {\n\t\t\tif (this._isTapValid()) {\n\t\t\t\tthis._fireClick = false;\n\t\t\t\tthis._onUp();\n\t\t\t\tthis._simulateEvent('contextmenu', first);\n\t\t\t}\n\t\t}, this), 1000);\n\n\t\tthis._simulateEvent('mousedown', first);\n\n\t\ton(document, {\n\t\t\ttouchmove: this._onMove,\n\t\t\ttouchend: this._onUp\n\t\t}, this);\n\t},\n\n\t_onUp: function (e) {\n\t\tclearTimeout(this._holdTimeout);\n\n\t\toff(document, {\n\t\t\ttouchmove: this._onMove,\n\t\t\ttouchend: this._onUp\n\t\t}, this);\n\n\t\tif (this._fireClick && e && e.changedTouches) {\n\n\t\t\tvar first = e.changedTouches[0],\n\t\t\t    el = first.target;\n\n\t\t\tif (el && el.tagName && el.tagName.toLowerCase() === 'a') {\n\t\t\t\tremoveClass(el, 'leaflet-active');\n\t\t\t}\n\n\t\t\tthis._simulateEvent('mouseup', first);\n\n\t\t\t// simulate click if the touch didn't move too much\n\t\t\tif (this._isTapValid()) {\n\t\t\t\tthis._simulateEvent('click', first);\n\t\t\t}\n\t\t}\n\t},\n\n\t_isTapValid: function () {\n\t\treturn this._newPos.distanceTo(this._startPos) <= this._map.options.tapTolerance;\n\t},\n\n\t_onMove: function (e) {\n\t\tvar first = e.touches[0];\n\t\tthis._newPos = new Point(first.clientX, first.clientY);\n\t\tthis._simulateEvent('mousemove', first);\n\t},\n\n\t_simulateEvent: function (type, e) {\n\t\tvar simulatedEvent = document.createEvent('MouseEvents');\n\n\t\tsimulatedEvent._simulated = true;\n\t\te.target._simulatedClick = true;\n\n\t\tsimulatedEvent.initMouseEvent(\n\t\t        type, true, true, window, 1,\n\t\t        e.screenX, e.screenY,\n\t\t        e.clientX, e.clientY,\n\t\t        false, false, false, false, 0, null);\n\n\t\te.target.dispatchEvent(simulatedEvent);\n\t}\n});\n\n// @section Handlers\n// @property tap: Handler\n// Mobile touch hacks (quick tap and touch hold) handler.\nif (touch && (!pointer || safari)) {\n\tMap.addInitHook('addHandler', 'tap', Tap);\n}\n\n/*\n * L.Handler.TouchZoom is used by L.Map to add pinch zoom on supported mobile browsers.\n */\n\n// @namespace Map\n// @section Interaction Options\nMap.mergeOptions({\n\t// @section Touch interaction options\n\t// @option touchZoom: Boolean|String = *\n\t// Whether the map can be zoomed by touch-dragging with two fingers. If\n\t// passed `'center'`, it will zoom to the center of the view regardless of\n\t// where the touch events (fingers) were. Enabled for touch-capable web\n\t// browsers except for old Androids.\n\ttouchZoom: touch && !android23,\n\n\t// @option bounceAtZoomLimits: Boolean = true\n\t// Set it to false if you don't want the map to zoom beyond min/max zoom\n\t// and then bounce back when pinch-zooming.\n\tbounceAtZoomLimits: true\n});\n\nvar TouchZoom = Handler.extend({\n\taddHooks: function () {\n\t\taddClass(this._map._container, 'leaflet-touch-zoom');\n\t\ton(this._map._container, 'touchstart', this._onTouchStart, this);\n\t},\n\n\tremoveHooks: function () {\n\t\tremoveClass(this._map._container, 'leaflet-touch-zoom');\n\t\toff(this._map._container, 'touchstart', this._onTouchStart, this);\n\t},\n\n\t_onTouchStart: function (e) {\n\t\tvar map = this._map;\n\t\tif (!e.touches || e.touches.length !== 2 || map._animatingZoom || this._zooming) { return; }\n\n\t\tvar p1 = map.mouseEventToContainerPoint(e.touches[0]),\n\t\t    p2 = map.mouseEventToContainerPoint(e.touches[1]);\n\n\t\tthis._centerPoint = map.getSize()._divideBy(2);\n\t\tthis._startLatLng = map.containerPointToLatLng(this._centerPoint);\n\t\tif (map.options.touchZoom !== 'center') {\n\t\t\tthis._pinchStartLatLng = map.containerPointToLatLng(p1.add(p2)._divideBy(2));\n\t\t}\n\n\t\tthis._startDist = p1.distanceTo(p2);\n\t\tthis._startZoom = map.getZoom();\n\n\t\tthis._moved = false;\n\t\tthis._zooming = true;\n\n\t\tmap._stop();\n\n\t\ton(document, 'touchmove', this._onTouchMove, this);\n\t\ton(document, 'touchend', this._onTouchEnd, this);\n\n\t\tpreventDefault(e);\n\t},\n\n\t_onTouchMove: function (e) {\n\t\tif (!e.touches || e.touches.length !== 2 || !this._zooming) { return; }\n\n\t\tvar map = this._map,\n\t\t    p1 = map.mouseEventToContainerPoint(e.touches[0]),\n\t\t    p2 = map.mouseEventToContainerPoint(e.touches[1]),\n\t\t    scale = p1.distanceTo(p2) / this._startDist;\n\n\t\tthis._zoom = map.getScaleZoom(scale, this._startZoom);\n\n\t\tif (!map.options.bounceAtZoomLimits && (\n\t\t\t(this._zoom < map.getMinZoom() && scale < 1) ||\n\t\t\t(this._zoom > map.getMaxZoom() && scale > 1))) {\n\t\t\tthis._zoom = map._limitZoom(this._zoom);\n\t\t}\n\n\t\tif (map.options.touchZoom === 'center') {\n\t\t\tthis._center = this._startLatLng;\n\t\t\tif (scale === 1) { return; }\n\t\t} else {\n\t\t\t// Get delta from pinch to center, so centerLatLng is delta applied to initial pinchLatLng\n\t\t\tvar delta = p1._add(p2)._divideBy(2)._subtract(this._centerPoint);\n\t\t\tif (scale === 1 && delta.x === 0 && delta.y === 0) { return; }\n\t\t\tthis._center = map.unproject(map.project(this._pinchStartLatLng, this._zoom).subtract(delta), this._zoom);\n\t\t}\n\n\t\tif (!this._moved) {\n\t\t\tmap._moveStart(true, false);\n\t\t\tthis._moved = true;\n\t\t}\n\n\t\tcancelAnimFrame(this._animRequest);\n\n\t\tvar moveFn = bind(map._move, map, this._center, this._zoom, {pinch: true, round: false});\n\t\tthis._animRequest = requestAnimFrame(moveFn, this, true);\n\n\t\tpreventDefault(e);\n\t},\n\n\t_onTouchEnd: function () {\n\t\tif (!this._moved || !this._zooming) {\n\t\t\tthis._zooming = false;\n\t\t\treturn;\n\t\t}\n\n\t\tthis._zooming = false;\n\t\tcancelAnimFrame(this._animRequest);\n\n\t\toff(document, 'touchmove', this._onTouchMove, this);\n\t\toff(document, 'touchend', this._onTouchEnd, this);\n\n\t\t// Pinch updates GridLayers' levels only when zoomSnap is off, so zoomSnap becomes noUpdate.\n\t\tif (this._map.options.zoomAnimation) {\n\t\t\tthis._map._animateZoom(this._center, this._map._limitZoom(this._zoom), true, this._map.options.zoomSnap);\n\t\t} else {\n\t\t\tthis._map._resetView(this._center, this._map._limitZoom(this._zoom));\n\t\t}\n\t}\n});\n\n// @section Handlers\n// @property touchZoom: Handler\n// Touch zoom handler.\nMap.addInitHook('addHandler', 'touchZoom', TouchZoom);\n\nMap.BoxZoom = BoxZoom;\nMap.DoubleClickZoom = DoubleClickZoom;\nMap.Drag = Drag;\nMap.Keyboard = Keyboard;\nMap.ScrollWheelZoom = ScrollWheelZoom;\nMap.Tap = Tap;\nMap.TouchZoom = TouchZoom;\n\nfunction parseCoords(coord) {\n    const regExp = /^(\\-?\\d+(?:\\.\\d+)?),\\s*(\\-?\\d+(?:\\.\\d+)?)$/;\n    const result = regExp.exec(coord);\n    if (result !== null) {\n        return result.slice(1);\n    }\n    else {\n        return tryParseGeoJson(coord);\n    }\n}\nfunction tryParseGeoJson(coord) {\n    let geoObject;\n    try {\n        geoObject = JSON.parse(coord);\n    }\n    catch (e) {\n        return null;\n    }\n    const hasType = geoObject.hasOwnProperty(\"type\");\n    if (hasType) {\n        switch (geoObject.type) {\n            case \"Point\":\n            case \"MultiPoint\":\n            case \"LineString\":\n            case \"MultiLineString\":\n            case \"Polygon\":\n            case \"MultiPolygon\":\n                return geoObject.coordinates;\n            case \"FeatureCollection\":\n                return geoObject.features;\n        }\n    }\n    else {\n        const hasGeography = geoObject.hasOwnProperty(\"Geography\");\n        if (hasGeography) {\n            return geoObject;\n        }\n        else {\n            const isArray = geoObject[0].hasOwnProperty(\"Geography\") && Array.isArray(geoObject);\n            if (isArray) {\n                geoObject.IsLayersArray = true;\n                return geoObject;\n            }\n        }\n    }\n    return geoObject;\n}\n\nexport { FeatureGroup as F, polyline as a, createMap as c, divIcon as d, marker as m, parseCoords as p, tileLayer as t };\n"],"names":["extend","dest","i","j","len","src","arguments","length","create","Object","F","proto","prototype","bind","fn","obj","slice","Array","apply","call","args","concat","lastId","stamp","_leaflet_id","throttle","time","context","lock","wrapperFn","later","setTimeout","wrapNum","x","range","includeMax","max","min","d","falseFn","formatNum","num","digits","pow","Math","undefined","round","trim","str","replace","splitWords","split","setOptions","options","hasOwnProperty","getParamString","existingUrl","uppercase","params","push","encodeURIComponent","toUpperCase","indexOf","join","templateRe","template","data","key","value","Error","isArray","toString","array","el","emptyImageUrl","getPrefixed","name","window","lastTime","timeoutDefer","Date","timeToCall","requestFn","requestAnimationFrame","cancelFn","cancelAnimationFrame","id","clearTimeout","requestAnimFrame","immediate","cancelAnimFrame","Class","props","NewClass","initialize","callInitHooks","parentProto","__super__","constructor","statics","includes","checkDeprecatedMixinEvents","_initHooks","_initHooksCalled","include","mergeOptions","addInitHook","init","L","Mixin","Events","console","warn","stack","on","types","type","_on","off","_events","_off","typeListeners","newListener","ctx","listeners","l","_firingCount","splice","fire","propagate","listens","event","target","sourceTarget","_propagateEvent","_eventParents","once","handler","addEventParent","removeEventParent","e","layer","propagatedFrom","addEventListener","removeEventListener","clearAllEventListeners","addOneTimeEventListener","fireEvent","hasEventListeners","Evented","Point","y","trunc","v","floor","ceil","clone","add","point","_add","toPoint","subtract","_subtract","divideBy","_divideBy","multiplyBy","_multiplyBy","scaleBy","unscaleBy","_round","_floor","_ceil","_trunc","distanceTo","sqrt","equals","contains","abs","Bounds","a","b","points","getCenter","getBottomLeft","getTopRight","getTopLeft","getBottomRight","getSize","toBounds","intersects","bounds","min2","max2","xIntersects","yIntersects","overlaps","xOverlaps","yOverlaps","isValid","LatLngBounds","corner1","corner2","latlngs","sw","_southWest","ne","_northEast","sw2","ne2","LatLng","toLatLng","toLatLngBounds","lat","lng","pad","bufferRatio","heightBuffer","widthBuffer","getSouthWest","getNorthEast","getNorthWest","getNorth","getWest","getSouthEast","getSouth","getEast","latIntersects","lngIntersects","latOverlaps","lngOverlaps","toBBoxString","maxMargin","alt","isNaN","margin","precision","other","Earth","distance","wrap","wrapLatLng","sizeInMeters","latAccuracy","lngAccuracy","cos","PI","c","lon","CRS","latLngToPoint","latlng","zoom","projectedPoint","projection","project","scale","transformation","_transform","pointToLatLng","untransformedPoint","untransform","unproject","log","LN2","getProjectedBounds","infinite","s","transform","wrapLng","wrapLat","wrapLatLngBounds","center","newCenter","latShift","lngShift","newSw","newNe","R","latlng1","latlng2","rad","lat1","lat2","sinDLat","sin","sinDLon","atan2","earthRadius","SphericalMercator","MAX_LATITUDE","atan","exp","Transformation","_a","_b","_c","_d","toTransformation","EPSG3857","code","EPSG900913","svgCreate","document","createElementNS","pointsToPath","rings","closed","len2","p","svg","style$1","documentElement","style","ie","ielt9","edge","navigator","webkit","userAgentContains","android","android23","webkitVer","parseInt","exec","userAgent","androidStock","opera","chrome","gecko","safari","phantom","opera12","win","platform","ie3d","webkit3d","WebKitCSSMatrix","gecko3d","any3d","L_DISABLE_3D","mobile","orientation","msPointer","PointerEvent","MSPointerEvent","pointer","touch","L_NO_TOUCH","DocumentTouch","mobileOpera","retina","devicePixelRatio","screen","deviceXDPI","logicalXDPI","passiveEvents","supportsPassiveOption","opts","defineProperty","get","canvas","createElement","getContext","createSVGRect","vml","div","innerHTML","shape","firstChild","behavior","adj","toLowerCase","POINTER_DOWN","POINTER_MOVE","POINTER_UP","POINTER_CANCEL","_pointers","_pointerDocListener","addPointerListener","_addPointerStart","_addPointerMove","_addPointerEnd","removePointerListener","onDown","MSPOINTER_TYPE_TOUCH","pointerType","preventDefault","_handlePointer","_globalPointerDown","_globalPointerMove","_globalPointerUp","pointerId","touches","changedTouches","onMove","MSPOINTER_TYPE_MOUSE","buttons","onUp","_touchstart","_touchend","_pre","addDoubleTapListener","last","touch$$1","doubleTap","delay","onTouchStart","isPrimary","now","delta","onTouchEnd","cancelBubble","newTouch","prop","button","passive","removeDoubleTapListener","touchstart","touchend","dblclick","TRANSFORM","testProp","TRANSITION","TRANSITION_END","getElementById","getStyle","currentStyle","defaultView","css","getComputedStyle","create$1","tagName","className","container","appendChild","remove","parent","parentNode","removeChild","empty","toFront","lastChild","toBack","insertBefore","hasClass","classList","getClass","RegExp","test","addClass","classes","setClass","removeClass","baseVal","correspondingElement","setOpacity","opacity","_setOpacityIE","filter","filterName","filters","item","Enabled","Opacity","setTransform","offset","pos","setPosition","_leaflet_pos","left","top","getPosition","disableTextSelection","enableTextSelection","_userSelect","userSelectProperty","disableImageDrag","enableImageDrag","_outlineElement","_outlineStyle","preventOutline","element","tabIndex","restoreOutline","outline","getSizedParentNode","offsetWidth","offsetHeight","body","getScale","rect","getBoundingClientRect","width","height","boundingClientRect","addOne","eventsKey","removeOne","browserFiresNativeDblClick","mouseSubst","mouseenter","mouseleave","wheel","originalHandler","isExternalTarget","attachEvent","detachEvent","stopPropagation","originalEvent","_stopped","skipped","disableScrollPropagation","disableClickPropagation","fakeStop","returnValue","stop","getMousePosition","clientX","clientY","clientLeft","clientTop","wheelPxFactor","getWheelDelta","wheelDeltaY","deltaY","deltaMode","deltaX","deltaZ","wheelDelta","detail","skipEvents","events","related","relatedTarget","err","PosAnimation","run","newPos","duration","easeLinearity","_el","_inProgress","_duration","_easeOutPower","_startPos","_offset","_startTime","_animate","_step","_complete","_animId","elapsed","_runFrame","_easeOut","progress","t","Map","crs","minZoom","maxZoom","layers","maxBounds","renderer","zoomAnimation","zoomAnimationThreshold","fadeAnimation","markerZoomAnimation","transform3DLimit","zoomSnap","zoomDelta","trackResize","_handlers","_layers","_zoomBoundLayers","_sizeChanged","_initContainer","_initLayout","_onResize","_initEvents","setMaxBounds","_zoom","_limitZoom","setView","reset","_zoomAnimated","_createAnimProxy","_proxy","_catchTransitionEnd","_addLayers","_limitCenter","_stop","_loaded","animate","pan","moved","_tryAnimatedZoom","_tryAnimatedPan","_sizeTimer","_resetView","setZoom","zoomIn","zoomOut","setZoomAround","getZoomScale","viewHalf","containerPoint","latLngToContainerPoint","centerOffset","containerPointToLatLng","_getBoundsCenterZoom","getBounds","paddingTL","paddingTopLeft","padding","paddingBR","paddingBottomRight","getBoundsZoom","Infinity","paddingOffset","swPoint","nePoint","fitBounds","fitWorld","panTo","panBy","getZoom","_panAnim","_onPanTransitionStep","_onPanTransitionEnd","noMoveStart","_mapPane","_getMapPanePos","_rawPanBy","flyTo","targetCenter","targetZoom","from","to","size","startZoom","w0","w1","u1","rho","rho2","r","s1","s2","t1","b1","sq","sinh","n","cosh","tanh","r0","w","u","easeOut","start","S","frame","_flyToFrame","_move","getScaleZoom","_moveEnd","_moveStart","flyToBounds","_panInsideMaxBounds","setMinZoom","oldZoom","setMaxZoom","panInsideBounds","_enforcingBounds","panInside","pixelCenter","pixelPoint","pixelBounds","getPixelBounds","halfPixelBounds","paddedBounds","diff","invalidateSize","oldSize","_lastCenter","newSize","oldCenter","debounceMoveend","locate","_locateOptions","timeout","watch","_handleGeolocationError","message","onResponse","_handleGeolocationResponse","onError","_locationWatchId","geolocation","watchPosition","getCurrentPosition","stopLocate","clearWatch","error","coords","latitude","longitude","accuracy","timestamp","addHandler","HandlerClass","enable","_containerId","_container","_clearControlPos","_resizeRequest","_clearHandlers","_panes","_renderer","createPane","pane","_checkIfLoaded","_moved","layerPointToLatLng","_getCenterLayerPoint","getMinZoom","_layersMinZoom","getMaxZoom","_layersMaxZoom","inside","nw","se","boundsSize","snap","scalex","scaley","_size","clientWidth","clientHeight","topLeftPoint","_getTopLeftPoint","getPixelOrigin","_pixelOrigin","getPixelWorldBounds","getPane","getPanes","getContainer","toZoom","fromZoom","latLngToLayerPoint","containerPointToLayerPoint","layerPointToContainerPoint","layerPoint","mouseEventToContainerPoint","mouseEventToLayerPoint","mouseEventToLatLng","_onScroll","_fadeAnimated","position","_initPanes","_initControlPos","panes","_paneRenderers","markerPane","shadowPane","loading","zoomChanged","_getNewPixelOrigin","pinch","_getZoomSpan","remove$$1","_targets","onOff","_handleDOMEvent","_onMoveEnd","scrollTop","scrollLeft","_findEventTargets","targets","isHover","srcElement","dragging","_simulated","_draggableMoved","_fireDOMEvent","_mouseEvents","synth","isMarker","getLatLng","_radius","bubblingMouseEvents","enabled","boxZoom","disable","whenReady","callback","pixelOrigin","_latLngToNewLayerPoint","topLeft","_latLngBoundsToNewLayerBounds","latLngBounds","_getCenterOffset","centerPoint","viewBounds","_getBoundsOffset","_limitOffset","newBounds","pxBounds","projectedMaxBounds","minOffset","maxOffset","dx","_rebound","dy","right","proxy","mapPane","_animatingZoom","_onZoomTransitionEnd","_animMoveEnd","_destroyAnimProxy","z","propertyName","_nothingToAnimate","getElementsByClassName","_animateZoom","startAnim","noUpdate","_animateToCenter","_animateToZoom","createMap","Control","map","_map","removeControl","addControl","addTo","onAdd","corner","_controlCorners","onRemove","_refocusOnMap","screenX","screenY","focus","control","corners","_controlContainer","createCorner","vSide","hSide","Layers","collapsed","autoZIndex","hideSingleBase","sortLayers","sortFunction","layerA","layerB","nameA","nameB","baseLayers","overlays","_layerControlInputs","_lastZIndex","_handlingClick","_addLayer","_update","_checkDisabledLayers","_onLayerChange","_expandIfNotCollapsed","addBaseLayer","addOverlay","removeLayer","_getLayer","expand","_section","acceptableHeight","offsetTop","collapse","setAttribute","section","link","_layersLink","href","title","_baseLayersList","_separator","_overlaysList","overlay","sort","setZIndex","baseLayersPresent","overlaysPresent","baseLayersCount","_addItem","display","_createRadioElement","checked","radioHtml","radioFragment","label","hasLayer","input","defaultChecked","layerId","_onInputClick","holder","inputs","addedLayers","removedLayers","addLayer","disabled","_expand","_collapse","Zoom","zoomInText","zoomInTitle","zoomOutText","zoomOutTitle","zoomName","_zoomInButton","_createButton","_zoomIn","_zoomOutButton","_zoomOut","_updateDisabled","_disabled","shiftKey","html","zoomControl","Scale","maxWidth","metric","imperial","_addScales","updateWhenIdle","_mScale","_iScale","maxMeters","_updateScales","_updateMetric","_updateImperial","meters","_getRoundNum","_updateScale","maxFeet","maxMiles","miles","feet","text","ratio","pow10","Attribution","prefix","_attributions","attributionControl","getAttribution","addAttribution","setPrefix","removeAttribution","attribs","prefixAndAttribs","Handler","_enabled","addHooks","removeHooks","START","END","mousedown","pointerdown","MSPointerDown","MOVE","Draggable","clickTolerance","dragStartTarget","preventOutline$$1","_element","_dragStartTarget","_preventOutline","_onDown","_dragging","finishDrag","which","_moving","first","sizedParent","_startPoint","_parentScale","_onMove","_onUp","_lastTarget","SVGElementInstance","correspondingUseElement","_newPos","_animRequest","_lastEvent","_updatePosition","simplify","tolerance","sqTolerance","_reducePoints","_simplifyDP","pointToSegmentDistance","p1","p2","_sqClosestPointOnSegment","ArrayConstructor","Uint8Array","markers","_simplifyDPStep","newPoints","maxSqDist","index","sqDist","reducedPoints","prev","_sqDist","_lastCode","clipSegment","useLastCode","codeA","_getBitCode","codeB","codeOut","newCode","_getEdgeIntersection","dot","isFlat","_flat","clipPolygon","clippedPoints","edges","k","_code","LonLat","Mercator","R_MINOR","tmp","con","ts","tan","phi","dphi","EPSG3395","EPSG4326","Simple","Layer","attribution","removeFrom","_mapToAdd","addInteractiveTarget","targetEl","removeInteractiveTarget","_layerAdd","getEvents","beforeAdd","eachLayer","method","_addZoomLimit","_updateZoomLevels","_removeZoomLimit","oldZoomSpan","LayerGroup","getLayerId","clearLayers","invoke","methodName","getLayer","getLayers","zIndex","FeatureGroup","setStyle","bringToFront","bringToBack","Icon","popupAnchor","tooltipAnchor","createIcon","oldIcon","_createIcon","createShadow","_getIconUrl","img","_createImg","_setIconStyles","sizeOption","anchor","shadowAnchor","iconAnchor","marginLeft","marginTop","IconDefault","iconUrl","iconRetinaUrl","shadowUrl","iconSize","shadowSize","imagePath","_detectIconPath","path","MarkerDrag","marker","_marker","icon","_icon","_draggable","dragstart","_onDragStart","predrag","_onPreDrag","drag","_onDrag","dragend","_onDragEnd","_adjustPan","speed","autoPanSpeed","autoPanPadding","iconPos","origin","panBounds","movement","_panRequest","_oldLatLng","closePopup","autoPan","shadow","_shadow","_latlng","oldLatLng","Marker","interactive","keyboard","zIndexOffset","riseOnHover","riseOffset","draggable","_initIcon","update","_removeIcon","_removeShadow","viewreset","setLatLng","setZIndexOffset","getIcon","setIcon","_popup","bindPopup","getElement","_setPos","classToAdd","addIcon","mouseover","_bringToFront","mouseout","_resetZIndex","newShadow","addShadow","_updateOpacity","_initInteraction","_zIndex","_updateZIndex","opt","_getPopupAnchor","_getTooltipAnchor","Path","stroke","color","weight","lineCap","lineJoin","dashArray","dashOffset","fill","fillColor","fillOpacity","fillRule","getRenderer","_initPath","_reset","_addPath","_removePath","redraw","_updatePath","_updateStyle","_updateBounds","_bringToBack","_path","_project","_clickTolerance","CircleMarker","radius","setRadius","getRadius","_point","r2","_radiusY","_pxBounds","_updateCircle","_empty","_bounds","_containsPoint","Circle","legacyOptions","_mRadius","half","latR","bottom","lngR","acos","Polyline","smoothFactor","noClip","_setLatLngs","getLatLngs","_latlngs","setLatLngs","isEmpty","closestLayerPoint","minDistance","minPoint","closest","jLen","_parts","halfDist","segDist","dist","_rings","addLatLng","_defaultShape","_convertLatLngs","result","flat","_projectLatlngs","_rawPxBounds","projectedBounds","ring","_clipPoints","parts","segment","_simplifyPoints","_updatePoly","part","polyline","Polygon","f","area","pop","clipped","GeoJSON","geojson","addData","features","feature","geometries","geometry","coordinates","geometryToLayer","asFeature","defaultOptions","resetStyle","onEachFeature","_setLayerStyle","pointToLayer","_coordsToLatLng","coordsToLatLng","_pointToLayer","coordsToLatLngs","properties","pointToLayerFn","markersInheritOptions","levelsDeep","latLngToCoords","latLngsToCoords","getFeature","newGeometry","PointToGeoJSON","toGeoJSON","multi","holes","toMultiPoint","isGeometryCollection","jsons","json","ImageOverlay","crossOrigin","errorOverlayUrl","url","_url","_image","_initImage","styleOpts","setUrl","setBounds","zoomanim","wasElementSupplied","onselectstart","onmousemove","onload","onerror","_overlayOnError","image","errorUrl","VideoOverlay","autoplay","loop","keepAspectRatio","muted","vid","onloadeddata","sourceElements","getElementsByTagName","sources","source","SVGOverlay","DivOverlay","_source","_removeTimeout","getContent","_content","setContent","content","visibility","_updateContent","_updateLayout","isOpen","_prepareOpen","node","_contentNode","hasChildNodes","_getAnchor","_containerBottom","_containerLeft","_containerWidth","Popup","minWidth","maxHeight","autoPanPaddingTopLeft","autoPanPaddingBottomRight","keepInView","closeButton","autoClose","closeOnEscapeKey","openOn","openPopup","popup","closeOnClick","closePopupOnClick","preclick","_close","moveend","wrapper","_wrapper","_tipContainer","_tip","_closeButton","_onCloseButtonClick","whiteSpace","scrolledClass","marginBottom","containerHeight","containerWidth","layerPos","containerPos","_popupHandlersAdded","click","_openPopup","keypress","_onKeyPress","move","_movePopup","unbindPopup","togglePopup","isPopupOpen","setPopupContent","getPopup","keyCode","Tooltip","direction","permanent","sticky","tooltip","closeTooltip","_setPosition","subX","subY","tooltipPoint","tooltipWidth","tooltipHeight","openTooltip","bindTooltip","_tooltip","_initTooltipInteractions","unbindTooltip","_tooltipHandlersAdded","_moveTooltip","_openTooltip","mousemove","toggleTooltip","isTooltipOpen","setTooltipContent","getTooltip","DivIcon","bgPos","Element","backgroundPosition","divIcon","Default","GridLayer","tileSize","updateWhenZooming","updateInterval","maxNativeZoom","minNativeZoom","noWrap","keepBuffer","_levels","_tiles","_removeAllTiles","_tileZoom","_setAutoZIndex","isLoading","_loading","viewprereset","_invalidateAll","createTile","getTileSize","compare","children","edgeZIndex","isFinite","nextFrame","willPrune","tile","current","loaded","fade","active","_onOpaqueTile","_noPrune","_pruneTiles","_fadeFrame","_updateLevels","Number","_onUpdateLevel","_removeTilesAtZoom","_onRemoveLevel","level","_setZoomTransform","_onCreateLevel","_level","retain","_retainParent","_retainChildren","_removeTile","x2","y2","z2","coords2","_tileCoordsToKey","animating","_setView","_clampZoom","noPrune","tileZoom","tileZoomChanged","_abortLoading","_resetGrid","_setZoomTransforms","translate","_tileSize","_globalTileRange","_pxBoundsToTileRange","_wrapX","_wrapY","_getTiledPixelBounds","mapZoom","halfSize","tileRange","tileCenter","queue","noPruneRange","_isValidTile","fragment","createDocumentFragment","_addTile","tileBounds","_tileCoordsToBounds","_keyToBounds","_keyToTileCoords","_tileCoordsToNwSe","nwPoint","sePoint","bp","_initTile","WebkitBackfaceVisibility","tilePos","_getTilePos","_wrapCoords","_tileReady","_noTilesToLoad","newCoords","TileLayer","subdomains","errorTileUrl","zoomOffset","tms","zoomReverse","detectRetina","_onTileRemove","noRedraw","done","_tileOnLoad","_tileOnError","getTileUrl","_getSubdomain","_getZoomForUrl","invertedY","getAttribute","tilePoint","complete","tileLayer","TileLayerWMS","defaultWmsParams","service","request","styles","format","transparent","version","wmsParams","realRetina","_crs","_wmsVersion","parseFloat","projectionKey","bbox","setParams","tileLayerWMS","WMS","wms","Renderer","_updatePaths","_destroyContainer","_onZoom","zoomend","_onZoomEnd","_onAnimZoom","ev","_updateTransform","currentCenterPoint","_center","destCenterPoint","topLeftOffset","Canvas","_onViewPreReset","_postponeUpdatePaths","_draw","_onMouseMove","_onClick","_handleMouseOut","_ctx","_redrawRequest","_redrawBounds","_redraw","m","_updateDashArray","order","_order","_drawLast","next","_drawFirst","_requestRedraw","_extendRedrawBounds","dashValue","_dashArray","_clear","clearRect","save","restore","beginPath","clip","_drawing","closePath","_fillStroke","arc","globalAlpha","fillStyle","setLineDash","lineWidth","strokeStyle","clickedLayer","_fireEvent","moving","_handleMouseHover","_hoveredLayer","_mouseHoverThrottled","candidateHoveredLayer","canvas$1","vmlCreate","namespaces","vmlMixin","coordsize","_stroke","_fill","stroked","filled","dashStyle","endcap","joinstyle","_setPath","create$2","SVG","zoomstart","_onZoomStart","_rootGroup","_svgSize","removeAttribute","svg$1","_getPaneRenderer","_createRenderer","preferCanvas","Rectangle","_boundsToLatLngs","BoxZoom","_pane","overlayPane","_resetStateTimeout","_destroy","_onMouseDown","_resetState","_clearDeferredResetState","contextmenu","mouseup","_onMouseUp","keydown","_onKeyDown","_box","_finish","boxZoomBounds","doubleClickZoom","DoubleClickZoom","_onDoubleClick","inertia","inertiaDeceleration","inertiaMaxSpeed","worldCopyJump","maxBoundsViscosity","Drag","_onPreDragLimit","_onPreDragWrap","_positions","_times","_offsetLimit","_viscosity","_lastTime","_lastPos","_absPos","_prunePositions","shift","pxCenter","pxWorldCenter","_initialWorldOffset","_worldWidth","_viscousLimit","threshold","limit","worldWidth","halfWidth","newX1","newX2","newX","noInertia","ease","speedVector","limitedSpeed","limitedSpeedVector","decelerationDuration","keyboardPanDelta","Keyboard","keyCodes","down","up","_setPanDelta","_setZoomDelta","_onFocus","blur","_onBlur","_addHooks","_removeHooks","_focused","docEl","scrollTo","panDelta","keys","_panKeys","codes","_zoomKeys","altKey","ctrlKey","metaKey","scrollWheelZoom","wheelDebounceTime","wheelPxPerZoomLevel","ScrollWheelZoom","_onWheelScroll","_delta","debounce","_lastMousePos","_timer","_performZoom","d2","d3","d4","tap","tapTolerance","Tap","_fireClick","_holdTimeout","_isTapValid","_simulateEvent","touchmove","simulatedEvent","createEvent","_simulatedClick","initMouseEvent","dispatchEvent","touchZoom","bounceAtZoomLimits","TouchZoom","_onTouchStart","_zooming","_centerPoint","_startLatLng","_pinchStartLatLng","_startDist","_startZoom","_onTouchMove","_onTouchEnd","moveFn","parseCoords","coord","regExp","tryParseGeoJson","geoObject","JSON","parse","hasType","hasGeography","IsLayersArray"],"sourceRoot":"webpack:///"}